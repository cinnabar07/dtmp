{"version":3,"file":"overrides.spec.js","names":["description","makeTestGroup","GPUTest","F","ExpectShaderOutputWithConstants","isAsync","format","expected","vertex","fragment","renderTarget","createTextureTracked","size","width","height","depthOrArrayLayers","usage","GPUTextureUsage","COPY_SRC","RENDER_ATTACHMENT","descriptor","layout","primitive","topology","frontFace","cullMode","promise","device","createRenderPipelineAsync","Promise","resolve","createRenderPipeline","pipeline","encoder","globalThis","_TRAMPOLINE_","createCommandEncoder","pass","beginRenderPass","colorAttachments","view","createView","clearValue","r","kClearValueResult","R","g","G","b","B","a","A","loadOp","storeOp","setPipeline","draw","end","queue","submit","finish","expectSingleColor","exp","kDefaultValueResult","kFullScreenTriangleVertexShader","kFullScreenTriangleFragmentShader","test","desc","params","u","combine","beginSubcases","combineWithParams","vertexConstants","fragmentConstants","xright","ytop","fn","t","module","createShaderModule","code","entryPoint","constants","targets","expected0","vertexConstants0","fragmentConstants0","expected1","vertexConstants1","fragmentConstants1","vertexModule","fragmentModule","createPipelineFn","pipeline0","pipeline1","renderTarget0","renderTarget1","pass0","pass1","C","D"],"sources":["../../../../../src/webgpu/api/operation/render_pipeline/overrides.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nTesting render pipeline using overridable constants in vertex stage and fragment stage.\n`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../gpu_test.js';\n\n\nclass F extends GPUTest {\n  async ExpectShaderOutputWithConstants(\n  isAsync,\n  format,\n  expected,\n  vertex,\n  fragment)\n  {\n    const renderTarget = this.createTextureTracked({\n      format,\n      size: { width: 1, height: 1, depthOrArrayLayers: 1 },\n      usage: GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT\n    });\n\n    const descriptor = {\n      layout: 'auto',\n      vertex,\n      fragment,\n      primitive: {\n        topology: 'triangle-list',\n        frontFace: 'ccw',\n        cullMode: 'back'\n      }\n    };\n\n    const promise = isAsync ?\n    this.device.createRenderPipelineAsync(descriptor) :\n    Promise.resolve(this.device.createRenderPipeline(descriptor));\n\n    const pipeline = await promise;\n    const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", this.device, this.device.createCommandEncoder, [], () => this.device.createCommandEncoder());\n    const pass = encoder.beginRenderPass({\n      colorAttachments: [\n      {\n        view: renderTarget.createView(),\n        clearValue: {\n          r: kClearValueResult.R,\n          g: kClearValueResult.G,\n          b: kClearValueResult.B,\n          a: kClearValueResult.A\n        },\n        loadOp: 'clear',\n        storeOp: 'store'\n      }]\n\n    });\n    pass.setPipeline(pipeline);\n    pass.draw(3);\n    pass.end();\n    globalThis._TRAMPOLINE_(\"submit\", this.device, this.device.queue.submit, [[encoder.finish()]], () => this.device.queue.submit([encoder.finish()]));\n\n    this.expectSingleColor(renderTarget, format, {\n      size: [1, 1, 1],\n      exp: expected\n    });\n  }\n}\n\nexport const g = makeTestGroup(F);\n\nconst kClearValueResult = { R: 0.2, G: 0.4, B: 0.6, A: 0.8 };\nconst kDefaultValueResult = { R: 1.0, G: 1.0, B: 1.0, A: 1.0 };\n\nconst kFullScreenTriangleVertexShader = `\noverride xright: f32 = 3.0;\noverride ytop: f32 = 3.0;\n\n@vertex fn main(\n    @builtin(vertex_index) VertexIndex : u32\n    ) -> @builtin(position) vec4<f32> {\n    var pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n        vec2<f32>(-1.0,  ytop),\n        vec2<f32>(-1.0,  -ytop),\n        vec2<f32>(xright, 0.0));\n    return vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n}\n`;\n\nconst kFullScreenTriangleFragmentShader = `\noverride R: f32 = 1.0;\noverride G: f32 = 1.0;\noverride B: f32 = 1.0;\noverride A: f32 = 1.0;\n\n@fragment fn main()\n    -> @location(0) vec4<f32> {\n    return vec4<f32>(R, G, B, A);\n}\n`;\n\ng.test('basic').\ndesc(\n  `Test that either correct constants override values or default values when no constants override value are provided at pipeline creation time are used correctly in vertex and fragment shader.`\n).\nparams((u) =>\nu.\ncombine('isAsync', [true, false]).\nbeginSubcases().\ncombineWithParams([\n{\n  expected: kDefaultValueResult,\n  vertexConstants: {},\n  fragmentConstants: {}\n},\n{\n  expected: kClearValueResult,\n  vertexConstants: {\n    xright: -3.0\n  },\n  fragmentConstants: {}\n},\n{\n  expected: kClearValueResult,\n  vertexConstants: {\n    ytop: -3.0\n  },\n  fragmentConstants: {}\n},\n{\n  expected: kDefaultValueResult,\n  vertexConstants: {\n    xright: 4.0,\n    ytop: 4.0\n  },\n  fragmentConstants: {}\n},\n{\n  expected: { R: 0.0, G: 1.0, B: 0.0, A: 1.0 },\n  vertexConstants: {},\n  fragmentConstants: { R: 0.0, B: 0.0 }\n},\n{\n  expected: { R: 0.0, G: 0.0, B: 0.0, A: 0.0 },\n  vertexConstants: {},\n  fragmentConstants: { R: 0.0, G: 0.0, B: 0.0, A: 0.0 }\n\n\n\n}]\n)\n).\nfn(async (t) => {\n  const format = 'bgra8unorm';\n  await t.ExpectShaderOutputWithConstants(\n    t.params.isAsync,\n    format,\n    t.params.expected,\n    {\n      module: t.device.createShaderModule({\n        code: kFullScreenTriangleVertexShader\n      }),\n      entryPoint: 'main',\n      constants: t.params.vertexConstants\n    },\n    {\n      module: t.device.createShaderModule({\n        code: kFullScreenTriangleFragmentShader\n      }),\n      entryPoint: 'main',\n      constants: t.params.fragmentConstants,\n      targets: [{ format }]\n    }\n  );\n});\n\ng.test('precision').\ndesc(`Test that the float number precision is preserved for constants`).\nparams((u) =>\nu.\ncombine('isAsync', [true, false]).\nbeginSubcases().\ncombineWithParams([\n{\n  expected: { R: 3.14159, G: 1.0, B: 1.0, A: 1.0 },\n  vertexConstants: {},\n  fragmentConstants: { R: 3.14159 }\n},\n{\n  expected: { R: 3.141592653589793, G: 1.0, B: 1.0, A: 1.0 },\n  vertexConstants: {},\n  fragmentConstants: { R: 3.141592653589793 }\n}]\n)\n).\nfn(async (t) => {\n  const format = 'rgba32float';\n  await t.ExpectShaderOutputWithConstants(\n    t.params.isAsync,\n    format,\n    t.params.expected,\n    {\n      module: t.device.createShaderModule({\n        code: kFullScreenTriangleVertexShader\n      }),\n      entryPoint: 'main',\n      constants: t.params.vertexConstants\n    },\n    {\n      module: t.device.createShaderModule({\n        code: kFullScreenTriangleFragmentShader\n      }),\n      entryPoint: 'main',\n      constants: t.params.fragmentConstants,\n      targets: [{ format }]\n    }\n  );\n});\n\ng.test('shared_shader_module').\ndesc(\n  `Test that when the same module is shared by different pipelines, the constant values are still being used correctly.`\n).\nparams((u) =>\nu.\ncombine('isAsync', [true, false]).\nbeginSubcases().\ncombineWithParams([\n{\n  expected0: kClearValueResult,\n  vertexConstants0: {\n    xright: -3.0\n  },\n  fragmentConstants0: {},\n\n  expected1: kDefaultValueResult,\n  vertexConstants1: {},\n  fragmentConstants1: {}\n},\n{\n  expected0: { R: 0.0, G: 0.0, B: 0.0, A: 0.0 },\n  vertexConstants0: {},\n  fragmentConstants0: { R: 0.0, G: 0.0, B: 0.0, A: 0.0 },\n\n\n\n\n  expected1: kDefaultValueResult,\n  vertexConstants1: {},\n  fragmentConstants1: {}\n},\n{\n  expected0: { R: 1.0, G: 0.0, B: 1.0, A: 0.0 },\n  vertexConstants0: {},\n  fragmentConstants0: { R: 1.0, G: 0.0, B: 1.0, A: 0.0 },\n\n\n\n\n  expected1: { R: 0.0, G: 1.0, B: 0.0, A: 1.0 },\n  vertexConstants1: {},\n  fragmentConstants1: { R: 0.0, G: 1.0, B: 0.0, A: 1.0 }\n\n\n\n}]\n)\n).\nfn(async (t) => {\n  const format = 'bgra8unorm';\n  const vertexModule = t.device.createShaderModule({\n    code: kFullScreenTriangleVertexShader\n  });\n\n  const fragmentModule = t.device.createShaderModule({\n    code: kFullScreenTriangleFragmentShader\n  });\n\n  const createPipelineFn = async (\n  vertexConstants,\n  fragmentConstants) =>\n  {\n    const descriptor = {\n      layout: 'auto',\n      vertex: {\n        module: vertexModule,\n        entryPoint: 'main',\n        constants: vertexConstants\n      },\n      fragment: {\n        module: fragmentModule,\n        entryPoint: 'main',\n        targets: [{ format }],\n        constants: fragmentConstants\n      },\n      primitive: {\n        topology: 'triangle-list',\n        frontFace: 'ccw',\n        cullMode: 'back'\n      }\n    };\n\n    return t.params.isAsync ?\n    t.device.createRenderPipelineAsync(descriptor) :\n    t.device.createRenderPipeline(descriptor);\n  };\n\n  const pipeline0 = await createPipelineFn(\n    t.params.vertexConstants0,\n    t.params.fragmentConstants0\n  );\n  const pipeline1 = await createPipelineFn(\n    t.params.vertexConstants1,\n    t.params.fragmentConstants1\n  );\n\n  const renderTarget0 = t.createTextureTracked({\n    format,\n    size: { width: 1, height: 1, depthOrArrayLayers: 1 },\n    usage: GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT\n  });\n  const renderTarget1 = t.createTextureTracked({\n    format,\n    size: { width: 1, height: 1, depthOrArrayLayers: 1 },\n    usage: GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT\n  });\n\n  const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", t.device, t.device.createCommandEncoder, [], () => t.device.createCommandEncoder());\n\n  const pass0 = encoder.beginRenderPass({\n    colorAttachments: [\n    {\n      view: renderTarget0.createView(),\n      clearValue: {\n        r: kClearValueResult.R,\n        g: kClearValueResult.G,\n        b: kClearValueResult.B,\n        a: kClearValueResult.A\n      },\n      loadOp: 'clear',\n      storeOp: 'store'\n    }]\n\n  });\n  pass0.setPipeline(pipeline0);\n  pass0.draw(3);\n  pass0.end();\n\n  const pass1 = encoder.beginRenderPass({\n    colorAttachments: [\n    {\n      view: renderTarget1.createView(),\n      clearValue: {\n        r: kClearValueResult.R,\n        g: kClearValueResult.G,\n        b: kClearValueResult.B,\n        a: kClearValueResult.A\n      },\n      loadOp: 'clear',\n      storeOp: 'store'\n    }]\n\n  });\n  pass1.setPipeline(pipeline1);\n  pass1.draw(3);\n  pass1.end();\n\n  globalThis._TRAMPOLINE_(\"submit\", t.device, t.device.queue.submit, [[encoder.finish()]], () => t.device.queue.submit([encoder.finish()]));\n\n  t.expectSingleColor(renderTarget0, format, {\n    size: [1, 1, 1],\n    exp: t.params.expected0\n  });\n  t.expectSingleColor(renderTarget1, format, {\n    size: [1, 1, 1],\n    exp: t.params.expected1\n  });\n});\n\ng.test('multi_entry_points').\ndesc(\n  `Test that when the same module is shared by vertex and fragment shader, the constant values are still being used correctly.`\n).\nparams((u) =>\nu.\ncombine('isAsync', [true, false]).\nbeginSubcases().\ncombineWithParams([\n{\n  expected: { R: 0.8, G: 0.4, B: 0.2, A: 1.0 },\n  vertexConstants: { A: 4.0, B: 4.0 },\n  fragmentConstants: { A: 0.8, B: 0.4, C: 0.2, D: 1.0 }\n\n\n\n},\n{\n  expected: { R: 0.8, G: 0.4, B: 0.2, A: 1.0 },\n  vertexConstants: {},\n  fragmentConstants: { A: 0.8, B: 0.4, C: 0.2, D: 1.0 }\n\n\n\n},\n{\n  expected: kClearValueResult,\n  vertexConstants: { A: -3.0 },\n  fragmentConstants: { A: 0.8, B: 0.4, C: 0.2, D: 1.0 }\n\n\n\n}]\n)\n).\nfn(async (t) => {\n  const format = 'bgra8unorm';\n  const module = t.device.createShaderModule({\n    code: `\n      override A: f32 = 3.0;\n      override B: f32 = 3.0;\n      override C: f32;\n      override D: f32;\n\n      @vertex fn vertexMain(\n          @builtin(vertex_index) VertexIndex : u32\n          ) -> @builtin(position) vec4<f32> {\n          var pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n              vec2<f32>(-1.0,  A),\n              vec2<f32>(-1.0,  -A),\n              vec2<f32>(B, 0.0));\n          return vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n      }\n\n      @fragment fn fragmentMain()\n          -> @location(0) vec4<f32> {\n          return vec4<f32>(A, B, C, D);\n      }\n      `\n  });\n  await t.ExpectShaderOutputWithConstants(\n    t.params.isAsync,\n    format,\n    t.params.expected,\n    {\n      module,\n      entryPoint: 'vertexMain',\n      constants: t.params.vertexConstants\n    },\n    {\n      module,\n      entryPoint: 'fragmentMain',\n      constants: t.params.fragmentConstants,\n      targets: [{ format }]\n    }\n  );\n});"],"mappings":"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","ignoreList":[]}