{"version":3,"file":"texture.spec.js","names":["description","makeTestGroup","unreachable","ValidationTest","g","test","desc","paramsSubcasesOnly","u","combine","fn","t","destroyed","params","texture","createTextureTracked","size","format","usage","GPUTextureUsage","COPY_DST","globalThis","_TRAMPOLINE_","destroy","expectValidationError","queue","writeTexture","Uint8Array","bytesPerRow","src","COPY_SRC","dst","encoder","device","createCommandEncoder","copyTextureToTexture","commandBuffer","finish","shouldError","submit","buffer","createBufferTracked","GPUBufferUsage","copyBufferToTexture","copyTextureToBuffer","encoderType","bindingType","TEXTURE_BINDING","STORAGE_BINDING","layout","createBindGroupLayout","entries","binding","visibility","GPUShaderStage","COMPUTE","bindGroup","createBindGroup","resource","createView","createEncoder","setBindGroup","textureToDestroy","colorAttachment","sampleCount","RENDER_ATTACHMENT","resolveAttachment","depthStencilAttachment","pass","beginRenderPass","colorAttachments","view","resolveTarget","loadOp","storeOp","depthClearValue","depthLoadOp","depthStoreOp","end"],"sources":["../../../../../../src/webgpu/api/validation/queue/destroyed/texture.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nTests using a destroyed texture on a queue.\n`;import { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { unreachable } from '../../../../../common/util/util.js';\nimport { ValidationTest } from '../../validation_test.js';\n\nexport const g = makeTestGroup(ValidationTest);\n\ng.test('writeTexture').\ndesc(\n  `\nTests that using a destroyed texture in writeTexture fails.\n- x= {destroyed, not destroyed (control case)}\n  `\n).\nparamsSubcasesOnly((u) => u.combine('destroyed', [false, true])).\nfn((t) => {\n  const { destroyed } = t.params;\n  const texture = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.COPY_DST\n  });\n\n  if (destroyed) {\n    globalThis._TRAMPOLINE_(\"destroy\", texture, texture.destroy, [], () => texture.destroy());\n  }\n\n  t.expectValidationError(\n    () => t.queue.writeTexture({ texture }, new Uint8Array(4), { bytesPerRow: 4 }, [1, 1, 1]),\n    destroyed\n  );\n});\n\ng.test('copyTextureToTexture').\ndesc(\n  `\nTests that using a destroyed texture in copyTextureToTexture fails.\n- x= {not destroyed (control case), src destroyed, dst destroyed}\n  `\n).\nparamsSubcasesOnly((u) => u.combine('destroyed', ['none', 'src', 'dst', 'both'])).\nfn((t) => {\n  const src = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.COPY_SRC\n  });\n  const dst = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.COPY_DST\n  });\n\n  const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", t.device, t.device.createCommandEncoder, [], () => t.device.createCommandEncoder());\n  encoder.copyTextureToTexture({ texture: src }, { texture: dst }, [1, 1, 1]);\n  const commandBuffer = encoder.finish();\n\n  let shouldError = true;\n  switch (t.params.destroyed) {\n    case 'none':\n      shouldError = false;\n      break;\n    case 'src':\n      globalThis._TRAMPOLINE_(\"destroy\", src, src.destroy, [], () => src.destroy());\n      break;\n    case 'dst':\n      globalThis._TRAMPOLINE_(\"destroy\", dst, dst.destroy, [], () => dst.destroy());\n      break;\n    case 'both':\n      globalThis._TRAMPOLINE_(\"destroy\", src, src.destroy, [], () => src.destroy());\n      globalThis._TRAMPOLINE_(\"destroy\", dst, dst.destroy, [], () => dst.destroy());\n      break;\n  }\n\n  t.expectValidationError(() => {\n    globalThis._TRAMPOLINE_(\"submit\", t, t.queue.submit, [[commandBuffer]], () => t.queue.submit([commandBuffer]));\n  }, shouldError);\n});\n\ng.test('copyBufferToTexture').\ndesc(\n  `\nTests that using a destroyed texture in copyBufferToTexture fails.\n- x= {not destroyed (control case), dst destroyed}\n  `\n).\nparamsSubcasesOnly((u) => u.combine('destroyed', [false, true])).\nfn((t) => {\n  const { destroyed } = t.params;\n  const buffer = t.createBufferTracked({ size: 4, usage: GPUBufferUsage.COPY_SRC });\n  const texture = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.COPY_DST\n  });\n\n  const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", t.device, t.device.createCommandEncoder, [], () => t.device.createCommandEncoder());\n  encoder.copyBufferToTexture({ buffer }, { texture }, [1, 1, 1]);\n  const commandBuffer = encoder.finish();\n\n  if (destroyed) {\n    globalThis._TRAMPOLINE_(\"destroy\", texture, texture.destroy, [], () => texture.destroy());\n  }\n\n  t.expectValidationError(() => {\n    globalThis._TRAMPOLINE_(\"submit\", t, t.queue.submit, [[commandBuffer]], () => t.queue.submit([commandBuffer]));\n  }, destroyed);\n});\n\ng.test('copyTextureToBuffer').\ndesc(\n  `\nTests that using a destroyed texture in copyTextureToBuffer fails.\n- x= {not destroyed (control case), src destroyed}\n  `\n).\nparamsSubcasesOnly((u) => u.combine('destroyed', [false, true])).\nfn((t) => {\n  const { destroyed } = t.params;\n  const texture = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.COPY_SRC\n  });\n  const buffer = t.createBufferTracked({ size: 4, usage: GPUBufferUsage.COPY_DST });\n\n  const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", t.device, t.device.createCommandEncoder, [], () => t.device.createCommandEncoder());\n  encoder.copyTextureToBuffer({ texture }, { buffer }, [1, 1, 1]);\n  const commandBuffer = encoder.finish();\n\n  if (destroyed) {\n    globalThis._TRAMPOLINE_(\"destroy\", texture, texture.destroy, [], () => texture.destroy());\n  }\n\n  t.expectValidationError(() => {\n    globalThis._TRAMPOLINE_(\"submit\", t, t.queue.submit, [[commandBuffer]], () => t.queue.submit([commandBuffer]));\n  }, destroyed);\n});\n\ng.test('setBindGroup').\ndesc(\n  `\nTests that using a destroyed texture referenced by a bindGroup set with setBindGroup fails\n- x= {not destroyed (control case), destroyed}\n    `\n).\nparamsSubcasesOnly((u) =>\nu.\ncombine('destroyed', [false, true]).\ncombine('encoderType', ['compute pass', 'render pass', 'render bundle']).\ncombine('bindingType', ['texture', 'storageTexture'])\n).\nfn((t) => {\n  const { destroyed, encoderType, bindingType } = t.params;\n  const { device } = t;\n  const texture = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.STORAGE_BINDING\n  });\n\n  const layout = device.createBindGroupLayout({\n    entries: [\n    {\n      binding: 0,\n      visibility: GPUShaderStage.COMPUTE,\n      [bindingType]: {\n        format: texture.format\n      }\n    }]\n\n  });\n\n  const bindGroup = device.createBindGroup({\n    layout,\n    entries: [{ binding: 0, resource: texture.createView() }]\n  });\n\n  const { encoder, finish } = t.createEncoder(encoderType);\n  encoder.setBindGroup(0, bindGroup);\n  const commandBuffer = finish();\n\n  if (destroyed) {\n    globalThis._TRAMPOLINE_(\"destroy\", texture, texture.destroy, [], () => texture.destroy());\n  }\n\n  t.expectValidationError(() => {\n    globalThis._TRAMPOLINE_(\"submit\", t, t.queue.submit, [[commandBuffer]], () => t.queue.submit([commandBuffer]));\n  }, destroyed);\n});\n\ng.test('beginRenderPass').\ndesc(\n  `\nTests that using a destroyed texture referenced by a render pass fails\n- x= {not destroyed (control case), colorAttachment destroyed, depthAttachment destroyed, resolveTarget destroyed}\n    `\n).\nparamsSubcasesOnly((u) =>\nu.combine('textureToDestroy', [\n'none',\n'colorAttachment',\n'resolveAttachment',\n'depthStencilAttachment']\n)\n).\nfn((t) => {\n  const { textureToDestroy } = t.params;\n  const { device } = t;\n\n  const colorAttachment = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    sampleCount: 4,\n    usage: GPUTextureUsage.RENDER_ATTACHMENT\n  });\n\n  const resolveAttachment = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'rgba8unorm',\n    usage: GPUTextureUsage.RENDER_ATTACHMENT\n  });\n\n  const depthStencilAttachment = t.createTextureTracked({\n    size: [1, 1, 1],\n    format: 'depth32float',\n    sampleCount: 4,\n    usage: GPUTextureUsage.RENDER_ATTACHMENT\n  });\n\n  const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", device, device.createCommandEncoder, [], () => device.createCommandEncoder());\n  const pass = encoder.beginRenderPass({\n    colorAttachments: [\n    {\n      view: colorAttachment.createView(),\n      resolveTarget: resolveAttachment.createView(),\n      loadOp: 'clear',\n      storeOp: 'store'\n    }],\n\n    depthStencilAttachment: {\n      view: depthStencilAttachment.createView(),\n      depthClearValue: 0,\n      depthLoadOp: 'clear',\n      depthStoreOp: 'store'\n    }\n  });\n  pass.end();\n  const commandBuffer = encoder.finish();\n\n  switch (textureToDestroy) {\n    case 'none':\n      break;\n    case 'colorAttachment':\n      globalThis._TRAMPOLINE_(\"destroy\", colorAttachment, colorAttachment.destroy, [], () => colorAttachment.destroy());\n      break;\n    case 'resolveAttachment':\n      globalThis._TRAMPOLINE_(\"destroy\", resolveAttachment, resolveAttachment.destroy, [], () => resolveAttachment.destroy());\n      break;\n    case 'depthStencilAttachment':\n      globalThis._TRAMPOLINE_(\"destroy\", depthStencilAttachment, depthStencilAttachment.destroy, [], () => depthStencilAttachment.destroy());\n      break;\n    default:\n      unreachable();\n  }\n\n  const shouldError = textureToDestroy !== 'none';\n\n  t.expectValidationError(() => {\n    globalThis._TRAMPOLINE_(\"submit\", t, t.queue.submit, [[commandBuffer]], () => t.queue.submit([commandBuffer]));\n  }, shouldError);\n});"],"mappings":"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","ignoreList":[]}