{"version":3,"file":"destroy.spec.js","names":["description","makeTestGroup","ValidationTest","g","test","fn","t","qset","createQuerySetTracked","type","count","globalThis","_TRAMPOLINE_","destroy","desc","device","pushErrorScope","invalidQuerySet","error","popErrorScope","expect"],"sources":["../../../../../src/webgpu/api/validation/query_set/destroy.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nDestroying a query set more than once is allowed.\n`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { ValidationTest } from '../validation_test.js';\n\nexport const g = makeTestGroup(ValidationTest);\n\ng.test('twice').fn((t) => {\n  const qset = t.createQuerySetTracked({ type: 'occlusion', count: 1 });\n\n  globalThis._TRAMPOLINE_(\"destroy\", qset, qset.destroy, [], () => qset.destroy());\n  globalThis._TRAMPOLINE_(\"destroy\", qset, qset.destroy, [], () => qset.destroy());\n});\n\ng.test('invalid_queryset').\ndesc('Test that invalid querysets may be destroyed without generating validation errors.').\nfn(async (t) => {\n  t.device.pushErrorScope('validation');\n\n  const invalidQuerySet = t.createQuerySetTracked({\n    type: 'occlusion',\n    count: 4097 // 4096 is the limit\n  });\n\n  // Expect error because it's invalid.\n  const error = await t.device.popErrorScope();\n  t.expect(!!error);\n\n  // This line should not generate an error\n  globalThis._TRAMPOLINE_(\"destroy\", invalidQuerySet, invalidQuerySet.destroy, [], () => invalidQuerySet.destroy());\n});"],"mappings":";;IAAA;AACA;AACA,GAAG,OAAO,MAAMA,WAAW,GAAG;AAC9B;AACA,CAAC,CAAC,SAASC,aAAa,QAAQ,4CAA4C,CAC5E,SAASC,cAAc,QAAQ,uBAAuB;AAEtD,OAAO,MAAMC,CAAC,GAAGF,aAAa,CAACC,cAAc,CAAC;;AAE9CC,CAAC,CAACC,IAAI,CAAC,OAAO,CAAC,CAACC,EAAE,CAAC,CAACC,CAAC,KAAK;EACxB,MAAMC,IAAI,GAAGD,CAAC,CAACE,qBAAqB,CAAC,EAAEC,IAAI,EAAE,WAAW,EAAEC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;;EAErEC,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEL,IAAI,EAAEA,IAAI,CAACM,OAAO,EAAE,EAAE,EAAE,MAAAF,UAAA,CAAAC,YAAA,YAAML,IAAI,EAAJA,IAAI,CAAAM,OAAA,YAAJN,IAAI,CAACM,OAAO,GAAE,CAAC;EAChFF,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEL,IAAI,EAAEA,IAAI,CAACM,OAAO,EAAE,EAAE,EAAE,MAAAF,UAAA,CAAAC,YAAA,YAAML,IAAI,EAAJA,IAAI,CAAAM,OAAA,YAAJN,IAAI,CAACM,OAAO,GAAE,CAAC;AAClF,CAAC,CAAC;;AAEFV,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC;AAC1BU,IAAI,CAAC,oFAAoF,CAAC;AAC1FT,EAAE,CAAC,OAAOC,CAAC,KAAK;EACdA,CAAC,CAACS,MAAM,CAACC,cAAc,CAAC,YAAY,CAAC;;EAErC,MAAMC,eAAe,GAAGX,CAAC,CAACE,qBAAqB,CAAC;IAC9CC,IAAI,EAAE,WAAW;IACjBC,KAAK,EAAE,IAAI,CAAC;EACd,CAAC,CAAC;;EAEF;EACA,MAAMQ,KAAK,GAAG,MAAMZ,CAAC,CAACS,MAAM,CAACI,aAAa,CAAC,CAAC;EAC5Cb,CAAC,CAACc,MAAM,CAAC,CAAC,CAACF,KAAK,CAAC;;EAEjB;EACAP,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEK,eAAe,EAAEA,eAAe,CAACJ,OAAO,EAAE,EAAE,EAAE,MAAAF,UAAA,CAAAC,YAAA,YAAMK,eAAe,EAAfA,eAAe,CAAAJ,OAAA,YAAfI,eAAe,CAACJ,OAAO,GAAE,CAAC;AACnH,CAAC,CAAC","ignoreList":[]}