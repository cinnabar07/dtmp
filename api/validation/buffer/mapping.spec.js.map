{"version":3,"file":"mapping.spec.js","names":["description","makeTestGroup","attemptGarbageCollection","assert","unreachable","kBufferUsages","GPUConst","ValidationTest","F","testMapAsyncCall","expectation","buffer","mode","offset","size","p","globalThis","_TRAMPOLINE_","mapAsync","expectValidationError","validationError","caught","rejectedEarly","microtaskBRan","catch","queueMicrotask","then","ex","suffix","expect","Error","stack","rejectName","name","earlyRejection","testGetMappedRangeCall","success","data","getMappedRange","ArrayBuffer","undefined","byteLength","shouldThrow","createMappableBuffer","type","GPUMapMode","READ","createBufferTracked","usage","GPUBufferUsage","MAP_READ","WRITE","MAP_WRITE","g","kMapModeOptions","MapMode","kOffsetAlignment","kSizeAlignment","test","desc","paramsSubcasesOnly","u","combineWithParams","mapMode","validUsage","BufferUsage","combine","fn","t","params","successParam","getErrorBuffer","pending","destroy","mappedAtCreation","unmap","pending0","pending1","bufferSize","offset2","mapSize","offset1","p1","unmapBeforeResolve","bufferUsage","expectGPUError","subrangeSize","data0","data1","COPY_DST","mapping0","mapping1","beginSubcases","mapOffset","actualOffset","actualSize","actualMapOffset","actualMapSize","size1","size2","remapBetweenCalls","range1StartsAfter2","range2StartsAfter1","disjoint","kStride","kNumStrides","stride","contents","Uint32Array","i","length"],"sources":["../../../../../src/webgpu/api/validation/buffer/mapping.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nValidation tests for GPUBuffer.mapAsync, GPUBuffer.unmap and GPUBuffer.getMappedRange.\n`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { attemptGarbageCollection } from '../../../../common/util/collect_garbage.js';\nimport { assert, unreachable } from '../../../../common/util/util.js';\nimport { kBufferUsages } from '../../../capability_info.js';\nimport { GPUConst } from '../../../constants.js';\nimport { ValidationTest } from '../validation_test.js';\n\nclass F extends ValidationTest {\n  async testMapAsyncCall(\n  expectation,\n\n\n  buffer,\n  mode,\n  offset,\n  size)\n  {\n    if (expectation === 'success') {\n      const p = globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mode, offset, size], () => buffer.mapAsync(mode, offset, size));\n      await p;\n    } else {\n      let p;\n      this.expectValidationError(() => {\n        p = globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mode, offset, size], () => buffer.mapAsync(mode, offset, size));\n      }, expectation.validationError);\n\n      let caught = false;\n      let rejectedEarly = false;\n      let microtaskBRan = false;\n      // If mapAsync rejected early, microtask A will run before B.\n      // If not, B will run before A.\n      p.catch(() => {\n        // Microtask A\n        caught = true;\n      });\n      queueMicrotask(() => {\n        // Microtask B\n        rejectedEarly = caught;\n        microtaskBRan = true;\n      });\n\n      // These handlers should always run after microtasks A and B are both done.\n      await p.then(\n        () => {\n          unreachable('mapAsync unexpectedly passed');\n        },\n        (ex) => {\n          const suffix = `\\n  Rejection: ${ex}`;\n\n          this.expect(microtaskBRan, 'scheduling problem?: microtaskB has not run yet' + suffix);\n          assert(ex instanceof Error, 'mapAsync rejected with non-error' + suffix);\n          this.expect(typeof ex.stack === 'string', 'mapAsync rejected without a stack' + suffix);\n          this.expect(\n            expectation.rejectName === ex.name,\n            'mapAsync rejected with wrong exception name' + suffix\n          );\n          if (expectation.earlyRejection) {\n            this.expect(rejectedEarly, 'expected early mapAsync rejection, got deferred' + suffix);\n          } else {\n            this.expect(!rejectedEarly, 'expected deferred mapAsync rejection, got early' + suffix);\n          }\n        }\n      );\n    }\n  }\n\n  testGetMappedRangeCall(success, buffer, offset, size) {\n    if (success) {\n      const data = buffer.getMappedRange(offset, size);\n      this.expect(data instanceof ArrayBuffer);\n      if (size !== undefined) {\n        this.expect(data.byteLength === size);\n      }\n    } else {\n      this.shouldThrow('OperationError', () => {\n        buffer.getMappedRange(offset, size);\n      });\n    }\n  }\n\n  createMappableBuffer(type, size) {\n    switch (type) {\n      case GPUMapMode.READ:\n        return this.createBufferTracked({\n          size,\n          usage: GPUBufferUsage.MAP_READ\n        });\n      case GPUMapMode.WRITE:\n        return this.createBufferTracked({\n          size,\n          usage: GPUBufferUsage.MAP_WRITE\n        });\n      default:\n        unreachable();\n    }\n  }\n}\n\nexport const g = makeTestGroup(F);\n\nconst kMapModeOptions = [GPUConst.MapMode.READ, GPUConst.MapMode.WRITE];\nconst kOffsetAlignment = 8;\nconst kSizeAlignment = 4;\n\ng.test('mapAsync,usage').\ndesc(\n  `Test the usage validation for mapAsync.\n\n  For each buffer usage:\n  For GPUMapMode.READ, GPUMapMode.WRITE, and 0:\n    Test that the mapAsync call is valid iff the mapping usage is not 0 and the buffer usage\n    the mapMode flag.`\n).\nparamsSubcasesOnly((u) =>\nu //\n.combineWithParams([\n{ mapMode: GPUConst.MapMode.READ, validUsage: GPUConst.BufferUsage.MAP_READ },\n{ mapMode: GPUConst.MapMode.WRITE, validUsage: GPUConst.BufferUsage.MAP_WRITE },\n// Using mapMode 0 is never valid, so there is no validUsage.\n{ mapMode: 0, validUsage: null }]\n).\ncombine('usage', kBufferUsages)\n).\nfn(async (t) => {\n  const { mapMode, validUsage, usage } = t.params;\n\n  const buffer = t.createBufferTracked({\n    size: 16,\n    usage\n  });\n\n  const successParam =\n  usage === validUsage ?\n  'success' :\n  {\n    validationError: true,\n    earlyRejection: false,\n    rejectName: 'OperationError'\n  };\n  await t.testMapAsyncCall(successParam, buffer, mapMode);\n});\n\ng.test('mapAsync,invalidBuffer').\ndesc('Test that mapAsync is an error when called on an invalid buffer.').\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.getErrorBuffer();\n  await t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n});\n\ng.test('mapAsync,state,destroyed').\ndesc('Test that mapAsync is an error when called on a destroyed buffer.').\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  // Start mapping the buffer, we are going to destroy it before it resolves so it will reject\n  // the mapping promise with an AbortError.\n  const pending = t.testMapAsyncCall(\n    { validationError: false, earlyRejection: false, rejectName: 'AbortError' },\n    buffer,\n    mapMode\n  );\n\n  globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n  await t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  await pending;\n});\n\ng.test('mapAsync,state,mappedAtCreation').\ndesc(\n  `Test that mapAsync is an error when called on a buffer mapped at creation,\n    but succeeds after unmapping it.`\n).\nparamsSubcasesOnly([\n{ mapMode: GPUConst.MapMode.READ, validUsage: GPUConst.BufferUsage.MAP_READ },\n{ mapMode: GPUConst.MapMode.WRITE, validUsage: GPUConst.BufferUsage.MAP_WRITE }]\n).\nfn(async (t) => {\n  const { mapMode, validUsage } = t.params;\n\n  const buffer = t.createBufferTracked({\n    size: 16,\n    usage: validUsage,\n    mappedAtCreation: true\n  });\n  await t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  buffer.unmap();\n  await t.testMapAsyncCall('success', buffer, mapMode);\n});\n\ng.test('mapAsync,state,mapped').\ndesc(\n  `Test that mapAsync is an error when called on a mapped buffer, but succeeds\n    after unmapping it.`\n).\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n\n  const buffer = t.createMappableBuffer(mapMode, 16);\n  await t.testMapAsyncCall('success', buffer, mapMode);\n  await t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  buffer.unmap();\n  await t.testMapAsyncCall('success', buffer, mapMode);\n});\n\ng.test('mapAsync,state,mappingPending').\ndesc(\n  `Test that mapAsync is rejected when called on a buffer that is being mapped,\n    but succeeds after the previous mapping request is cancelled.`\n).\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  // Start mapping the buffer, we are going to unmap it before it resolves so it will reject\n  // the mapping promise with an AbortError.\n  const pending0 = t.testMapAsyncCall(\n    { validationError: false, earlyRejection: false, rejectName: 'AbortError' },\n    buffer,\n    mapMode\n  );\n\n  // Do the test of mapAsync while [[pending_map]] is non-null. It has to be synchronous so\n  // that we can unmap the previous mapping in the same stack frame and testing this one doesn't\n  // get canceled, but instead is rejected.\n  const pending1 = t.testMapAsyncCall(\n    { validationError: false, earlyRejection: true, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  // Unmap the first mapping. It should now be possible to successfully call mapAsync\n  // This unmap should cause the first mapAsync rejection.\n  buffer.unmap();\n  await t.testMapAsyncCall('success', buffer, mapMode);\n\n  await pending0;\n  await pending1;\n});\n\ng.test('mapAsync,sizeUnspecifiedOOB').\ndesc(\n  `Test that mapAsync with size unspecified rejects if offset > buffer.[[size]],\n    with various cases at the limits of the buffer size or with a misaligned offset.\n    Also test for an empty buffer.`\n).\nparamsSubcasesOnly((u) =>\nu //\n.combine('mapMode', kMapModeOptions).\ncombineWithParams([\n// 0 size buffer.\n{ bufferSize: 0, offset: 0 },\n{ bufferSize: 0, offset: 1 },\n{ bufferSize: 0, offset: kOffsetAlignment },\n\n// Test with a buffer that's not empty.\n{ bufferSize: 16, offset: 0 },\n{ bufferSize: 16, offset: kOffsetAlignment },\n{ bufferSize: 16, offset: 16 },\n{ bufferSize: 16, offset: 17 },\n{ bufferSize: 16, offset: 16 + kOffsetAlignment }]\n)\n).\nfn(async (t) => {\n  const { mapMode, bufferSize, offset } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n\n  const successParam =\n  offset <= bufferSize ?\n  'success' :\n  {\n    validationError: true,\n    earlyRejection: false,\n    rejectName: 'OperationError'\n  };\n  await t.testMapAsyncCall(successParam, buffer, mapMode, offset);\n});\n\ng.test('mapAsync,offsetAndSizeAlignment').\ndesc(\"Test that mapAsync fails if the alignment of offset and size isn't correct.\").\nparamsSubcasesOnly((u) =>\nu.\ncombine('mapMode', kMapModeOptions).\ncombine('offset', [0, kOffsetAlignment, kOffsetAlignment / 2]).\ncombine('size', [0, kSizeAlignment, kSizeAlignment / 2])\n).\nfn(async (t) => {\n  const { mapMode, offset, size } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  const successParam =\n  offset % kOffsetAlignment === 0 && size % kSizeAlignment === 0 ?\n  'success' :\n  {\n    validationError: true,\n    earlyRejection: false,\n    rejectName: 'OperationError'\n  };\n  await t.testMapAsyncCall(successParam, buffer, mapMode, offset, size);\n});\n\ng.test('mapAsync,offsetAndSizeOOB').\ndesc('Test that mapAsync fails if offset + size is larger than the buffer size.').\nparamsSubcasesOnly((u) =>\nu //\n.combine('mapMode', kMapModeOptions).\ncombineWithParams([\n// For a 0 size buffer\n{ bufferSize: 0, offset: 0, size: 0 },\n{ bufferSize: 0, offset: 0, size: 4 },\n{ bufferSize: 0, offset: 8, size: 0 },\n\n// For a small buffer\n{ bufferSize: 16, offset: 0, size: 16 },\n{ bufferSize: 16, offset: kOffsetAlignment, size: 16 },\n\n{ bufferSize: 16, offset: 16, size: 0 },\n{ bufferSize: 16, offset: 16, size: kSizeAlignment },\n\n{ bufferSize: 16, offset: 8, size: 0 },\n{ bufferSize: 16, offset: 8, size: 8 },\n{ bufferSize: 16, offset: 8, size: 8 + kSizeAlignment },\n\n// For a larger buffer\n{ bufferSize: 1024, offset: 0, size: 1024 },\n{ bufferSize: 1024, offset: kOffsetAlignment, size: 1024 },\n\n{ bufferSize: 1024, offset: 1024, size: 0 },\n{ bufferSize: 1024, offset: 1024, size: kSizeAlignment },\n\n{ bufferSize: 1024, offset: 512, size: 0 },\n{ bufferSize: 1024, offset: 512, size: 512 },\n{ bufferSize: 1024, offset: 512, size: 512 + kSizeAlignment }]\n)\n).\nfn(async (t) => {\n  const { mapMode, bufferSize, size, offset } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n\n  const successParam =\n  offset + size <= bufferSize ?\n  'success' :\n  {\n    validationError: true,\n    earlyRejection: false,\n    rejectName: 'OperationError'\n  };\n  await t.testMapAsyncCall(successParam, buffer, mapMode, offset, size);\n});\n\ng.test('mapAsync,earlyRejection').\ndesc(\"Test that mapAsync fails immediately if it's pending map.\").\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions).combine('offset2', [0, 8])).\nfn(async (t) => {\n  const { mapMode, offset2 } = t.params;\n\n  const bufferSize = 16;\n  const mapSize = 8;\n  const offset1 = 0;\n\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n  const p1 = globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode, offset1, mapSize], () => buffer.mapAsync(mapMode, offset1, mapSize)); // succeeds\n  await t.testMapAsyncCall(\n    {\n      validationError: false,\n      earlyRejection: true,\n      rejectName: 'OperationError'\n    },\n    buffer,\n    mapMode,\n    offset2,\n    mapSize\n  );\n  await p1; // ensure the original map still succeeds\n});\n\ng.test('mapAsync,abort_over_invalid_error').\ndesc(\n  `Test that unmap abort error should have precedence over validation error\nTODO\n  - Add other validation error test (eg. offset is not a multiple of 8)\n  `\n).\nparamsSubcasesOnly((u) =>\nu.combine('mapMode', kMapModeOptions).combine('unmapBeforeResolve', [true, false])\n).\nfn(async (t) => {\n  const { mapMode, unmapBeforeResolve } = t.params;\n  const bufferSize = 8;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n\n  if (unmapBeforeResolve) {\n    // unmap abort error should have precedence over validation error\n    const pending = t.testMapAsyncCall(\n      { validationError: true, earlyRejection: false, rejectName: 'AbortError' },\n      buffer,\n      mapMode\n    );\n    buffer.unmap();\n    await pending;\n  } else {\n    // map on already mapped buffer should cause validation error\n    await t.testMapAsyncCall(\n      { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n      buffer,\n      mapMode\n    );\n    buffer.unmap();\n  }\n});\n\ng.test('getMappedRange,state,mapped').\ndesc('Test that it is valid to call getMappedRange in the mapped state').\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const bufferSize = 16;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n\n  const data = buffer.getMappedRange();\n  t.expect(data instanceof ArrayBuffer);\n  t.expect(data.byteLength === bufferSize);\n\n  // map on already mapped buffer should be rejected\n  const pending = t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n  t.expect(data.byteLength === bufferSize);\n  await pending;\n\n  buffer.unmap();\n\n  t.expect(data.byteLength === 0);\n});\n\ng.test('getMappedRange,state,mappedAtCreation').\ndesc(\n  `Test that, in the mapped-at-creation state, it is valid to call getMappedRange, for all buffer usages,\n    and invalid to call mapAsync, for all map modes.`\n).\nparamsSubcasesOnly((u) =>\nu.combine('bufferUsage', kBufferUsages).combine('mapMode', kMapModeOptions)\n).\nfn(async (t) => {\n  const { bufferUsage, mapMode } = t.params;\n  const bufferSize = 16;\n  const buffer = t.createBufferTracked({\n    usage: bufferUsage,\n    size: bufferSize,\n    mappedAtCreation: true\n  });\n\n  const data = buffer.getMappedRange();\n  t.expect(data instanceof ArrayBuffer);\n  t.expect(data.byteLength === bufferSize);\n\n  // map on already mapped buffer should be rejected\n  const pending = t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n  t.expect(data.byteLength === bufferSize);\n  await pending;\n\n  buffer.unmap();\n\n  t.expect(data.byteLength === 0);\n});\n\ng.test('getMappedRange,state,invalid_mappedAtCreation').\ndesc(\n  `mappedAtCreation should return a mapped buffer, even if the buffer is invalid.\nLike VRAM allocation (see map_oom), validation can be performed asynchronously (in the GPU process)\nso the Content process doesn't necessarily know the buffer is invalid.`\n).\nfn((t) => {\n  const buffer = t.expectGPUError('validation', () =>\n  t.createBufferTracked({\n    mappedAtCreation: true,\n    size: 16,\n    usage: 0xffff_ffff // Invalid usage\n  })\n  );\n\n  // Should still be valid.\n  buffer.getMappedRange();\n});\n\ng.test('getMappedRange,state,mappedAgain').\ndesc(\n  'Test that it is valid to call getMappedRange in the mapped state, even if there is a duplicate mapAsync before'\n).\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n\n  // call mapAsync again on already mapped buffer should fail\n  await t.testMapAsyncCall(\n    { validationError: true, earlyRejection: false, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  // getMapppedRange should still success\n  t.testGetMappedRangeCall(true, buffer);\n});\n\ng.test('getMappedRange,state,unmapped').\ndesc(\n  `Test that it is invalid to call getMappedRange in the unmapped state.\nTest for various cases of being unmapped: at creation, after a mapAsync call or after being created mapped.`\n).\nfn(async (t) => {\n  // It is invalid to call getMappedRange when the buffer starts unmapped when created.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    t.testGetMappedRangeCall(false, buffer);\n  }\n\n  // It is invalid to call getMappedRange when the buffer is unmapped after mapAsync.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n    buffer.unmap();\n    t.testGetMappedRangeCall(false, buffer);\n  }\n\n  // It is invalid to call getMappedRange when the buffer is unmapped after mappedAtCreation.\n  {\n    const buffer = t.createBufferTracked({\n      usage: GPUBufferUsage.MAP_READ,\n      size: 16,\n      mappedAtCreation: true\n    });\n    buffer.unmap();\n    t.testGetMappedRangeCall(false, buffer);\n  }\n});\n\ng.test('getMappedRange,subrange,mapped').\ndesc(\n  `Test that old getMappedRange returned arraybuffer does not exist after unmap, and newly returned\n    arraybuffer after new map has correct subrange`\n).\nparams((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const bufferSize = 16;\n  const offset = 8;\n  const subrangeSize = bufferSize - offset;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n\n  const data0 = buffer.getMappedRange();\n  t.expect(data0 instanceof ArrayBuffer);\n  t.expect(data0.byteLength === bufferSize);\n\n  buffer.unmap();\n  t.expect(data0.byteLength === 0);\n\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode, offset], () => buffer.mapAsync(mapMode, offset));\n  const data1 = buffer.getMappedRange(8);\n\n  t.expect(data0.byteLength === 0);\n  t.expect(data1.byteLength === subrangeSize);\n});\n\ng.test('getMappedRange,subrange,mappedAtCreation').\ndesc(\n  `Test that old getMappedRange returned arraybuffer does not exist after unmap and newly returned\n    arraybuffer after new map has correct subrange`\n).\nfn(async (t) => {\n  const bufferSize = 16;\n  const offset = 8;\n  const subrangeSize = bufferSize - offset;\n  const buffer = t.createBufferTracked({\n    size: bufferSize,\n    usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ,\n    mappedAtCreation: true\n  });\n\n  const data0 = buffer.getMappedRange();\n  t.expect(data0 instanceof ArrayBuffer);\n  t.expect(data0.byteLength === bufferSize);\n\n  buffer.unmap();\n  t.expect(data0.byteLength === 0);\n\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ, offset], () => buffer.mapAsync(GPUMapMode.READ, offset));\n  const data1 = buffer.getMappedRange(8);\n\n  t.expect(data0.byteLength === 0);\n  t.expect(data1.byteLength === subrangeSize);\n});\n\ng.test('getMappedRange,state,destroyed').\ndesc(\n  `Test that it is invalid to call getMappedRange in the destroyed state.\nTest for various cases of being destroyed: at creation, after a mapAsync call or after being created mapped.`\n).\nfn(async (t) => {\n  // It is invalid to call getMappedRange when the buffer is destroyed when unmapped.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    t.testGetMappedRangeCall(false, buffer);\n  }\n\n  // It is invalid to call getMappedRange when the buffer is destroyed when mapped.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    t.testGetMappedRangeCall(false, buffer);\n  }\n\n  // It is invalid to call getMappedRange when the buffer is destroyed when mapped at creation.\n  {\n    const buffer = t.createBufferTracked({\n      usage: GPUBufferUsage.MAP_READ,\n      size: 16,\n      mappedAtCreation: true\n    });\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    t.testGetMappedRangeCall(false, buffer);\n  }\n});\n\ng.test('getMappedRange,state,mappingPending').\ndesc(`Test that it is invalid to call getMappedRange in the mappingPending state.`).\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  /* noawait */const mapping0 = globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n  // seconding mapping should be rejected\n  const mapping1 = t.testMapAsyncCall(\n    { validationError: false, earlyRejection: true, rejectName: 'OperationError' },\n    buffer,\n    mapMode\n  );\n\n  // invalid in mappingPending state\n  t.testGetMappedRangeCall(false, buffer);\n\n  await mapping0;\n\n  // valid after buffer is mapped\n  t.testGetMappedRangeCall(true, buffer);\n\n  await mapping1;\n});\n\ng.test('getMappedRange,offsetAndSizeAlignment,mapped').\ndesc(`Test that getMappedRange fails if the alignment of offset and size isn't correct.`).\nparams((u) =>\nu.\ncombine('mapMode', kMapModeOptions).\nbeginSubcases().\ncombine('mapOffset', [0, kOffsetAlignment]).\ncombine('offset', [0, kOffsetAlignment, kOffsetAlignment / 2]).\ncombine('size', [0, kSizeAlignment, kSizeAlignment / 2])\n).\nfn(async (t) => {\n  const { mapMode, mapOffset, offset, size } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 32);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode, mapOffset], () => buffer.mapAsync(mapMode, mapOffset));\n\n  const success = offset % kOffsetAlignment === 0 && size % kSizeAlignment === 0;\n  t.testGetMappedRangeCall(success, buffer, offset + mapOffset, size);\n});\n\ng.test('getMappedRange,offsetAndSizeAlignment,mappedAtCreation').\ndesc(`Test that getMappedRange fails if the alignment of offset and size isn't correct.`).\nparamsSubcasesOnly((u) =>\nu.\ncombine('offset', [0, kOffsetAlignment, kOffsetAlignment / 2]).\ncombine('size', [0, kSizeAlignment, kSizeAlignment / 2])\n).\nfn((t) => {\n  const { offset, size } = t.params;\n  const buffer = t.createBufferTracked({\n    size: 16,\n    usage: GPUBufferUsage.COPY_DST,\n    mappedAtCreation: true\n  });\n  const success = offset % kOffsetAlignment === 0 && size % kSizeAlignment === 0;\n  t.testGetMappedRangeCall(success, buffer, offset, size);\n});\n\ng.test('getMappedRange,sizeAndOffsetOOB,mappedAtCreation').\ndesc(\n  `Test that getMappedRange size + offset must be less than the buffer size for a\n    buffer mapped at creation. (and offset has not constraints on its own)`\n).\nparamsSubcasesOnly([\n// Tests for a zero-sized buffer, with and without a size defined.\n{ bufferSize: 0, offset: undefined, size: undefined },\n{ bufferSize: 0, offset: undefined, size: 0 },\n{ bufferSize: 0, offset: undefined, size: kSizeAlignment },\n{ bufferSize: 0, offset: 0, size: undefined },\n{ bufferSize: 0, offset: 0, size: 0 },\n{ bufferSize: 0, offset: kOffsetAlignment, size: undefined },\n{ bufferSize: 0, offset: kOffsetAlignment, size: 0 },\n\n// Tests for a non-empty buffer, with an undefined offset.\n{ bufferSize: 80, offset: undefined, size: 80 },\n{ bufferSize: 80, offset: undefined, size: 80 + kSizeAlignment },\n\n// Tests for a non-empty buffer, with an undefined size.\n{ bufferSize: 80, offset: undefined, size: undefined },\n{ bufferSize: 80, offset: 0, size: undefined },\n{ bufferSize: 80, offset: kOffsetAlignment, size: undefined },\n{ bufferSize: 80, offset: 80, size: undefined },\n{ bufferSize: 80, offset: 80 + kOffsetAlignment, size: undefined },\n\n// Tests for a non-empty buffer with a size defined.\n{ bufferSize: 80, offset: 0, size: 80 },\n{ bufferSize: 80, offset: 0, size: 80 + kSizeAlignment },\n{ bufferSize: 80, offset: kOffsetAlignment, size: 80 },\n\n{ bufferSize: 80, offset: 40, size: 40 },\n{ bufferSize: 80, offset: 40 + kOffsetAlignment, size: 40 },\n{ bufferSize: 80, offset: 40, size: 40 + kSizeAlignment }]\n).\nfn((t) => {\n  const { bufferSize, offset, size } = t.params;\n  const buffer = t.createBufferTracked({\n    size: bufferSize,\n    usage: GPUBufferUsage.COPY_DST,\n    mappedAtCreation: true\n  });\n\n  const actualOffset = offset ?? 0;\n  const actualSize = size ?? bufferSize - actualOffset;\n\n  const success = actualOffset <= bufferSize && actualOffset + actualSize <= bufferSize;\n  t.testGetMappedRangeCall(success, buffer, offset, size);\n});\n\ng.test('getMappedRange,sizeAndOffsetOOB,mapped').\ndesc('Test that getMappedRange size + offset must be less than the mapAsync range.').\nparamsSubcasesOnly((u) =>\nu //\n.combine('mapMode', kMapModeOptions).\ncombineWithParams([\n// Tests for an empty buffer, and implicit mapAsync size.\n{ bufferSize: 0, mapOffset: 0, mapSize: undefined, offset: undefined, size: undefined },\n{ bufferSize: 0, mapOffset: 0, mapSize: undefined, offset: undefined, size: 0 },\n{\n  bufferSize: 0,\n  mapOffset: 0,\n  mapSize: undefined,\n  offset: undefined,\n  size: kSizeAlignment\n},\n{ bufferSize: 0, mapOffset: 0, mapSize: undefined, offset: 0, size: undefined },\n{ bufferSize: 0, mapOffset: 0, mapSize: undefined, offset: 0, size: 0 },\n{\n  bufferSize: 0,\n  mapOffset: 0,\n  mapSize: undefined,\n  offset: kOffsetAlignment,\n  size: undefined\n},\n{ bufferSize: 0, mapOffset: 0, mapSize: undefined, offset: kOffsetAlignment, size: 0 },\n\n// Tests for an empty buffer, and explicit mapAsync size.\n{ bufferSize: 0, mapOffset: 0, mapSize: 0, offset: undefined, size: undefined },\n{ bufferSize: 0, mapOffset: 0, mapSize: 0, offset: 0, size: undefined },\n{ bufferSize: 0, mapOffset: 0, mapSize: 0, offset: 0, size: 0 },\n{ bufferSize: 0, mapOffset: 0, mapSize: 0, offset: kOffsetAlignment, size: undefined },\n{ bufferSize: 0, mapOffset: 0, mapSize: 0, offset: kOffsetAlignment, size: 0 },\n\n// Test for a fully implicit mapAsync call\n{ bufferSize: 80, mapOffset: undefined, mapSize: undefined, offset: 0, size: 80 },\n{\n  bufferSize: 80,\n  mapOffset: undefined,\n  mapSize: undefined,\n  offset: 0,\n  size: 80 + kSizeAlignment\n},\n{\n  bufferSize: 80,\n  mapOffset: undefined,\n  mapSize: undefined,\n  offset: kOffsetAlignment,\n  size: 80\n},\n\n// Test for a mapAsync call with an implicit size\n{ bufferSize: 80, mapOffset: 24, mapSize: undefined, offset: 24, size: 80 - 24 },\n{\n  bufferSize: 80,\n  mapOffset: 24,\n  mapSize: undefined,\n  offset: 0,\n  size: 80 - 24 + kSizeAlignment\n},\n{\n  bufferSize: 80,\n  mapOffset: 24,\n  mapSize: undefined,\n  offset: kOffsetAlignment,\n  size: 80 - 24\n},\n\n// Test for a non-empty buffer fully mapped.\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: 0, size: 80 },\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: kOffsetAlignment, size: 80 },\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: 0, size: 80 + kSizeAlignment },\n\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: 40, size: 40 },\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: 40 + kOffsetAlignment, size: 40 },\n{ bufferSize: 80, mapOffset: 0, mapSize: 80, offset: 40, size: 40 + kSizeAlignment },\n\n// Test for a buffer partially mapped.\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 24, size: 40 },\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 24 - kOffsetAlignment, size: 40 },\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 24 + kOffsetAlignment, size: 40 },\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 24, size: 40 + kSizeAlignment },\n\n// Test for a partially mapped buffer with implicit size and offset for getMappedRange.\n// - Buffer partially mapped in the middle\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: undefined, size: undefined },\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 0, size: undefined },\n{ bufferSize: 80, mapOffset: 24, mapSize: 40, offset: 24, size: undefined },\n// - Buffer partially mapped to the end\n{ bufferSize: 80, mapOffset: 24, mapSize: undefined, offset: 24, size: undefined },\n{ bufferSize: 80, mapOffset: 24, mapSize: undefined, offset: 80, size: undefined },\n// - Buffer partially mapped from the start\n{ bufferSize: 80, mapOffset: 0, mapSize: 64, offset: undefined, size: undefined },\n{ bufferSize: 80, mapOffset: 0, mapSize: 64, offset: undefined, size: 64 }]\n)\n).\nfn(async (t) => {\n  const { mapMode, bufferSize, mapOffset, mapSize, offset, size } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, bufferSize);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode, mapOffset, mapSize], () => buffer.mapAsync(mapMode, mapOffset, mapSize));\n\n  const actualMapOffset = mapOffset ?? 0;\n  const actualMapSize = mapSize ?? bufferSize - actualMapOffset;\n\n  const actualOffset = offset ?? 0;\n  const actualSize = size ?? bufferSize - actualOffset;\n\n  const success =\n  actualOffset >= actualMapOffset &&\n  actualOffset <= bufferSize &&\n  actualOffset + actualSize <= actualMapOffset + actualMapSize;\n  t.testGetMappedRangeCall(success, buffer, offset, size);\n});\n\ng.test('getMappedRange,disjointRanges').\ndesc('Test that the ranges asked through getMappedRange must be disjoint.').\nparamsSubcasesOnly((u) =>\nu //\n.combine('remapBetweenCalls', [false, true]).\ncombineWithParams([\n// Disjoint ranges with one that's empty.\n{ offset1: 8, size1: 0, offset2: 8, size2: 8 },\n{ offset1: 16, size1: 0, offset2: 8, size2: 8 },\n\n{ offset1: 8, size1: 8, offset2: 8, size2: 0 },\n{ offset1: 8, size1: 8, offset2: 16, size2: 0 },\n\n// Disjoint ranges with both non-empty.\n{ offset1: 0, size1: 8, offset2: 8, size2: 8 },\n{ offset1: 16, size1: 8, offset2: 8, size2: 8 },\n\n{ offset1: 8, size1: 8, offset2: 0, size2: 8 },\n{ offset1: 8, size1: 8, offset2: 16, size2: 8 },\n\n// Empty range contained inside another one.\n{ offset1: 16, size1: 20, offset2: 24, size2: 0 },\n{ offset1: 24, size1: 0, offset2: 16, size2: 20 },\n\n// Ranges that overlap only partially.\n{ offset1: 16, size1: 20, offset2: 8, size2: 20 },\n{ offset1: 16, size1: 20, offset2: 32, size2: 20 },\n\n// Ranges that include one another.\n{ offset1: 0, size1: 80, offset2: 16, size2: 20 },\n{ offset1: 16, size1: 20, offset2: 0, size2: 80 }]\n)\n).\nfn(async (t) => {\n  const { offset1, size1, offset2, size2, remapBetweenCalls } = t.params;\n  const buffer = t.createBufferTracked({ size: 80, usage: GPUBufferUsage.MAP_READ });\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n\n  t.testGetMappedRangeCall(true, buffer, offset1, size1);\n\n  if (remapBetweenCalls) {\n    buffer.unmap();\n    await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n  }\n\n  const range1StartsAfter2 = offset1 >= offset2 + size2;\n  const range2StartsAfter1 = offset2 >= offset1 + size1;\n  const disjoint = range1StartsAfter2 || range2StartsAfter1;\n  const success = disjoint || remapBetweenCalls;\n\n  t.testGetMappedRangeCall(success, buffer, offset2, size2);\n});\n\ng.test('getMappedRange,disjointRanges_many').\ndesc('Test getting a lot of small ranges, and that the disjoint check checks them all.').\nfn(async (t) => {\n  const kStride = 256;\n  const kNumStrides = 256;\n\n  const buffer = t.createBufferTracked({\n    size: kStride * kNumStrides,\n    usage: GPUBufferUsage.MAP_READ\n  });\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n\n  // Get a lot of small mapped ranges.\n  for (let stride = 0; stride < kNumStrides; stride++) {\n    t.testGetMappedRangeCall(true, buffer, stride * kStride, 8);\n  }\n\n  // Check for each range it is invalid to get a range that overlaps it and check that it is valid\n  // to get ranges for the rest of the buffer.\n  for (let stride = 0; stride < kNumStrides; stride++) {\n    t.testGetMappedRangeCall(false, buffer, stride * kStride, kStride);\n    t.testGetMappedRangeCall(true, buffer, stride * kStride + 8, kStride - 8);\n  }\n});\n\ng.test('unmap,state,unmapped').\ndesc(\n  `Test it is valid to call unmap on a buffer that is unmapped (at creation, or after\n    mappedAtCreation or mapAsync)`\n).\nfn(async (t) => {\n  // It is valid to call unmap after creation of an unmapped buffer.\n  {\n    const buffer = t.createBufferTracked({ size: 16, usage: GPUBufferUsage.MAP_READ });\n    buffer.unmap();\n  }\n\n  // It is valid to call unmap after unmapping a mapAsynced buffer.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n    buffer.unmap();\n    buffer.unmap();\n  }\n\n  // It is valid to call unmap after unmapping a mappedAtCreation buffer.\n  {\n    const buffer = t.createBufferTracked({\n      usage: GPUBufferUsage.MAP_READ,\n      size: 16,\n      mappedAtCreation: true\n    });\n    buffer.unmap();\n    buffer.unmap();\n  }\n});\n\ng.test('unmap,state,destroyed').\ndesc(\n  `Test it is valid to call unmap on a buffer that is destroyed (at creation, or after\n    mappedAtCreation or mapAsync)`\n).\nfn(async (t) => {\n  // It is valid to call unmap after destruction of an unmapped buffer.\n  {\n    const buffer = t.createBufferTracked({ size: 16, usage: GPUBufferUsage.MAP_READ });\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    buffer.unmap();\n  }\n\n  // It is valid to call unmap after destroying a mapAsynced buffer.\n  {\n    const buffer = t.createMappableBuffer(GPUMapMode.READ, 16);\n    await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [GPUMapMode.READ], () => buffer.mapAsync(GPUMapMode.READ));\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    buffer.unmap();\n  }\n\n  // It is valid to call unmap after destroying a mappedAtCreation buffer.\n  {\n    const buffer = t.createBufferTracked({\n      usage: GPUBufferUsage.MAP_READ,\n      size: 16,\n      mappedAtCreation: true\n    });\n    globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    buffer.unmap();\n  }\n});\n\ng.test('unmap,state,mappedAtCreation').\ndesc('Test it is valid to call unmap on a buffer mapped at creation, for various usages').\nparamsSubcasesOnly((u) =>\nu //\n.combine('bufferUsage', kBufferUsages)\n).\nfn((t) => {\n  const { bufferUsage } = t.params;\n  const buffer = t.createBufferTracked({ size: 16, usage: bufferUsage, mappedAtCreation: true });\n\n  buffer.unmap();\n});\n\ng.test('unmap,state,mapped').\ndesc(\"Test it is valid to call unmap on a buffer that's mapped\").\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n  buffer.unmap();\n});\n\ng.test('unmap,state,mappingPending').\ndesc(\"Test it is valid to call unmap on a buffer that's being mapped\").\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n  const buffer = t.createMappableBuffer(mapMode, 16);\n\n  const pending = t.testMapAsyncCall(\n    { validationError: false, earlyRejection: false, rejectName: 'AbortError' },\n    buffer,\n    mapMode\n  );\n  buffer.unmap();\n  await pending;\n});\n\ng.test('gc_behavior,mappedAtCreation').\ndesc(\n  \"Test that GCing the buffer while mappings are handed out doesn't invalidate them - mappedAtCreation case\"\n).\nfn(async (t) => {\n  let buffer = null;\n  buffer = t.createBufferTracked({\n    size: 256,\n    usage: GPUBufferUsage.COPY_DST,\n    mappedAtCreation: true\n  });\n\n  // Write some non-zero data to the buffer.\n  const contents = new Uint32Array(buffer.getMappedRange());\n  for (let i = 0; i < contents.length; i++) {\n    contents[i] = i;\n  }\n\n  // Trigger garbage collection that should collect the buffer (or as if it collected it)\n  // NOTE: This won't fail unless the browser immediately starts reusing the memory, or gives it\n  // back to the OS. One good option for browsers to check their logic is good is to zero-out the\n  // memory on GPUBuffer (or internal gpu::Buffer-like object) destruction.\n  buffer = null;\n  await attemptGarbageCollection();\n\n  // Use the mapping again both for read and write, it should work.\n  for (let i = 0; i < contents.length; i++) {\n    t.expect(contents[i] === i);\n    contents[i] = i + 1;\n  }\n});\n\ng.test('gc_behavior,mapAsync').\ndesc(\n  \"Test that GCing the buffer while mappings are handed out doesn't invalidate them - mapAsync case\"\n).\nparamsSubcasesOnly((u) => u.combine('mapMode', kMapModeOptions)).\nfn(async (t) => {\n  const { mapMode } = t.params;\n\n  let buffer = null;\n  buffer = t.createMappableBuffer(mapMode, 256);\n  await globalThis._TRAMPOLINE_(\"mapAsync\", buffer, buffer.mapAsync, [mapMode], () => buffer.mapAsync(mapMode));\n\n  // Write some non-zero data to the buffer.\n  const contents = new Uint32Array(buffer.getMappedRange());\n  for (let i = 0; i < contents.length; i++) {\n    contents[i] = i;\n  }\n\n  // Trigger garbage collection that should collect the buffer (or as if it collected it)\n  // NOTE: This won't fail unless the browser immediately starts reusing the memory, or gives it\n  // back to the OS. One good option for browsers to check their logic is good is to zero-out the\n  // memory on GPUBuffer (or internal gpu::Buffer-like object) destruction.\n  buffer = null;\n  await attemptGarbageCollection();\n\n  // Use the mapping again both for read and write, it should work.\n  for (let i = 0; i < contents.length; i++) {\n    t.expect(contents[i] === i);\n    contents[i] = i + 1;\n  }\n});"],"mappings":";;IAAA;AACA;AACA,GAAG,OAAO,MAAMA,WAAW,GAAG;AAC9B;AACA,CAAC,CAAC,SAASC,aAAa,QAAQ,4CAA4C,CAC5E,SAASC,wBAAwB,QAAQ,4CAA4C,CACrF,SAASC,MAAM,EAAEC,WAAW,QAAQ,iCAAiC;AACrE,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,cAAc,QAAQ,uBAAuB;;AAEtD,MAAMC,CAAC,SAASD,cAAc,CAAC;EAC7B,MAAME,gBAAgBA;EACtBC,WAAW;;;EAGXC,MAAM;EACNC,IAAI;EACJC,MAAM;EACNC,IAAI;EACJ;IACE,IAAIJ,WAAW,KAAK,SAAS,EAAE;MAC7B,MAAMK,CAAC,GAAGC,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAACN,IAAI,EAAEC,MAAM,EAAEC,IAAI,CAAC,EAAE,MAAAE,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAUN,IAAI,EAAEC,MAAM,EAAEC,IAAI,SAAlCH,MAAM,CAACO,QAAQ,CAACN,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAC,CAAC;MACvI,MAAMC,CAAC;IACT,CAAC,MAAM;MACL,IAAIA,CAAC;MACL,IAAI,CAACI,qBAAqB,CAAC,MAAM;QAC/BJ,CAAC,GAAGC,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAACN,IAAI,EAAEC,MAAM,EAAEC,IAAI,CAAC,EAAE,MAAAE,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAUN,IAAI,EAAEC,MAAM,EAAEC,IAAI,SAAlCH,MAAM,CAACO,QAAQ,CAACN,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAC,CAAC;MACnI,CAAC,EAAEJ,WAAW,CAACU,eAAe,CAAC;;MAE/B,IAAIC,MAAM,GAAG,KAAK;MAClB,IAAIC,aAAa,GAAG,KAAK;MACzB,IAAIC,aAAa,GAAG,KAAK;MACzB;MACA;MACAR,CAAC,CAACS,KAAK,CAAC,MAAM;QACZ;QACAH,MAAM,GAAG,IAAI;MACf,CAAC,CAAC;MACFI,cAAc,CAAC,MAAM;QACnB;QACAH,aAAa,GAAGD,MAAM;QACtBE,aAAa,GAAG,IAAI;MACtB,CAAC,CAAC;;MAEF;MACA,MAAMR,CAAC,CAACW,IAAI;QACV,MAAM;UACJtB,WAAW,CAAC,8BAA8B,CAAC;QAC7C,CAAC;QACD,CAACuB,EAAE,KAAK;UACN,MAAMC,MAAM,GAAG,kBAAkBD,EAAE,EAAE;;UAErC,IAAI,CAACE,MAAM,CAACN,aAAa,EAAE,iDAAiD,GAAGK,MAAM,CAAC;UACtFzB,MAAM,CAACwB,EAAE,YAAYG,KAAK,EAAE,kCAAkC,GAAGF,MAAM,CAAC;UACxE,IAAI,CAACC,MAAM,CAAC,OAAOF,EAAE,CAACI,KAAK,KAAK,QAAQ,EAAE,mCAAmC,GAAGH,MAAM,CAAC;UACvF,IAAI,CAACC,MAAM;YACTnB,WAAW,CAACsB,UAAU,KAAKL,EAAE,CAACM,IAAI;YAClC,6CAA6C,GAAGL;UAClD,CAAC;UACD,IAAIlB,WAAW,CAACwB,cAAc,EAAE;YAC9B,IAAI,CAACL,MAAM,CAACP,aAAa,EAAE,iDAAiD,GAAGM,MAAM,CAAC;UACxF,CAAC,MAAM;YACL,IAAI,CAACC,MAAM,CAAC,CAACP,aAAa,EAAE,iDAAiD,GAAGM,MAAM,CAAC;UACzF;QACF;MACF,CAAC;IACH;EACF;;EAEAO,sBAAsBA,CAACC,OAAO,EAAEzB,MAAM,EAAEE,MAAM,EAAEC,IAAI,EAAE;IACpD,IAAIsB,OAAO,EAAE;MACX,MAAMC,IAAI,GAAG1B,MAAM,CAAC2B,cAAc,CAACzB,MAAM,EAAEC,IAAI,CAAC;MAChD,IAAI,CAACe,MAAM,CAACQ,IAAI,YAAYE,WAAW,CAAC;MACxC,IAAIzB,IAAI,KAAK0B,SAAS,EAAE;QACtB,IAAI,CAACX,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAK3B,IAAI,CAAC;MACvC;IACF,CAAC,MAAM;MACL,IAAI,CAAC4B,WAAW,CAAC,gBAAgB,EAAE,MAAM;QACvC/B,MAAM,CAAC2B,cAAc,CAACzB,MAAM,EAAEC,IAAI,CAAC;MACrC,CAAC,CAAC;IACJ;EACF;;EAEA6B,oBAAoBA,CAACC,IAAI,EAAE9B,IAAI,EAAE;IAC/B,QAAQ8B,IAAI;MACV,KAAKC,UAAU,CAACC,IAAI;QAClB,OAAO,IAAI,CAACC,mBAAmB,CAAC;UAC9BjC,IAAI;UACJkC,KAAK,EAAEC,cAAc,CAACC;QACxB,CAAC,CAAC;MACJ,KAAKL,UAAU,CAACM,KAAK;QACnB,OAAO,IAAI,CAACJ,mBAAmB,CAAC;UAC9BjC,IAAI;UACJkC,KAAK,EAAEC,cAAc,CAACG;QACxB,CAAC,CAAC;MACJ;QACEhD,WAAW,CAAC,CAAC;IACjB;EACF;AACF;;AAEA,OAAO,MAAMiD,CAAC,GAAGpD,aAAa,CAACO,CAAC,CAAC;;AAEjC,MAAM8C,eAAe,GAAG,CAAChD,QAAQ,CAACiD,OAAO,CAACT,IAAI,EAAExC,QAAQ,CAACiD,OAAO,CAACJ,KAAK,CAAC;AACvE,MAAMK,gBAAgB,GAAG,CAAC;AAC1B,MAAMC,cAAc,GAAG,CAAC;;AAExBJ,CAAC,CAACK,IAAI,CAAC,gBAAgB,CAAC;AACxBC,IAAI;EACF;AACF;AACA;AACA;AACA;AACA;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDC,iBAAiB,CAAC;AACnB,EAAEC,OAAO,EAAEzD,QAAQ,CAACiD,OAAO,CAACT,IAAI,EAAEkB,UAAU,EAAE1D,QAAQ,CAAC2D,WAAW,CAACf,QAAQ,CAAC,CAAC;AAC7E,EAAEa,OAAO,EAAEzD,QAAQ,CAACiD,OAAO,CAACJ,KAAK,EAAEa,UAAU,EAAE1D,QAAQ,CAAC2D,WAAW,CAACb,SAAS,CAAC,CAAC;AAC/E;AACA,EAAEW,OAAO,EAAE,CAAC,EAAEC,UAAU,EAAE,IAAI,CAAC,CAAC;AAChC,CAAC;AACDE,OAAO,CAAC,OAAO,EAAE7D,aAAa;AAC9B,CAAC;AACD8D,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEC,UAAU,EAAEhB,KAAK,CAAC,CAAC,GAAGoB,CAAC,CAACC,MAAM;;EAE/C,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAE,EAAE;IACRkC;EACF,CAAC,CAAC;;EAEF,MAAMsB,YAAY;EAClBtB,KAAK,KAAKgB,UAAU;EACpB,SAAS;EACT;IACE5C,eAAe,EAAE,IAAI;IACrBc,cAAc,EAAE,KAAK;IACrBF,UAAU,EAAE;EACd,CAAC;EACD,MAAMoC,CAAC,CAAC3D,gBAAgB,CAAC6D,YAAY,EAAE3D,MAAM,EAAEoD,OAAO,CAAC;AACzD,CAAC,CAAC;;AAEFV,CAAC,CAACK,IAAI,CAAC,wBAAwB,CAAC;AAChCC,IAAI,CAAC,kEAAkE,CAAC;AACxEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACG,cAAc,CAAC,CAAC;EACjC,MAAMH,CAAC,CAAC3D,gBAAgB;IACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;AACH,CAAC,CAAC;;AAEFV,CAAC,CAACK,IAAI,CAAC,0BAA0B,CAAC;AAClCC,IAAI,CAAC,mEAAmE,CAAC;AACzEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD;EACA;EACA,MAAMS,OAAO,GAAGJ,CAAC,CAAC3D,gBAAgB;IAChC,EAAEW,eAAe,EAAE,KAAK,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,YAAY,CAAC,CAAC;IAC3ErB,MAAM;IACNoD;EACF,CAAC;;EAED/C,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;EACtF,MAAML,CAAC,CAAC3D,gBAAgB;IACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAED,MAAMS,OAAO;AACf,CAAC,CAAC;;AAEFnB,CAAC,CAACK,IAAI,CAAC,iCAAiC,CAAC;AACzCC,IAAI;EACF;AACF;AACA,CAAC;AACDC,kBAAkB,CAAC;AACnB,EAAEG,OAAO,EAAEzD,QAAQ,CAACiD,OAAO,CAACT,IAAI,EAAEkB,UAAU,EAAE1D,QAAQ,CAAC2D,WAAW,CAACf,QAAQ,CAAC,CAAC;AAC7E,EAAEa,OAAO,EAAEzD,QAAQ,CAACiD,OAAO,CAACJ,KAAK,EAAEa,UAAU,EAAE1D,QAAQ,CAAC2D,WAAW,CAACb,SAAS,CAAC,CAAC;AAC/E,CAAC;AACDe,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEC,UAAU,CAAC,CAAC,GAAGI,CAAC,CAACC,MAAM;;EAExC,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAE,EAAE;IACRkC,KAAK,EAAEgB,UAAU;IACjBU,gBAAgB,EAAE;EACpB,CAAC,CAAC;EACF,MAAMN,CAAC,CAAC3D,gBAAgB;IACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAEDpD,MAAM,CAACgE,KAAK,CAAC,CAAC;EACd,MAAMP,CAAC,CAAC3D,gBAAgB,CAAC,SAAS,EAAEE,MAAM,EAAEoD,OAAO,CAAC;AACtD,CAAC,CAAC;;AAEFV,CAAC,CAACK,IAAI,CAAC,uBAAuB,CAAC;AAC/BC,IAAI;EACF;AACF;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;;EAE5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;EAClD,MAAMK,CAAC,CAAC3D,gBAAgB,CAAC,SAAS,EAAEE,MAAM,EAAEoD,OAAO,CAAC;EACpD,MAAMK,CAAC,CAAC3D,gBAAgB;IACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAEDpD,MAAM,CAACgE,KAAK,CAAC,CAAC;EACd,MAAMP,CAAC,CAAC3D,gBAAgB,CAAC,SAAS,EAAEE,MAAM,EAAEoD,OAAO,CAAC;AACtD,CAAC,CAAC;;AAEFV,CAAC,CAACK,IAAI,CAAC,+BAA+B,CAAC;AACvCC,IAAI;EACF;AACF;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;;EAE5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD;EACA;EACA,MAAMa,QAAQ,GAAGR,CAAC,CAAC3D,gBAAgB;IACjC,EAAEW,eAAe,EAAE,KAAK,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,YAAY,CAAC,CAAC;IAC3ErB,MAAM;IACNoD;EACF,CAAC;;EAED;EACA;EACA;EACA,MAAMc,QAAQ,GAAGT,CAAC,CAAC3D,gBAAgB;IACjC,EAAEW,eAAe,EAAE,KAAK,EAAEc,cAAc,EAAE,IAAI,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAED;EACA;EACApD,MAAM,CAACgE,KAAK,CAAC,CAAC;EACd,MAAMP,CAAC,CAAC3D,gBAAgB,CAAC,SAAS,EAAEE,MAAM,EAAEoD,OAAO,CAAC;;EAEpD,MAAMa,QAAQ;EACd,MAAMC,QAAQ;AAChB,CAAC,CAAC;;AAEFxB,CAAC,CAACK,IAAI,CAAC,6BAA6B,CAAC;AACrCC,IAAI;EACF;AACF;AACA;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC;AACpCQ,iBAAiB,CAAC;AAClB;AACA,EAAEgB,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,CAAC,CAAC;AAC5B,EAAEiE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,CAAC,CAAC;AAC5B,EAAEiE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2C,gBAAgB,CAAC,CAAC;;AAE3C;AACA,EAAEsB,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,CAAC,CAAC;AAC7B,EAAEiE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2C,gBAAgB,CAAC,CAAC;AAC5C,EAAEsB,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,CAAC,CAAC;AAC9B,EAAEiE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,CAAC,CAAC;AAC9B,EAAEiE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,CAAC,CAAC;AACjD;AACA,CAAC;AACDW,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEe,UAAU,EAAEjE,MAAM,CAAC,CAAC,GAAGuD,CAAC,CAACC,MAAM;EAChD,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;;EAE1D,MAAMR,YAAY;EAClBzD,MAAM,IAAIiE,UAAU;EACpB,SAAS;EACT;IACE1D,eAAe,EAAE,IAAI;IACrBc,cAAc,EAAE,KAAK;IACrBF,UAAU,EAAE;EACd,CAAC;EACD,MAAMoC,CAAC,CAAC3D,gBAAgB,CAAC6D,YAAY,EAAE3D,MAAM,EAAEoD,OAAO,EAAElD,MAAM,CAAC;AACjE,CAAC,CAAC;;AAEFwC,CAAC,CAACK,IAAI,CAAC,iCAAiC,CAAC;AACzCC,IAAI,CAAC,6EAA6E,CAAC;AACnFC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC;AACDK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC;AACnCY,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAEV,gBAAgB,EAAEA,gBAAgB,GAAG,CAAC,CAAC,CAAC;AAC9DU,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,EAAET,cAAc,EAAEA,cAAc,GAAG,CAAC,CAAC;AACvD,CAAC;AACDU,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAElD,MAAM,EAAEC,IAAI,CAAC,CAAC,GAAGsD,CAAC,CAACC,MAAM;EAC1C,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD,MAAMO,YAAY;EAClBzD,MAAM,GAAG2C,gBAAgB,KAAK,CAAC,IAAI1C,IAAI,GAAG2C,cAAc,KAAK,CAAC;EAC9D,SAAS;EACT;IACErC,eAAe,EAAE,IAAI;IACrBc,cAAc,EAAE,KAAK;IACrBF,UAAU,EAAE;EACd,CAAC;EACD,MAAMoC,CAAC,CAAC3D,gBAAgB,CAAC6D,YAAY,EAAE3D,MAAM,EAAEoD,OAAO,EAAElD,MAAM,EAAEC,IAAI,CAAC;AACvE,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,2BAA2B,CAAC;AACnCC,IAAI,CAAC,2EAA2E,CAAC;AACjFC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC;AACpCQ,iBAAiB,CAAC;AAClB;AACA,EAAEgB,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACrC,EAAEgE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACrC,EAAEgE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;;AAErC;AACA,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACvC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;;AAEtD,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACvC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE2C,cAAc,CAAC,CAAC;;AAEpD,EAAEqB,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACtC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACtC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,GAAG2C,cAAc,CAAC,CAAC;;AAEvD;AACA,EAAEqB,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC3C,EAAEgE,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,IAAI,CAAC,CAAC;;AAE1D,EAAEgE,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,IAAI,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC3C,EAAEgE,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,IAAI,EAAEC,IAAI,EAAE2C,cAAc,CAAC,CAAC;;AAExD,EAAEqB,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,GAAG,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC1C,EAAEgE,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,GAAG,EAAEC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC5C,EAAEgE,UAAU,EAAE,IAAI,EAAEjE,MAAM,EAAE,GAAG,EAAEC,IAAI,EAAE,GAAG,GAAG2C,cAAc,CAAC,CAAC;AAC7D;AACA,CAAC;AACDU,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEe,UAAU,EAAEhE,IAAI,EAAED,MAAM,CAAC,CAAC,GAAGuD,CAAC,CAACC,MAAM;EACtD,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;;EAE1D,MAAMR,YAAY;EAClBzD,MAAM,GAAGC,IAAI,IAAIgE,UAAU;EAC3B,SAAS;EACT;IACE1D,eAAe,EAAE,IAAI;IACrBc,cAAc,EAAE,KAAK;IACrBF,UAAU,EAAE;EACd,CAAC;EACD,MAAMoC,CAAC,CAAC3D,gBAAgB,CAAC6D,YAAY,EAAE3D,MAAM,EAAEoD,OAAO,EAAElD,MAAM,EAAEC,IAAI,CAAC;AACvE,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,yBAAyB,CAAC;AACjCC,IAAI,CAAC,2DAA2D,CAAC;AACjEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAACY,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3FC,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEgB,OAAO,CAAC,CAAC,GAAGX,CAAC,CAACC,MAAM;;EAErC,MAAMS,UAAU,GAAG,EAAE;EACrB,MAAME,OAAO,GAAG,CAAC;EACjB,MAAMC,OAAO,GAAG,CAAC;;EAEjB,MAAMtE,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;EAC1D,MAAMI,EAAE,GAAGlE,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,EAAEkB,OAAO,EAAED,OAAO,CAAC,EAAE,MAAAhE,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,EAAEkB,OAAO,EAAED,OAAO,SAAzCrE,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAEkB,OAAO,EAAED,OAAO,EAAC,CAAC,CAAC,CAAC;EACxJ,MAAMZ,CAAC,CAAC3D,gBAAgB;IACtB;MACEW,eAAe,EAAE,KAAK;MACtBc,cAAc,EAAE,IAAI;MACpBF,UAAU,EAAE;IACd,CAAC;IACDrB,MAAM;IACNoD,OAAO;IACPgB,OAAO;IACPC;EACF,CAAC;EACD,MAAME,EAAE,CAAC,CAAC;AACZ,CAAC,CAAC;;AAEF7B,CAAC,CAACK,IAAI,CAAC,mCAAmC,CAAC;AAC3CC,IAAI;EACF;AACF;AACA;AACA;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAACY,OAAO,CAAC,oBAAoB,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;AACjF,CAAC;AACDC,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEoB,kBAAkB,CAAC,CAAC,GAAGf,CAAC,CAACC,MAAM;EAChD,MAAMS,UAAU,GAAG,CAAC;EACpB,MAAMnE,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;EAC1D,MAAM9D,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;;EAE7G,IAAIoB,kBAAkB,EAAE;IACtB;IACA,MAAMX,OAAO,GAAGJ,CAAC,CAAC3D,gBAAgB;MAChC,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,YAAY,CAAC,CAAC;MAC1ErB,MAAM;MACNoD;IACF,CAAC;IACDpD,MAAM,CAACgE,KAAK,CAAC,CAAC;IACd,MAAMH,OAAO;EACf,CAAC,MAAM;IACL;IACA,MAAMJ,CAAC,CAAC3D,gBAAgB;MACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;MAC9ErB,MAAM;MACNoD;IACF,CAAC;IACDpD,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;AACF,CAAC,CAAC;;AAEFtB,CAAC,CAACK,IAAI,CAAC,6BAA6B,CAAC;AACrCC,IAAI,CAAC,kEAAkE,CAAC;AACxEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAMS,UAAU,GAAG,EAAE;EACrB,MAAMnE,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;EAC1D,MAAM9D,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;;EAE7G,MAAM1B,IAAI,GAAG1B,MAAM,CAAC2B,cAAc,CAAC,CAAC;EACpC8B,CAAC,CAACvC,MAAM,CAACQ,IAAI,YAAYE,WAAW,CAAC;EACrC6B,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAKqC,UAAU,CAAC;;EAExC;EACA,MAAMN,OAAO,GAAGJ,CAAC,CAAC3D,gBAAgB;IAChC,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;EACDK,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAKqC,UAAU,CAAC;EACxC,MAAMN,OAAO;;EAEb7D,MAAM,CAACgE,KAAK,CAAC,CAAC;;EAEdP,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAK,CAAC,CAAC;AACjC,CAAC,CAAC;;AAEFY,CAAC,CAACK,IAAI,CAAC,uCAAuC,CAAC;AAC/CC,IAAI;EACF;AACF;AACA,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAACK,OAAO,CAAC,aAAa,EAAE7D,aAAa,CAAC,CAAC6D,OAAO,CAAC,SAAS,EAAEZ,eAAe;AAC1E,CAAC;AACDa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEgB,WAAW,EAAErB,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EACzC,MAAMS,UAAU,GAAG,EAAE;EACrB,MAAMnE,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCC,KAAK,EAAEoC,WAAW;IAClBtE,IAAI,EAAEgE,UAAU;IAChBJ,gBAAgB,EAAE;EACpB,CAAC,CAAC;;EAEF,MAAMrC,IAAI,GAAG1B,MAAM,CAAC2B,cAAc,CAAC,CAAC;EACpC8B,CAAC,CAACvC,MAAM,CAACQ,IAAI,YAAYE,WAAW,CAAC;EACrC6B,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAKqC,UAAU,CAAC;;EAExC;EACA,MAAMN,OAAO,GAAGJ,CAAC,CAAC3D,gBAAgB;IAChC,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;EACDK,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAKqC,UAAU,CAAC;EACxC,MAAMN,OAAO;;EAEb7D,MAAM,CAACgE,KAAK,CAAC,CAAC;;EAEdP,CAAC,CAACvC,MAAM,CAACQ,IAAI,CAACI,UAAU,KAAK,CAAC,CAAC;AACjC,CAAC,CAAC;;AAEFY,CAAC,CAACK,IAAI,CAAC,+CAA+C,CAAC;AACvDC,IAAI;EACF;AACF;AACA;AACA,CAAC;AACDQ,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAMzD,MAAM,GAAGyD,CAAC,CAACiB,cAAc,CAAC,YAAY,EAAE;EAC9CjB,CAAC,CAACrB,mBAAmB,CAAC;IACpB2B,gBAAgB,EAAE,IAAI;IACtB5D,IAAI,EAAE,EAAE;IACRkC,KAAK,EAAE,WAAW,CAAC;EACrB,CAAC;EACD,CAAC;;EAED;EACArC,MAAM,CAAC2B,cAAc,CAAC,CAAC;AACzB,CAAC,CAAC;;AAEFe,CAAC,CAACK,IAAI,CAAC,kCAAkC,CAAC;AAC1CC,IAAI;EACF;AACF,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;EAClD,MAAM/C,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;;EAE7G;EACA,MAAMK,CAAC,CAAC3D,gBAAgB;IACtB,EAAEW,eAAe,EAAE,IAAI,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAED;EACAK,CAAC,CAACjC,sBAAsB,CAAC,IAAI,EAAExB,MAAM,CAAC;AACxC,CAAC,CAAC;;AAEF0C,CAAC,CAACK,IAAI,CAAC,+BAA+B,CAAC;AACvCC,IAAI;EACF;AACF;AACA,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd;EACA;IACE,MAAMzD,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1DsB,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;;EAEA;EACA;IACE,MAAMA,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1D,MAAM9B,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;IAC7HnC,MAAM,CAACgE,KAAK,CAAC,CAAC;IACdP,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;;EAEA;EACA;IACE,MAAMA,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;MACnCC,KAAK,EAAEC,cAAc,CAACC,QAAQ;MAC9BpC,IAAI,EAAE,EAAE;MACR4D,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACF/D,MAAM,CAACgE,KAAK,CAAC,CAAC;IACdP,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;AACF,CAAC,CAAC;;AAEF0C,CAAC,CAACK,IAAI,CAAC,gCAAgC,CAAC;AACxCC,IAAI;EACF;AACF;AACA,CAAC;AACDU,MAAM,CAAC,CAACR,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AACpDa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAMS,UAAU,GAAG,EAAE;EACrB,MAAMjE,MAAM,GAAG,CAAC;EAChB,MAAMyE,YAAY,GAAGR,UAAU,GAAGjE,MAAM;EACxC,MAAMF,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;EAC1D,MAAM9D,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;;EAE7G,MAAMwB,KAAK,GAAG5E,MAAM,CAAC2B,cAAc,CAAC,CAAC;EACrC8B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,YAAYhD,WAAW,CAAC;EACtC6B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAKqC,UAAU,CAAC;;EAEzCnE,MAAM,CAACgE,KAAK,CAAC,CAAC;EACdP,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAK,CAAC,CAAC;;EAEhC,MAAMzB,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,EAAElD,MAAM,CAAC,EAAE,MAAAG,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,EAAElD,MAAM,SAA/BF,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAElD,MAAM,EAAC,CAAC;EAC7H,MAAM2E,KAAK,GAAG7E,MAAM,CAAC2B,cAAc,CAAC,CAAC,CAAC;;EAEtC8B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAK,CAAC,CAAC;EAChC2B,CAAC,CAACvC,MAAM,CAAC2D,KAAK,CAAC/C,UAAU,KAAK6C,YAAY,CAAC;AAC7C,CAAC,CAAC;;AAEFjC,CAAC,CAACK,IAAI,CAAC,0CAA0C,CAAC;AAClDC,IAAI;EACF;AACF;AACA,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAMU,UAAU,GAAG,EAAE;EACrB,MAAMjE,MAAM,GAAG,CAAC;EAChB,MAAMyE,YAAY,GAAGR,UAAU,GAAGjE,MAAM;EACxC,MAAMF,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAEgE,UAAU;IAChB9B,KAAK,EAAEC,cAAc,CAACwC,QAAQ,GAAGxC,cAAc,CAACC,QAAQ;IACxDwB,gBAAgB,EAAE;EACpB,CAAC,CAAC;;EAEF,MAAMa,KAAK,GAAG5E,MAAM,CAAC2B,cAAc,CAAC,CAAC;EACrC8B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,YAAYhD,WAAW,CAAC;EACtC6B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAKqC,UAAU,CAAC;;EAEzCnE,MAAM,CAACgE,KAAK,CAAC,CAAC;EACdP,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAK,CAAC,CAAC;;EAEhC,MAAMzB,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,EAAEjC,MAAM,CAAC,EAAE,MAAAG,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,EAAEjC,MAAM,SAAvCF,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAEjC,MAAM,EAAC,CAAC;EAC7I,MAAM2E,KAAK,GAAG7E,MAAM,CAAC2B,cAAc,CAAC,CAAC,CAAC;;EAEtC8B,CAAC,CAACvC,MAAM,CAAC0D,KAAK,CAAC9C,UAAU,KAAK,CAAC,CAAC;EAChC2B,CAAC,CAACvC,MAAM,CAAC2D,KAAK,CAAC/C,UAAU,KAAK6C,YAAY,CAAC;AAC7C,CAAC,CAAC;;AAEFjC,CAAC,CAACK,IAAI,CAAC,gCAAgC,CAAC;AACxCC,IAAI;EACF;AACF;AACA,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd;EACA;IACE,MAAMzD,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1D9B,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtFL,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;;EAEA;EACA;IACE,MAAMA,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1D,MAAM9B,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;IAC7H9B,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtFL,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;;EAEA;EACA;IACE,MAAMA,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;MACnCC,KAAK,EAAEC,cAAc,CAACC,QAAQ;MAC9BpC,IAAI,EAAE,EAAE;MACR4D,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACF1D,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtFL,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;EACzC;AACF,CAAC,CAAC;;AAEF0C,CAAC,CAACK,IAAI,CAAC,qCAAqC,CAAC;AAC7CC,IAAI,CAAC,6EAA6E,CAAC;AACnFC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD,aAAa,MAAM2B,QAAQ,GAAG1E,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;EACrI;EACA,MAAM4B,QAAQ,GAAGvB,CAAC,CAAC3D,gBAAgB;IACjC,EAAEW,eAAe,EAAE,KAAK,EAAEc,cAAc,EAAE,IAAI,EAAEF,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAC9ErB,MAAM;IACNoD;EACF,CAAC;;EAED;EACAK,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,CAAC;;EAEvC,MAAM+E,QAAQ;;EAEd;EACAtB,CAAC,CAACjC,sBAAsB,CAAC,IAAI,EAAExB,MAAM,CAAC;;EAEtC,MAAMgF,QAAQ;AAChB,CAAC,CAAC;;AAEFtC,CAAC,CAACK,IAAI,CAAC,8CAA8C,CAAC;AACtDC,IAAI,CAAC,mFAAmF,CAAC;AACzFU,MAAM,CAAC,CAACR,CAAC;AACTA,CAAC;AACDK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC;AACnCsC,aAAa,CAAC,CAAC;AACf1B,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,EAAEV,gBAAgB,CAAC,CAAC;AAC3CU,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAEV,gBAAgB,EAAEA,gBAAgB,GAAG,CAAC,CAAC,CAAC;AAC9DU,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,EAAET,cAAc,EAAEA,cAAc,GAAG,CAAC,CAAC;AACvD,CAAC;AACDU,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAE8B,SAAS,EAAEhF,MAAM,EAAEC,IAAI,CAAC,CAAC,GAAGsD,CAAC,CAACC,MAAM;EACrD,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;EAClD,MAAM/C,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,EAAE8B,SAAS,CAAC,EAAE,MAAA7E,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,EAAE8B,SAAS,SAAlClF,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAE8B,SAAS,EAAC,CAAC;;EAEnI,MAAMzD,OAAO,GAAGvB,MAAM,GAAG2C,gBAAgB,KAAK,CAAC,IAAI1C,IAAI,GAAG2C,cAAc,KAAK,CAAC;EAC9EW,CAAC,CAACjC,sBAAsB,CAACC,OAAO,EAAEzB,MAAM,EAAEE,MAAM,GAAGgF,SAAS,EAAE/E,IAAI,CAAC;AACrE,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,wDAAwD,CAAC;AAChEC,IAAI,CAAC,mFAAmF,CAAC;AACzFC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC;AACDK,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAEV,gBAAgB,EAAEA,gBAAgB,GAAG,CAAC,CAAC,CAAC;AAC9DU,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,EAAET,cAAc,EAAEA,cAAc,GAAG,CAAC,CAAC;AACvD,CAAC;AACDU,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAM,EAAEvD,MAAM,EAAEC,IAAI,CAAC,CAAC,GAAGsD,CAAC,CAACC,MAAM;EACjC,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAE,EAAE;IACRkC,KAAK,EAAEC,cAAc,CAACwC,QAAQ;IAC9Bf,gBAAgB,EAAE;EACpB,CAAC,CAAC;EACF,MAAMtC,OAAO,GAAGvB,MAAM,GAAG2C,gBAAgB,KAAK,CAAC,IAAI1C,IAAI,GAAG2C,cAAc,KAAK,CAAC;EAC9EW,CAAC,CAACjC,sBAAsB,CAACC,OAAO,EAAEzB,MAAM,EAAEE,MAAM,EAAEC,IAAI,CAAC;AACzD,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,kDAAkD,CAAC;AAC1DC,IAAI;EACF;AACF;AACA,CAAC;AACDC,kBAAkB,CAAC;AACnB;AACA,EAAEkB,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACrD,EAAEsC,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE,CAAC,CAAC,CAAC;AAC7C,EAAEgE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE2C,cAAc,CAAC,CAAC;AAC1D,EAAEqB,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC7C,EAAEsC,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACrC,EAAEgE,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC5D,EAAEsC,UAAU,EAAE,CAAC,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,CAAC,CAAC,CAAC;;AAEpD;AACA,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE,EAAE,CAAC,CAAC;AAC/C,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;;AAEhE;AACA,EAAEqB,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACtD,EAAEsC,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC9C,EAAEsC,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC7D,EAAEsC,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC/C,EAAEsC,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,EAAE1C,IAAI,EAAE0B,SAAS,CAAC,CAAC;;AAElE;AACA,EAAEsC,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACvC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;AACxD,EAAEqB,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;;AAEtD,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACxC,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;AAC3D,EAAEgE,UAAU,EAAE,EAAE,EAAEjE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;AACzD,CAAC;AACDU,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAM,EAAEU,UAAU,EAAEjE,MAAM,EAAEC,IAAI,CAAC,CAAC,GAAGsD,CAAC,CAACC,MAAM;EAC7C,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAEgE,UAAU;IAChB9B,KAAK,EAAEC,cAAc,CAACwC,QAAQ;IAC9Bf,gBAAgB,EAAE;EACpB,CAAC,CAAC;;EAEF,MAAMoB,YAAY,GAAGjF,MAAM,IAAI,CAAC;EAChC,MAAMkF,UAAU,GAAGjF,IAAI,IAAIgE,UAAU,GAAGgB,YAAY;;EAEpD,MAAM1D,OAAO,GAAG0D,YAAY,IAAIhB,UAAU,IAAIgB,YAAY,GAAGC,UAAU,IAAIjB,UAAU;EACrFV,CAAC,CAACjC,sBAAsB,CAACC,OAAO,EAAEzB,MAAM,EAAEE,MAAM,EAAEC,IAAI,CAAC;AACzD,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,wCAAwC,CAAC;AAChDC,IAAI,CAAC,8EAA8E,CAAC;AACpFC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC;AACpCQ,iBAAiB,CAAC;AAClB;AACA,EAAEgB,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACvF,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE,CAAC,CAAC,CAAC;AAC/E;EACEgE,UAAU,EAAE,CAAC;EACbe,SAAS,EAAE,CAAC;EACZb,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE2B,SAAS;EACjB1B,IAAI,EAAE2C;AACR,CAAC;AACD,EAAEqB,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC/E,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AACvE;EACEgE,UAAU,EAAE,CAAC;EACbe,SAAS,EAAE,CAAC;EACZb,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE2C,gBAAgB;EACxB1C,IAAI,EAAE0B;AACR,CAAC;AACD,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,CAAC,CAAC,CAAC;;AAEtF;AACA,EAAEgE,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,CAAC,EAAEnE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC/E,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,CAAC,EAAEnE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACvE,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,CAAC,EAAEnE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC/D,EAAEgE,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,CAAC,EAAEnE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACtF,EAAEsC,UAAU,EAAE,CAAC,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,CAAC,EAAEnE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,CAAC,CAAC,CAAC;;AAE9E;AACA,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAErD,SAAS,EAAEwC,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACjF;EACEgE,UAAU,EAAE,EAAE;EACde,SAAS,EAAErD,SAAS;EACpBwC,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE,CAAC;EACTC,IAAI,EAAE,EAAE,GAAG2C;AACb,CAAC;AACD;EACEqB,UAAU,EAAE,EAAE;EACde,SAAS,EAAErD,SAAS;EACpBwC,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE2C,gBAAgB;EACxB1C,IAAI,EAAE;AACR,CAAC;;AAED;AACA,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;AAChF;EACEgE,UAAU,EAAE,EAAE;EACde,SAAS,EAAE,EAAE;EACbb,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE,CAAC;EACTC,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG2C;AAClB,CAAC;AACD;EACEqB,UAAU,EAAE,EAAE;EACde,SAAS,EAAE,EAAE;EACbb,OAAO,EAAExC,SAAS;EAClB3B,MAAM,EAAE2C,gBAAgB;EACxB1C,IAAI,EAAE,EAAE,GAAG;AACb,CAAC;;AAED;AACA,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AAClE,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;AACjF,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;;AAEnF,EAAEqB,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACnE,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;AACtF,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;;AAEpF;AACA,EAAEqB,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,CAAC,CAAC;AACpE,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;AACvF,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,GAAG2C,gBAAgB,EAAE1C,IAAI,EAAE,EAAE,CAAC,CAAC;AACvF,EAAEgE,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE,EAAE,GAAG2C,cAAc,CAAC,CAAC;;AAErF;AACA;AACA,EAAEqB,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAClF,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,CAAC,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC1E,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAC3E;AACA,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAClF,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,EAAE,EAAEb,OAAO,EAAExC,SAAS,EAAE3B,MAAM,EAAE,EAAE,EAAEC,IAAI,EAAE0B,SAAS,CAAC,CAAC;AAClF;AACA,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE0B,SAAS,CAAC,CAAC;AACjF,EAAEsC,UAAU,EAAE,EAAE,EAAEe,SAAS,EAAE,CAAC,EAAEb,OAAO,EAAE,EAAE,EAAEnE,MAAM,EAAE2B,SAAS,EAAE1B,IAAI,EAAE,EAAE,CAAC,CAAC;AAC1E;AACA,CAAC;AACDqD,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,EAAEe,UAAU,EAAEe,SAAS,EAAEb,OAAO,EAAEnE,MAAM,EAAEC,IAAI,CAAC,CAAC,GAAGsD,CAAC,CAACC,MAAM;EAC1E,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAEe,UAAU,CAAC;EAC1D,MAAM9D,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,EAAE8B,SAAS,EAAEb,OAAO,CAAC,EAAE,MAAAhE,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,EAAE8B,SAAS,EAAEb,OAAO,SAA3CrE,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAE8B,SAAS,EAAEb,OAAO,EAAC,CAAC;;EAErJ,MAAMgB,eAAe,GAAGH,SAAS,IAAI,CAAC;EACtC,MAAMI,aAAa,GAAGjB,OAAO,IAAIF,UAAU,GAAGkB,eAAe;;EAE7D,MAAMF,YAAY,GAAGjF,MAAM,IAAI,CAAC;EAChC,MAAMkF,UAAU,GAAGjF,IAAI,IAAIgE,UAAU,GAAGgB,YAAY;;EAEpD,MAAM1D,OAAO;EACb0D,YAAY,IAAIE,eAAe;EAC/BF,YAAY,IAAIhB,UAAU;EAC1BgB,YAAY,GAAGC,UAAU,IAAIC,eAAe,GAAGC,aAAa;EAC5D7B,CAAC,CAACjC,sBAAsB,CAACC,OAAO,EAAEzB,MAAM,EAAEE,MAAM,EAAEC,IAAI,CAAC;AACzD,CAAC,CAAC;;AAEFuC,CAAC,CAACK,IAAI,CAAC,+BAA+B,CAAC;AACvCC,IAAI,CAAC,qEAAqE,CAAC;AAC3EC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDK,OAAO,CAAC,mBAAmB,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC5CJ,iBAAiB,CAAC;AAClB;AACA,EAAEmB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;;AAE/C,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;;AAE/C;AACA,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;;AAE/C,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;;AAE/C;AACA,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,EAAE,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC;AACjD,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,CAAC,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,EAAE,CAAC,CAAC;;AAEjD;AACA,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,EAAE,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,EAAE,CAAC,CAAC;AACjD,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,EAAE,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,EAAE,CAAC,CAAC;;AAElD;AACA,EAAElB,OAAO,EAAE,CAAC,EAAEiB,KAAK,EAAE,EAAE,EAAEnB,OAAO,EAAE,EAAE,EAAEoB,KAAK,EAAE,EAAE,CAAC,CAAC;AACjD,EAAElB,OAAO,EAAE,EAAE,EAAEiB,KAAK,EAAE,EAAE,EAAEnB,OAAO,EAAE,CAAC,EAAEoB,KAAK,EAAE,EAAE,CAAC,CAAC;AACjD;AACA,CAAC;AACDhC,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEa,OAAO,EAAEiB,KAAK,EAAEnB,OAAO,EAAEoB,KAAK,EAAEC,iBAAiB,CAAC,CAAC,GAAGhC,CAAC,CAACC,MAAM;EACtE,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC,EAAEjC,IAAI,EAAE,EAAE,EAAEkC,KAAK,EAAEC,cAAc,CAACC,QAAQ,CAAC,CAAC,CAAC;EAClF,MAAMlC,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;;EAE7HsB,CAAC,CAACjC,sBAAsB,CAAC,IAAI,EAAExB,MAAM,EAAEsE,OAAO,EAAEiB,KAAK,CAAC;;EAEtD,IAAIE,iBAAiB,EAAE;IACrBzF,MAAM,CAACgE,KAAK,CAAC,CAAC;IACd,MAAM3D,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;EAC/H;;EAEA,MAAMuD,kBAAkB,GAAGpB,OAAO,IAAIF,OAAO,GAAGoB,KAAK;EACrD,MAAMG,kBAAkB,GAAGvB,OAAO,IAAIE,OAAO,GAAGiB,KAAK;EACrD,MAAMK,QAAQ,GAAGF,kBAAkB,IAAIC,kBAAkB;EACzD,MAAMlE,OAAO,GAAGmE,QAAQ,IAAIH,iBAAiB;;EAE7ChC,CAAC,CAACjC,sBAAsB,CAACC,OAAO,EAAEzB,MAAM,EAAEoE,OAAO,EAAEoB,KAAK,CAAC;AAC3D,CAAC,CAAC;;AAEF9C,CAAC,CAACK,IAAI,CAAC,oCAAoC,CAAC;AAC5CC,IAAI,CAAC,kFAAkF,CAAC;AACxFQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAMoC,OAAO,GAAG,GAAG;EACnB,MAAMC,WAAW,GAAG,GAAG;;EAEvB,MAAM9F,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IACnCjC,IAAI,EAAE0F,OAAO,GAAGC,WAAW;IAC3BzD,KAAK,EAAEC,cAAc,CAACC;EACxB,CAAC,CAAC;EACF,MAAMlC,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;;EAE7H;EACA,KAAK,IAAI4D,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAGD,WAAW,EAAEC,MAAM,EAAE,EAAE;IACnDtC,CAAC,CAACjC,sBAAsB,CAAC,IAAI,EAAExB,MAAM,EAAE+F,MAAM,GAAGF,OAAO,EAAE,CAAC,CAAC;EAC7D;;EAEA;EACA;EACA,KAAK,IAAIE,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAGD,WAAW,EAAEC,MAAM,EAAE,EAAE;IACnDtC,CAAC,CAACjC,sBAAsB,CAAC,KAAK,EAAExB,MAAM,EAAE+F,MAAM,GAAGF,OAAO,EAAEA,OAAO,CAAC;IAClEpC,CAAC,CAACjC,sBAAsB,CAAC,IAAI,EAAExB,MAAM,EAAE+F,MAAM,GAAGF,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAG,CAAC,CAAC;EAC3E;AACF,CAAC,CAAC;;AAEFnD,CAAC,CAACK,IAAI,CAAC,sBAAsB,CAAC;AAC9BC,IAAI;EACF;AACF;AACA,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd;EACA;IACE,MAAMzD,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC,EAAEjC,IAAI,EAAE,EAAE,EAAEkC,KAAK,EAAEC,cAAc,CAACC,QAAQ,CAAC,CAAC,CAAC;IAClFvC,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;;EAEA;EACA;IACE,MAAMhE,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1D,MAAM9B,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;IAC7HnC,MAAM,CAACgE,KAAK,CAAC,CAAC;IACdhE,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;;EAEA;EACA;IACE,MAAMhE,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;MACnCC,KAAK,EAAEC,cAAc,CAACC,QAAQ;MAC9BpC,IAAI,EAAE,EAAE;MACR4D,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACF/D,MAAM,CAACgE,KAAK,CAAC,CAAC;IACdhE,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;AACF,CAAC,CAAC;;AAEFtB,CAAC,CAACK,IAAI,CAAC,uBAAuB,CAAC;AAC/BC,IAAI;EACF;AACF;AACA,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd;EACA;IACE,MAAMzD,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC,EAAEjC,IAAI,EAAE,EAAE,EAAEkC,KAAK,EAAEC,cAAc,CAACC,QAAQ,CAAC,CAAC,CAAC;IAClFlC,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtF9D,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;;EAEA;EACA;IACE,MAAMhE,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACE,UAAU,CAACC,IAAI,EAAE,EAAE,CAAC;IAC1D,MAAM9B,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC2B,UAAU,CAACC,IAAI,CAAC,EAAE,MAAA9B,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU2B,UAAU,CAACC,IAAI,SAA/BnC,MAAM,CAACO,QAAQ,CAAC2B,UAAU,CAACC,IAAI,EAAC,CAAC;IAC7H9B,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtF9D,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;;EAEA;EACA;IACE,MAAMhE,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;MACnCC,KAAK,EAAEC,cAAc,CAACC,QAAQ;MAC9BpC,IAAI,EAAE,EAAE;MACR4D,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACF1D,UAAU,CAACC,YAAY,CAAC,SAAS,EAAEN,MAAM,EAAEA,MAAM,CAAC8D,OAAO,EAAE,EAAE,EAAE,MAAAzD,UAAA,CAAAC,YAAA,YAAMN,MAAM,EAANA,MAAM,CAAA8D,OAAA,YAAN9D,MAAM,CAAC8D,OAAO,GAAE,CAAC;IACtF9D,MAAM,CAACgE,KAAK,CAAC,CAAC;EAChB;AACF,CAAC,CAAC;;AAEFtB,CAAC,CAACK,IAAI,CAAC,8BAA8B,CAAC;AACtCC,IAAI,CAAC,mFAAmF,CAAC;AACzFC,kBAAkB,CAAC,CAACC,CAAC;AACrBA,CAAC,CAAC;AAAA,CACDK,OAAO,CAAC,aAAa,EAAE7D,aAAa;AACrC,CAAC;AACD8D,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAM,EAAEgB,WAAW,CAAC,CAAC,GAAGhB,CAAC,CAACC,MAAM;EAChC,MAAM1D,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC,EAAEjC,IAAI,EAAE,EAAE,EAAEkC,KAAK,EAAEoC,WAAW,EAAEV,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;;EAE9F/D,MAAM,CAACgE,KAAK,CAAC,CAAC;AAChB,CAAC,CAAC;;AAEFtB,CAAC,CAACK,IAAI,CAAC,oBAAoB,CAAC;AAC5BC,IAAI,CAAC,0DAA0D,CAAC;AAChEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD,MAAM/C,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;EAC7GpD,MAAM,CAACgE,KAAK,CAAC,CAAC;AAChB,CAAC,CAAC;;AAEFtB,CAAC,CAACK,IAAI,CAAC,4BAA4B,CAAC;AACpCC,IAAI,CAAC,gEAAgE,CAAC;AACtEC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;EAC5B,MAAM1D,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,EAAE,CAAC;;EAElD,MAAMS,OAAO,GAAGJ,CAAC,CAAC3D,gBAAgB;IAChC,EAAEW,eAAe,EAAE,KAAK,EAAEc,cAAc,EAAE,KAAK,EAAEF,UAAU,EAAE,YAAY,CAAC,CAAC;IAC3ErB,MAAM;IACNoD;EACF,CAAC;EACDpD,MAAM,CAACgE,KAAK,CAAC,CAAC;EACd,MAAMH,OAAO;AACf,CAAC,CAAC;;AAEFnB,CAAC,CAACK,IAAI,CAAC,8BAA8B,CAAC;AACtCC,IAAI;EACF;AACF,CAAC;AACDQ,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,IAAIzD,MAAM,GAAG,IAAI;EACjBA,MAAM,GAAGyD,CAAC,CAACrB,mBAAmB,CAAC;IAC7BjC,IAAI,EAAE,GAAG;IACTkC,KAAK,EAAEC,cAAc,CAACwC,QAAQ;IAC9Bf,gBAAgB,EAAE;EACpB,CAAC,CAAC;;EAEF;EACA,MAAMiC,QAAQ,GAAG,IAAIC,WAAW,CAACjG,MAAM,CAAC2B,cAAc,CAAC,CAAC,CAAC;EACzD,KAAK,IAAIuE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACxCF,QAAQ,CAACE,CAAC,CAAC,GAAGA,CAAC;EACjB;;EAEA;EACA;EACA;EACA;EACAlG,MAAM,GAAG,IAAI;EACb,MAAMT,wBAAwB,CAAC,CAAC;;EAEhC;EACA,KAAK,IAAI2G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACxCzC,CAAC,CAACvC,MAAM,CAAC8E,QAAQ,CAACE,CAAC,CAAC,KAAKA,CAAC,CAAC;IAC3BF,QAAQ,CAACE,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC;EACrB;AACF,CAAC,CAAC;;AAEFxD,CAAC,CAACK,IAAI,CAAC,sBAAsB,CAAC;AAC9BC,IAAI;EACF;AACF,CAAC;AACDC,kBAAkB,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACK,OAAO,CAAC,SAAS,EAAEZ,eAAe,CAAC,CAAC;AAChEa,EAAE,CAAC,OAAOC,CAAC,KAAK;EACd,MAAM,EAAEL,OAAO,CAAC,CAAC,GAAGK,CAAC,CAACC,MAAM;;EAE5B,IAAI1D,MAAM,GAAG,IAAI;EACjBA,MAAM,GAAGyD,CAAC,CAACzB,oBAAoB,CAACoB,OAAO,EAAE,GAAG,CAAC;EAC7C,MAAM/C,UAAU,CAACC,YAAY,CAAC,UAAU,EAAEN,MAAM,EAAEA,MAAM,CAACO,QAAQ,EAAE,CAAC6C,OAAO,CAAC,EAAE,MAAA/C,UAAA,CAAAC,YAAA,aAAMN,MAAM,EAANA,MAAM,CAAAO,QAAA,GAAU6C,OAAO,SAAvBpD,MAAM,CAACO,QAAQ,CAAC6C,OAAO,EAAC,CAAC;;EAE7G;EACA,MAAM4C,QAAQ,GAAG,IAAIC,WAAW,CAACjG,MAAM,CAAC2B,cAAc,CAAC,CAAC,CAAC;EACzD,KAAK,IAAIuE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACxCF,QAAQ,CAACE,CAAC,CAAC,GAAGA,CAAC;EACjB;;EAEA;EACA;EACA;EACA;EACAlG,MAAM,GAAG,IAAI;EACb,MAAMT,wBAAwB,CAAC,CAAC;;EAEhC;EACA,KAAK,IAAI2G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACxCzC,CAAC,CAACvC,MAAM,CAAC8E,QAAQ,CAACE,CAAC,CAAC,KAAKA,CAAC,CAAC;IAC3BF,QAAQ,CAACE,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC;EACrB;AACF,CAAC,CAAC","ignoreList":[]}