{"version":3,"file":"debug.spec.js","names":["description","makeTestGroup","kEncoderTypes","ValidationTest","g","test","params","u","combine","beginSubcases","fn","t","encoder","validateFinishAndSubmit","createEncoder","encoderType","i","pushCount","pushDebugGroup","popCount","popDebugGroup","label","insertDebugMarker"],"sources":["../../../../../../src/webgpu/api/validation/encoding/cmds/debug.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nAPI validation test for debug groups and markers\n\nTest Coverage:\n  - For each encoder type (GPUCommandEncoder, GPUComputeEncoder, GPURenderPassEncoder,\n  GPURenderBundleEncoder):\n    - Test that all pushDebugGroup must have a corresponding popDebugGroup\n      - Push and pop counts of 0, 1, and 2 will be used.\n      - An error must be generated for non matching counts.\n    - Test calling pushDebugGroup with empty and non-empty strings.\n    - Test inserting a debug marker with empty and non-empty strings.\n    - Test strings with \\0 in them.\n    - Test non-ASCII strings.\n`;import { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { kEncoderTypes } from '../../../../util/command_buffer_maker.js';\nimport { ValidationTest } from '../../validation_test.js';\n\nexport const g = makeTestGroup(ValidationTest);\n\ng.test('debug_group_balanced').\nparams((u) =>\nu.\ncombine('encoderType', kEncoderTypes).\nbeginSubcases().\ncombine('pushCount', [0, 1, 2]).\ncombine('popCount', [0, 1, 2])\n).\nfn((t) => {\n  const { encoder, validateFinishAndSubmit } = t.createEncoder(t.params.encoderType);\n  for (let i = 0; i < t.params.pushCount; ++i) {\n    encoder.pushDebugGroup(`${i}`);\n  }\n  for (let i = 0; i < t.params.popCount; ++i) {\n    encoder.popDebugGroup();\n  }\n  validateFinishAndSubmit(t.params.pushCount === t.params.popCount, true);\n});\n\ng.test('debug_group').\nparams((u) =>\nu //\n.combine('encoderType', kEncoderTypes).\nbeginSubcases().\ncombine('label', ['', 'group', 'null\\0in\\0group\\0label', '\\0null at beginning', 'ðŸŒžðŸ‘†'])\n).\nfn((t) => {\n  const { encoder, validateFinishAndSubmit } = t.createEncoder(t.params.encoderType);\n  encoder.pushDebugGroup(t.params.label);\n  encoder.popDebugGroup();\n  validateFinishAndSubmit(true, true);\n});\n\ng.test('debug_marker').\nparams((u) =>\nu //\n.combine('encoderType', kEncoderTypes).\nbeginSubcases().\ncombine('label', ['', 'marker', 'null\\0in\\0marker', '\\0null at beginning', 'ðŸŒžðŸ‘†'])\n).\nfn((t) => {\n  const { encoder, validateFinishAndSubmit } = t.createEncoder(t.params.encoderType);\n  encoder.insertDebugMarker(t.params.label);\n  validateFinishAndSubmit(true, true);\n});"],"mappings":"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","ignoreList":[]}