{"version":3,"file":"compute_pass.spec.js","names":["description","makeTestGroup","makeValueTestVariant","kBufferUsages","GPUConst","kResourceStates","ValidationTest","F","createComputePipeline","state","createNoOpComputePipeline","createErrorComputePipeline","createIndirectBuffer","data","descriptor","size","byteLength","usage","GPUBufferUsage","INDIRECT","COPY_DST","device","pushErrorScope","buffer","createBufferTracked","popErrorScope","queue","writeBuffer","globalThis","_TRAMPOLINE_","destroy","g","test","desc","params","u","beginSubcases","combine","fn","t","pipeline","encoder","validateFinishAndSubmitGivenState","createEncoder","setPipeline","paramsSubcasesOnly","beforeAllSubcases","selectMismatchedDeviceOrSkipTestCase","undefined","mismatched","sourceDevice","mismatchedDevice","layout","compute","module","createShaderModule","code","entryPoint","validateFinish","mult","add","dispatchType","largeDimIndex","smallDimValue","largeDimValueVariant","maxDispatch","limits","maxComputeWorkgroupsPerDimension","largeDimValue","workSizes","validateFinishAndSubmit","x","y","z","dispatchWorkgroups","dispatchWorkgroupsIndirect","Uint32Array","shouldError","kBufferData","fill","BYTES_PER_ELEMENT","offset","finishShouldError","trackForCleanup","createBuffer","unless","bufferUsage0","bufferUsage1","BufferUsage","MAP_READ","MAP_WRITE","bufferUsage","createPipelineLayout","bindGroupLayouts","success"],"sources":["../../../../../../src/webgpu/api/validation/encoding/cmds/compute_pass.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nAPI validation test for compute pass\n\nDoes **not** test usage scopes (resource_usages/) or programmable pass stuff (programmable_pass).\n`;import { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { makeValueTestVariant } from '../../../../../common/util/util.js';\nimport { kBufferUsages } from '../../../../capability_info.js';\nimport { GPUConst } from '../../../../constants.js';\nimport { kResourceStates } from '../../../../gpu_test.js';\nimport { ValidationTest } from '../../validation_test.js';\n\nclass F extends ValidationTest {\n  createComputePipeline(state) {\n    if (state === 'valid') {\n      return this.createNoOpComputePipeline();\n    }\n\n    return this.createErrorComputePipeline();\n  }\n\n  createIndirectBuffer(state, data) {\n    const descriptor = {\n      size: data.byteLength,\n      usage: GPUBufferUsage.INDIRECT | GPUBufferUsage.COPY_DST\n    };\n\n    if (state === 'invalid') {\n      descriptor.usage = 0xffff; // Invalid GPUBufferUsage\n    }\n\n    this.device.pushErrorScope('validation');\n    const buffer = this.createBufferTracked(descriptor);\n    void this.device.popErrorScope();\n\n    if (state === 'valid') {\n      this.queue.writeBuffer(buffer, 0, data);\n    }\n\n    if (state === 'destroyed') {\n      globalThis._TRAMPOLINE_(\"destroy\", buffer, buffer.destroy, [], () => buffer.destroy());\n    }\n\n    return buffer;\n  }\n}\n\nexport const g = makeTestGroup(F);\n\ng.test('set_pipeline').\ndesc(\n  `\nsetPipeline should generate an error iff using an 'invalid' pipeline.\n`\n).\nparams((u) => u.beginSubcases().combine('state', ['valid', 'invalid'])).\nfn((t) => {\n  const { state } = t.params;\n  const pipeline = t.createComputePipeline(state);\n\n  const { encoder, validateFinishAndSubmitGivenState } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n  validateFinishAndSubmitGivenState(state);\n});\n\ng.test('pipeline,device_mismatch').\ndesc('Tests setPipeline cannot be called with a compute pipeline created from another device').\nparamsSubcasesOnly((u) => u.combine('mismatched', [true, false])).\nbeforeAllSubcases((t) => {\n  t.selectMismatchedDeviceOrSkipTestCase(undefined);\n}).\nfn((t) => {\n  const { mismatched } = t.params;\n  const sourceDevice = mismatched ? t.mismatchedDevice : t.device;\n\n  const pipeline = sourceDevice.createComputePipeline({\n    layout: 'auto',\n    compute: {\n      module: sourceDevice.createShaderModule({\n        code: '@compute @workgroup_size(1) fn main() {}'\n      }),\n      entryPoint: 'main'\n    }\n  });\n\n  const { encoder, validateFinish } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n  validateFinish(!mismatched);\n});\n\ng.test('dispatch_sizes').\ndesc(\n  `Test 'direct' and 'indirect' dispatch with various sizes.\n\n  Only direct dispatches can produce validation errors.\n  Workgroup sizes:\n    - valid: { zero, one, just under limit }\n    - invalid: { just over limit, way over limit }\n\n  TODO: Verify that the invalid cases don't execute any invocations at all.\n`\n).\nparams((u) =>\nu.\ncombine('dispatchType', ['direct', 'indirect']).\ncombine('largeDimValueVariant', [\n{ mult: 0, add: 0 },\n{ mult: 0, add: 1 },\n{ mult: 1, add: 0 },\n{ mult: 1, add: 1 },\n{ mult: 0, add: 0x7fff_ffff },\n{ mult: 0, add: 0xffff_ffff }]\n).\nbeginSubcases().\ncombine('largeDimIndex', [0, 1, 2]).\ncombine('smallDimValue', [0, 1])\n).\nfn((t) => {\n  const { dispatchType, largeDimIndex, smallDimValue, largeDimValueVariant } = t.params;\n  const maxDispatch = t.device.limits.maxComputeWorkgroupsPerDimension;\n  const largeDimValue = makeValueTestVariant(maxDispatch, largeDimValueVariant);\n\n  const pipeline = t.createNoOpComputePipeline();\n\n  const workSizes = [smallDimValue, smallDimValue, smallDimValue];\n  workSizes[largeDimIndex] = largeDimValue;\n\n  const { encoder, validateFinishAndSubmit } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n  if (dispatchType === 'direct') {\n    const [x, y, z] = workSizes;\n    encoder.dispatchWorkgroups(x, y, z);\n  } else if (dispatchType === 'indirect') {\n    encoder.dispatchWorkgroupsIndirect(\n      t.createIndirectBuffer('valid', new Uint32Array(workSizes)),\n      0\n    );\n  }\n\n  const shouldError =\n  dispatchType === 'direct' && (\n  workSizes[0] > maxDispatch || workSizes[1] > maxDispatch || workSizes[2] > maxDispatch);\n\n  validateFinishAndSubmit(!shouldError, true);\n});\n\nconst kBufferData = new Uint32Array(6).fill(1);\ng.test('indirect_dispatch_buffer_state').\ndesc(\n  `\nTest dispatchWorkgroupsIndirect validation by submitting various dispatches with a no-op pipeline\nand an indirectBuffer with 6 elements.\n- indirectBuffer: {'valid', 'invalid', 'destroyed'}\n- indirectOffset:\n  - valid, within the buffer: {beginning, middle, end} of the buffer\n  - invalid, non-multiple of 4\n  - invalid, the last element is outside the buffer\n`\n).\nparamsSubcasesOnly((u) =>\nu //\n.combine('state', kResourceStates).\ncombine('offset', [\n// valid (for 'valid' buffers)\n0,\nUint32Array.BYTES_PER_ELEMENT,\nkBufferData.byteLength - 3 * Uint32Array.BYTES_PER_ELEMENT,\n// invalid, non-multiple of 4 offset\n1,\n// invalid, last element outside buffer\nkBufferData.byteLength - 2 * Uint32Array.BYTES_PER_ELEMENT]\n)\n).\nfn((t) => {\n  const { state, offset } = t.params;\n  const pipeline = t.createNoOpComputePipeline();\n  const buffer = t.createIndirectBuffer(state, kBufferData);\n\n  const { encoder, validateFinishAndSubmit } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n  encoder.dispatchWorkgroupsIndirect(buffer, offset);\n\n  const finishShouldError =\n  state === 'invalid' ||\n  offset % 4 !== 0 ||\n  offset + 3 * Uint32Array.BYTES_PER_ELEMENT > kBufferData.byteLength;\n  validateFinishAndSubmit(!finishShouldError, state !== 'destroyed');\n});\n\ng.test('indirect_dispatch_buffer,device_mismatch').\ndesc(\n  `Tests dispatchWorkgroupsIndirect cannot be called with an indirect buffer created from another device`\n).\nparamsSubcasesOnly((u) => u.combine('mismatched', [true, false])).\nbeforeAllSubcases((t) => {\n  t.selectMismatchedDeviceOrSkipTestCase(undefined);\n}).\nfn((t) => {\n  const { mismatched } = t.params;\n\n  const pipeline = t.createNoOpComputePipeline();\n\n  const sourceDevice = mismatched ? t.mismatchedDevice : t.device;\n\n  const buffer = t.trackForCleanup(globalThis._TRAMPOLINE_(\"createBuffer\",\n  sourceDevice, sourceDevice.createBuffer, [{\n    size: 16,\n    usage: GPUBufferUsage.INDIRECT\n  }], () => sourceDevice.createBuffer({ size: 16, usage: GPUBufferUsage.INDIRECT }))\n  );\n\n  const { encoder, validateFinish } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n  encoder.dispatchWorkgroupsIndirect(buffer, 0);\n  validateFinish(!mismatched);\n});\n\ng.test('indirect_dispatch_buffer,usage').\ndesc(\n  `\n    Tests dispatchWorkgroupsIndirect generates a validation error if the buffer usage does not\n    contain INDIRECT usage.\n  `\n).\nparamsSubcasesOnly((u) =>\nu\n// If bufferUsage0 and bufferUsage1 are the same, the usage being test is a single usage.\n// Otherwise, it's a combined usage.\n.combine('bufferUsage0', kBufferUsages).\ncombine('bufferUsage1', kBufferUsages).\nunless(\n  ({ bufferUsage0, bufferUsage1 }) =>\n  ((bufferUsage0 | bufferUsage1) & (\n  GPUConst.BufferUsage.MAP_READ | GPUConst.BufferUsage.MAP_WRITE)) !==\n  0\n)\n).\nfn((t) => {\n  const { bufferUsage0, bufferUsage1 } = t.params;\n\n  const bufferUsage = bufferUsage0 | bufferUsage1;\n\n  const layout = t.device.createPipelineLayout({ bindGroupLayouts: [] });\n  const pipeline = t.createNoOpComputePipeline(layout);\n\n  const buffer = t.createBufferTracked({\n    size: 16,\n    usage: bufferUsage\n  });\n\n  const success = (GPUBufferUsage.INDIRECT & bufferUsage) !== 0;\n\n  const { encoder, validateFinish } = t.createEncoder('compute pass');\n  encoder.setPipeline(pipeline);\n\n  encoder.dispatchWorkgroupsIndirect(buffer, 0);\n  validateFinish(success);\n});"],"mappings":"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","ignoreList":[]}