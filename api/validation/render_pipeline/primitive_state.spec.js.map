{"version":3,"file":"primitive_state.spec.js","names":["description","makeTestGroup","kPrimitiveTopology","kIndexFormat","CreateRenderPipelineValidationTest","g","test","desc","params","u","combine","undefined","fn","t","isAsync","topology","stripIndexFormat","descriptor","getDescriptor","primitive","_success","doCreateRenderPipelineTest","unclippedDepth","device","features","has"],"sources":["../../../../../src/webgpu/api/validation/render_pipeline/primitive_state.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nThis test dedicatedly tests validation of GPUPrimitiveState of createRenderPipeline.\n`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { kPrimitiveTopology, kIndexFormat } from '../../../capability_info.js';\n\nimport { CreateRenderPipelineValidationTest } from './common.js';\n\nexport const g = makeTestGroup(CreateRenderPipelineValidationTest);\n\ng.test('strip_index_format').\ndesc(\n  `If primitive.topology is not \"line-strip\" or \"triangle-strip\", primitive.stripIndexFormat must be undefined.`\n).\nparams((u) =>\nu.\ncombine('isAsync', [false, true]).\ncombine('topology', [undefined, ...kPrimitiveTopology]).\ncombine('stripIndexFormat', [undefined, ...kIndexFormat])\n).\nfn((t) => {\n  const { isAsync, topology, stripIndexFormat } = t.params;\n\n  const descriptor = t.getDescriptor({ primitive: { topology, stripIndexFormat } });\n\n  const _success =\n  topology === 'line-strip' || topology === 'triangle-strip' || stripIndexFormat === undefined;\n  t.doCreateRenderPipelineTest(isAsync, _success, descriptor);\n});\n\ng.test('unclipped_depth').\ndesc(`If primitive.unclippedDepth is true, features must contain \"depth-clip-control\".`).\nparams((u) => u.combine('isAsync', [false, true]).combine('unclippedDepth', [false, true])).\nfn((t) => {\n  const { isAsync, unclippedDepth } = t.params;\n\n  const descriptor = t.getDescriptor({ primitive: { unclippedDepth } });\n\n  const _success = !unclippedDepth || t.device.features.has('depth-clip-control');\n  t.doCreateRenderPipelineTest(isAsync, _success, descriptor);\n});"],"mappings":";;IAAA;AACA;AACA,GAAG,OAAO,MAAMA,WAAW,GAAG;AAC9B;AACA,CAAC,CAAC,SAASC,aAAa,QAAQ,4CAA4C,CAC5E,SAASC,kBAAkB,EAAEC,YAAY,QAAQ,6BAA6B;AAE9E,SAASC,kCAAkC,QAAQ,aAAa;;AAEhE,OAAO,MAAMC,CAAC,GAAGJ,aAAa,CAACG,kCAAkC,CAAC;;AAElEC,CAAC,CAACC,IAAI,CAAC,oBAAoB,CAAC;AAC5BC,IAAI;EACF;AACF,CAAC;AACDC,MAAM,CAAC,CAACC,CAAC;AACTA,CAAC;AACDC,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACjCA,OAAO,CAAC,UAAU,EAAE,CAACC,SAAS,EAAE,GAAGT,kBAAkB,CAAC,CAAC;AACvDQ,OAAO,CAAC,kBAAkB,EAAE,CAACC,SAAS,EAAE,GAAGR,YAAY,CAAC;AACxD,CAAC;AACDS,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAM,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,gBAAgB,CAAC,CAAC,GAAGH,CAAC,CAACL,MAAM;;EAExD,MAAMS,UAAU,GAAGJ,CAAC,CAACK,aAAa,CAAC,EAAEC,SAAS,EAAE,EAAEJ,QAAQ,EAAEC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEjF,MAAMI,QAAQ;EACdL,QAAQ,KAAK,YAAY,IAAIA,QAAQ,KAAK,gBAAgB,IAAIC,gBAAgB,KAAKL,SAAS;EAC5FE,CAAC,CAACQ,0BAA0B,CAACP,OAAO,EAAEM,QAAQ,EAAEH,UAAU,CAAC;AAC7D,CAAC,CAAC;;AAEFZ,CAAC,CAACC,IAAI,CAAC,iBAAiB,CAAC;AACzBC,IAAI,CAAC,kFAAkF,CAAC;AACxFC,MAAM,CAAC,CAACC,CAAC,KAAKA,CAAC,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAACA,OAAO,CAAC,gBAAgB,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAC3FE,EAAE,CAAC,CAACC,CAAC,KAAK;EACR,MAAM,EAAEC,OAAO,EAAEQ,cAAc,CAAC,CAAC,GAAGT,CAAC,CAACL,MAAM;;EAE5C,MAAMS,UAAU,GAAGJ,CAAC,CAACK,aAAa,CAAC,EAAEC,SAAS,EAAE,EAAEG,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;;EAErE,MAAMF,QAAQ,GAAG,CAACE,cAAc,IAAIT,CAAC,CAACU,MAAM,CAACC,QAAQ,CAACC,GAAG,CAAC,oBAAoB,CAAC;EAC/EZ,CAAC,CAACQ,0BAA0B,CAACP,OAAO,EAAEM,QAAQ,EAAEH,UAAU,CAAC;AAC7D,CAAC,CAAC","ignoreList":[]}