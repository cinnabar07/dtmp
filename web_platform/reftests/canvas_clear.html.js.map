{"version":3,"file":"canvas_clear.html.js","names":["runRefTest","t","draw","canvasId","format","canvas","document","getElementById","ctx","getContext","configure","device","colorAttachment","getCurrentTexture","colorAttachmentView","createView","encoder","globalThis","_TRAMPOLINE_","createCommandEncoder","pass","beginRenderPass","colorAttachments","view","clearValue","r","g","b","a","loadOp","storeOp","end","queue","submit","finish"],"sources":["../../../../src/webgpu/web_platform/reftests/canvas_clear.html.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/import { runRefTest } from './gpu_ref_test.js';runRefTest((t) => {\n  function draw(canvasId, format) {\n    const canvas = document.getElementById(canvasId);\n\n    const ctx = canvas.getContext('webgpu');\n    ctx.configure({\n      device: t.device,\n      format\n    });\n\n    const colorAttachment = ctx.getCurrentTexture();\n    const colorAttachmentView = colorAttachment.createView();\n\n    const encoder = globalThis._TRAMPOLINE_(\"createCommandEncoder\", t.device, t.device.createCommandEncoder, [], () => t.device.createCommandEncoder());\n    const pass = encoder.beginRenderPass({\n      colorAttachments: [\n      {\n        view: colorAttachmentView,\n        clearValue: { r: 0.4, g: 1.0, b: 0.0, a: 1.0 },\n        loadOp: 'clear',\n        storeOp: 'store'\n      }]\n\n    });\n    pass.end();\n    globalThis._TRAMPOLINE_(\"submit\", t.device, t.device.queue.submit, [[encoder.finish()]], () => t.device.queue.submit([encoder.finish()]));\n  }\n\n  draw('cvs0', 'bgra8unorm');\n  draw('cvs1', 'rgba8unorm');\n  draw('cvs2', 'rgba16float');\n});"],"mappings":";;IAAA;AACA;AACA,GAAG,SAASA,UAAU,QAAQ,mBAAmB,CAACA,UAAU,CAAC,CAACC,CAAC,KAAK,CAClE,SAASC,IAAIA,CAACC,QAAQ,EAAEC,MAAM,EAAE,CAC9B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAACJ,QAAQ,CAAC;;MAEhD,MAAMK,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,QAAQ,CAAC;MACvCD,GAAG,CAACE,SAAS,CAAC;QACZC,MAAM,EAAEV,CAAC,CAACU,MAAM;QAChBP;MACF,CAAC,CAAC;;MAEF,MAAMQ,eAAe,GAAGJ,GAAG,CAACK,iBAAiB,CAAC,CAAC;MAC/C,MAAMC,mBAAmB,GAAGF,eAAe,CAACG,UAAU,CAAC,CAAC;;MAExD,MAAMC,OAAO,GAAGC,UAAU,CAACC,YAAY,CAAC,sBAAsB,EAAEjB,CAAC,CAACU,MAAM,EAAEV,CAAC,CAACU,MAAM,CAACQ,oBAAoB,EAAE,EAAE,EAAE,MAAAF,UAAA,CAAAC,YAAA,yBAAMjB,CAAC,CAACU,MAAM,EAARV,CAAC,CAACU,MAAM,CAAAQ,oBAAA,YAARlB,CAAC,CAACU,MAAM,CAACQ,oBAAoB,GAAE,CAAC;MACnJ,MAAMC,IAAI,GAAGJ,OAAO,CAACK,eAAe,CAAC;QACnCC,gBAAgB,EAAE;QAClB;UACEC,IAAI,EAAET,mBAAmB;UACzBU,UAAU,EAAE,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,CAAC,CAAC;UAC9CC,MAAM,EAAE,OAAO;UACfC,OAAO,EAAE;QACX,CAAC;;MAEH,CAAC,CAAC;MACFV,IAAI,CAACW,GAAG,CAAC,CAAC;MACVd,UAAU,CAACC,YAAY,CAAC,QAAQ,EAAEjB,CAAC,CAACU,MAAM,EAAEV,CAAC,CAACU,MAAM,CAACqB,KAAK,CAACC,MAAM,EAAE,CAAC,CAACjB,OAAO,CAACkB,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,MAAAjB,UAAA,CAAAC,YAAA,WAAMjB,CAAC,CAACU,MAAM,EAARV,CAAC,CAACU,MAAM,CAACqB,KAAK,CAAAC,MAAA,GAAQ,CAACjB,OAAO,CAACkB,MAAM,CAAC,CAAC,CAAC,SAAxCjC,CAAC,CAACU,MAAM,CAACqB,KAAK,CAACC,MAAM,CAAC,CAACjB,OAAO,CAACkB,MAAM,CAAC,CAAC,CAAC,EAAC,CAAC;IAC3I;;IAEAhC,IAAI,CAAC,MAAM,EAAE,YAAY,CAAC;IAC1BA,IAAI,CAAC,MAAM,EAAE,YAAY,CAAC;IAC1BA,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC;EAC7B,CAAC,CAAC","ignoreList":[]}