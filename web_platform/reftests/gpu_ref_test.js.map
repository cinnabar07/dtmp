{"version":3,"file":"gpu_ref_test.js","names":["assert","takeScreenshot","takeScreenshotDelayed","runRefTest","fn","navigator","gpu","undefined","adapter","globalThis","_TRAMPOLINE_","requestAdapter","device","requestDevice","queue","catch"],"sources":["../../../../src/webgpu/web_platform/reftests/gpu_ref_test.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/import { assert } from '../../../common/util/util.js';import { takeScreenshot, takeScreenshotDelayed } from '../../../common/util/wpt_reftest_wait.js';\n\n\n\n\n\nexport function runRefTest(fn) {\n  void (async () => {\n    assert(\n      typeof navigator !== 'undefined' && navigator.gpu !== undefined,\n      'No WebGPU implementation found'\n    );\n\n    const adapter = await globalThis._TRAMPOLINE_(\"requestAdapter\", navigator.gpu, navigator.gpu.requestAdapter, [], () => navigator.gpu.requestAdapter());\n    assert(adapter !== null);\n    const device = await globalThis._TRAMPOLINE_(\"requestDevice\", adapter, adapter.requestDevice, [], () => adapter.requestDevice());\n    assert(device !== null);\n    const queue = device.queue;\n\n    await fn({ device, queue });\n\n    takeScreenshotDelayed(50);\n  })().catch(() => {\n    // remove reftest-wait to mark end of test\n    takeScreenshot();\n  });\n}"],"mappings":";;IAAA;AACA;AACA,GAAG,SAASA,MAAM,QAAQ,8BAA8B,CAAC,SAASC,cAAc,EAAEC,qBAAqB,QAAQ,0CAA0C;;;;AAMzJ,OAAO,SAASC,UAAUA,CAACC,EAAE,EAAE;EAC7B,KAAK,CAAC,YAAY;IAChBJ,MAAM;MACJ,OAAOK,SAAS,KAAK,WAAW,IAAIA,SAAS,CAACC,GAAG,KAAKC,SAAS;MAC/D;IACF,CAAC;;IAED,MAAMC,OAAO,GAAG,MAAMC,UAAU,CAACC,YAAY,CAAC,gBAAgB,EAAEL,SAAS,CAACC,GAAG,EAAED,SAAS,CAACC,GAAG,CAACK,cAAc,EAAE,EAAE,EAAE,MAAMN,SAAS,CAACC,GAAG,CAACK,cAAc,CAAC,CAAC,CAAC;IACtJX,MAAM,CAACQ,OAAO,KAAK,IAAI,CAAC;IACxB,MAAMI,MAAM,GAAG,MAAMH,UAAU,CAACC,YAAY,CAAC,eAAe,EAAEF,OAAO,EAAEA,OAAO,CAACK,aAAa,EAAE,EAAE,EAAE,MAAAJ,UAAA,CAAAC,YAAA,kBAAMF,OAAO,EAAPA,OAAO,CAAAK,aAAA,YAAPL,OAAO,CAACK,aAAa,GAAE,CAAC;IAChIb,MAAM,CAACY,MAAM,KAAK,IAAI,CAAC;IACvB,MAAME,KAAK,GAAGF,MAAM,CAACE,KAAK;;IAE1B,MAAMV,EAAE,CAAC,EAAEQ,MAAM,EAAEE,KAAK,CAAC,CAAC,CAAC;;IAE3BZ,qBAAqB,CAAC,EAAE,CAAC;EAC3B,CAAC,EAAE,CAAC,CAACa,KAAK,CAAC,MAAM;IACf;IACAd,cAAc,CAAC,CAAC;EAClB,CAAC,CAAC;AACJ","ignoreList":[]}