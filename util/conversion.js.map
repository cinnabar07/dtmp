{"version":3,"file":"conversion.js","names":["Colors","objectsToRecord","assert","objectEquals","unreachable","Float16Array","kBit","align","cartesianProduct","clamp","correctlyRoundedF16","isFiniteF16","isSubnormalNumberF16","isSubnormalNumberF32","isSubnormalNumberF64","floatAsNormalizedIntegerUnquantized","float","bits","signed","max","Math","pow","floatAsNormalizedInteger","round","normalizedIntegerAsFloat","integer","Number","isInteger","numbersApproximatelyEqual","a","b","maxDiff","isNaN","POSITIVE_INFINITY","NEGATIVE_INFINITY","abs","workingData","ArrayBuffer","workingDataU32","Uint32Array","workingDataU16","Uint16Array","workingDataU8","Uint8Array","workingDataF32","Float32Array","workingDataF16","workingDataI16","Int16Array","workingDataI32","Int32Array","workingDataI8","Int8Array","workingDataF64","Float64Array","workingDataI64","BigInt64Array","workingDataU64","BigUint64Array","workingDataView","DataView","float32ToFloatBits","n","signBits","exponentBits","mantissaBits","bias","setFloat32","getUint32","sign","isFinite","mantissaBitsToDiscard","exp","newBiasedExp","newMantissa","float32ToFloat16Bits","float16BitsToFloat32","float16Bits","floatBitsToNumber","kFloat16Format","kFloat32Format","kUFloat9e5Format","float32BitsToNumber","numberToFloat32Bits","number","fmt","kNonSignBits","kNonSignBitsMask","exponentAndMantissaBits","exponentMask","infinityOrNaN","mantissaMask","signBit","isNegative","NaN","f32BitsWithWrongBias","numberWithWrongBias","ufloatM9E5BitsToNumber","exponent","mantissa","numberToFloatBits","floatBitsToNormalULPFromZero","mask_sign","mask_expt","mask_mant","mask_rest","rest","subnormal_or_zero","infinity_or_nan","abs_ulp_from_zero","packRGB9E5UFloat","r","g","N","Emax","B","sharedexp_max","red_c","min","green_c","blue_c","max_c","exp_shared_p","floor","log2","max_s","exp_shared","scalar","red_s","green_s","blue_s","unpackRGB9E5UFloat","encoded","R","G","pack2x16float","x","y","generateU16s","contains_subnormals","n_f16s","some","n_u16s","map","f16","contains_poszero","u","positive","zero","contains_negzero","negative","push","undefined","results","Array","p","length","pack2x16snorm","generateI16","pack2x16unorm","generateU16","pack4x8snorm","vals","generateI8","idx","pack4x8unorm","generateU8","assertInIntegerRange","gammaCompress","gammaDecompress","float32ToUint32","f32","uint32ToFloat32","u32","float32ToInt32","uint32ToInt32","float16ToUint16","uint16ToFloat16","u16","float16ToInt16","ScalarType","constructor","kind","size","read","_size","_signed","toString","alignment","width","requiresF16","create","value","abstractFloat","abstractInt","BigInt","f64","u8","i32","i16","i8","bool","VectorType","instances","Map","elementType","key","ty","get","set","buf","offset","elements","i","VectorValue","alignmentOf","fill","v","MatrixType","cols","rows","_","c","MatrixValue","columns","start","slice","ArrayType","count","stride","ArrayValue","valueFromBytes","workingDataOut","BYTES_PER_ELEMENT","abstractIntType","i32Type","u32Type","i16Type","u16Type","i8Type","u8Type","abstractFloatType","f64Type","f32Type","f16Type","f16Bits","boolType","kVecTypes","vec2ai","vec2i","vec2u","vec2af","vec2f","vec2h","vec2b","vec3ai","vec3i","vec3u","vec3af","vec3f","vec3h","vec3b","vec4ai","vec4i","vec4u","vec4af","vec4f","vec4h","vec4b","kMatTypes","mat2x2f","mat2x2h","mat3x2f","mat3x2h","mat4x2f","mat4x2h","mat2x3f","mat2x3h","mat3x3f","mat3x3h","mat4x3f","mat4x3h","mat2x4f","mat2x4h","mat3x4f","mat3x4h","mat4x4f","mat4x4h","Type","vec","Object","values","mat","array","stringToType","s","t","scalarType","numElementsOf","Error","elementsOf","isScalarValue","flat","scalarElementsOf","els","elementTypeOf","scalarTypeOf","concreteTypeOf","allowedScalarTypes","includes","hex","sizeInBytes","bitsLow","bitsHigh","padStart","withPoint","str","indexOf","AbstractIntValue","type","copyTo","buffer","wgsl","bold","AbstractFloatValue","Infinity","valueOf","I32Value","U32Value","I16Value","U16Value","I8Value","U8Value","F64Value","F32Value","F16Value","BoolValue","abstractIntBits","i32Bits","u32Bits","f32Bits","True","False","element","join","e","z","w","vec2","vec3","vec4","toVector","op","num_cols","num_rows","every","elem_type","j","flatMap","isAbstractType","toMatrix","m","SerializedScalarKind","serializeScalarKind","writeU8","AbstractFloat","F64","F32","F16","U32","U16","U8","AbstractInt","I32","I16","I8","Bool","deserializeScalarKind","readU8","SerializedValueKind","serializeValue","serializeScalar","writeF64","writeF32","writeF16","writeU32","writeU16","writeI32","writeI16","writeI8","writeI64","writeBool","Scalar","Vector","Matrix","column","deserializeValue","deserializeScalar","readF64","readF32","readF16","readU32","readU16","readI64","readI32","readI16","readI8","readBool","valueKind","scalarKind","scalars","numCols","numRows","isFloatValue","isFloatType","isIntegerType","isConvertibleToFloatType","isUnsignedType","isConvertible","src","dst","shapeOf","elSrc","elDst","kFloatScalars","kConcreteFloatScalars","kFloatVec2","kFloatVec3","kFloatVec4","kConcreteF32ScalarsAndVectors","kConcreteF16ScalarsAndVectors","kFloatVectors","kFloatScalarsAndVectors","kConcreteSignedIntegerVectors","kConcreteUnsignedIntegerVectors","kConcreteIntegerVectors","kConcreteSignedIntegerScalarsAndVectors","kConcreteUnsignedIntegerScalarsAndVectors","kConcreteIntegerScalarsAndVectors","kConvertableToFloatScalar","kConvertableToFloatVec2","kConvertableToFloatVec3","kConvertableToFloatVec4","kConvertableToFloatVectors","kConvertableToFloatScalarsAndVectors","kAllNumericScalarsAndVectors","kConcreteNumericScalarsAndVectors","kAllBoolScalarsAndVectors","kAllScalarsAndVectors","kAllVecTypes","kAllMatrices"],"sources":["../../../src/webgpu/util/conversion.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/import { Colors } from '../../common/util/colors.js';import { objectsToRecord } from '../../common/util/data_tables.js';\nimport { assert, objectEquals, unreachable } from '../../common/util/util.js';\nimport { Float16Array } from '../../external/petamoriken/float16/float16.js';\n\n\nimport { kBit } from './constants.js';\nimport {\n  align,\n  cartesianProduct,\n  clamp,\n  correctlyRoundedF16,\n  isFiniteF16,\n  isSubnormalNumberF16,\n  isSubnormalNumberF32,\n  isSubnormalNumberF64 } from\n'./math.js';\n\n/**\n * Encode a JS `number` into the \"normalized\" (unorm/snorm) integer scale with `bits` bits but\n * remain unquantized. Input must be between -1 and 1 if signed, or 0 and 1 if unsigned.\n * e.g. float 0.5 -> \"unorm8\" 127.5\n *\n * MAINTENANCE_TODO: See if performance of texel_data improves if this function is pre-specialized\n * for a particular `bits`/`signed`.\n */\nexport function floatAsNormalizedIntegerUnquantized(\nfloat,\nbits,\nsigned)\n{\n  if (signed) {\n    assert(float >= -1 && float <= 1, () => `${float} out of bounds of snorm`);\n    const max = Math.pow(2, bits - 1) - 1;\n    return float * max;\n  } else {\n    assert(float >= 0 && float <= 1, () => `${float} out of bounds of unorm`);\n    const max = Math.pow(2, bits) - 1;\n    return float * max;\n  }\n}\n\n/**\n * Encodes a JS `number` into a \"normalized\" (unorm/snorm) integer representation with `bits` bits.\n * Input must be between -1 and 1 if signed, or 0 and 1 if unsigned.\n *\n * MAINTENANCE_TODO: See if performance of texel_data improves if this function is pre-specialized\n * for a particular `bits`/`signed`.\n */\nexport function floatAsNormalizedInteger(float, bits, signed) {\n  return Math.round(floatAsNormalizedIntegerUnquantized(float, bits, signed));\n}\n\n/**\n * Decodes a JS `number` from a \"normalized\" (unorm/snorm) integer representation with `bits` bits.\n * Input must be an integer in the range of the specified unorm/snorm type.\n */\nexport function normalizedIntegerAsFloat(integer, bits, signed) {\n  assert(Number.isInteger(integer));\n  if (signed) {\n    const max = Math.pow(2, bits - 1) - 1;\n    assert(integer >= -max - 1 && integer <= max);\n    if (integer === -max - 1) {\n      integer = -max;\n    }\n    return integer / max;\n  } else {\n    const max = Math.pow(2, bits) - 1;\n    assert(integer >= 0 && integer <= max);\n    return integer / max;\n  }\n}\n\n/**\n * Compares 2 numbers. Returns true if their absolute value is\n * less than or equal to maxDiff or if they are both NaN or the\n * same sign infinity.\n */\nexport function numbersApproximatelyEqual(a, b, maxDiff = 0) {\n  return (\n    Number.isNaN(a) && Number.isNaN(b) ||\n    a === Number.POSITIVE_INFINITY && b === Number.POSITIVE_INFINITY ||\n    a === Number.NEGATIVE_INFINITY && b === Number.NEGATIVE_INFINITY ||\n    Math.abs(a - b) <= maxDiff);\n\n}\n\n/**\n * Once-allocated ArrayBuffer/views to avoid overhead of allocation when converting between numeric formats\n *\n * workingData* is shared between multiple functions in this file, so to avoid re-entrancy problems, make sure in\n * functions that use it that they don't call themselves or other functions that use workingData*.\n */\nconst workingData = new ArrayBuffer(8);\nconst workingDataU32 = new Uint32Array(workingData);\nconst workingDataU16 = new Uint16Array(workingData);\nconst workingDataU8 = new Uint8Array(workingData);\nconst workingDataF32 = new Float32Array(workingData);\nconst workingDataF16 = new Float16Array(workingData);\nconst workingDataI16 = new Int16Array(workingData);\nconst workingDataI32 = new Int32Array(workingData);\nconst workingDataI8 = new Int8Array(workingData);\nconst workingDataF64 = new Float64Array(workingData);\nconst workingDataI64 = new BigInt64Array(workingData);\nconst workingDataU64 = new BigUint64Array(workingData);\nconst workingDataView = new DataView(workingData);\n\n/**\n * Encodes a JS `number` into an IEEE754 floating point number with the specified number of\n * sign, exponent, mantissa bits, and exponent bias.\n * Returns the result as an integer-valued JS `number`.\n *\n * Does not handle clamping, overflow, or denormal inputs.\n * On underflow (result is subnormal), rounds to (signed) zero.\n *\n * MAINTENANCE_TODO: Replace usages of this with numberToFloatBits.\n */\nexport function float32ToFloatBits(\nn,\nsignBits,\nexponentBits,\nmantissaBits,\nbias)\n{\n  assert(exponentBits <= 8);\n  assert(mantissaBits <= 23);\n\n  if (Number.isNaN(n)) {\n    // NaN = all exponent bits true, 1 or more mantissa bits true\n    return (1 << exponentBits) - 1 << mantissaBits | (1 << mantissaBits) - 1;\n  }\n\n  workingDataView.setFloat32(0, n, true);\n  const bits = workingDataView.getUint32(0, true);\n  // bits (32): seeeeeeeefffffffffffffffffffffff\n\n  // 0 or 1\n  const sign = bits >> 31 & signBits;\n\n  if (n === 0) {\n    if (sign === 1) {\n      // Handle negative zero.\n      return 1 << exponentBits + mantissaBits;\n    }\n    return 0;\n  }\n\n  if (signBits === 0) {\n    assert(n >= 0);\n  }\n\n  if (!Number.isFinite(n)) {\n    // Infinity = all exponent bits true, no mantissa bits true\n    // plus the sign bit.\n    return (\n      (1 << exponentBits) - 1 << mantissaBits | (n < 0 ? 2 ** (exponentBits + mantissaBits) : 0));\n\n  }\n\n  const mantissaBitsToDiscard = 23 - mantissaBits;\n\n  // >> to remove mantissa, & to remove sign, - 127 to remove bias.\n  const exp = (bits >> 23 & 0xff) - 127;\n\n  // Convert to the new biased exponent.\n  const newBiasedExp = bias + exp;\n  assert(newBiasedExp < 1 << exponentBits, () => `input number ${n} overflows target type`);\n\n  if (newBiasedExp <= 0) {\n    // Result is subnormal or zero. Round to (signed) zero.\n    return sign << exponentBits + mantissaBits;\n  } else {\n    // Mask only the mantissa, and discard the lower bits.\n    const newMantissa = (bits & 0x7fffff) >> mantissaBitsToDiscard;\n    return sign << exponentBits + mantissaBits | newBiasedExp << mantissaBits | newMantissa;\n  }\n}\n\n/**\n * Encodes a JS `number` into an IEEE754 16 bit floating point number.\n * Returns the result as an integer-valued JS `number`.\n *\n * Does not handle clamping, overflow, or denormal inputs.\n * On underflow (result is subnormal), rounds to (signed) zero.\n */\nexport function float32ToFloat16Bits(n) {\n  return float32ToFloatBits(n, 1, 5, 10, 15);\n}\n\n/**\n * Decodes an IEEE754 16 bit floating point number into a JS `number` and returns.\n */\nexport function float16BitsToFloat32(float16Bits) {\n  return floatBitsToNumber(float16Bits, kFloat16Format);\n}\n\n\n\n/** FloatFormat defining IEEE754 32-bit float. */\nexport const kFloat32Format = { signed: 1, exponentBits: 8, mantissaBits: 23, bias: 127 };\n/** FloatFormat defining IEEE754 16-bit float. */\nexport const kFloat16Format = { signed: 1, exponentBits: 5, mantissaBits: 10, bias: 15 };\n/** FloatFormat for 9 bit mantissa, 5 bit exponent unsigned float */\nexport const kUFloat9e5Format = { signed: 0, exponentBits: 5, mantissaBits: 9, bias: 15 };\n\n/** Bitcast u32 (represented as integer Number) to f32 (represented as floating-point Number). */\nexport function float32BitsToNumber(bits) {\n  workingDataU32[0] = bits;\n  return workingDataF32[0];\n}\n/** Bitcast f32 (represented as floating-point Number) to u32 (represented as integer Number). */\nexport function numberToFloat32Bits(number) {\n  workingDataF32[0] = number;\n  return workingDataU32[0];\n}\n\n/**\n * Decodes an IEEE754 float with the supplied format specification into a JS number.\n *\n * The format MUST be no larger than a 32-bit float.\n */\nexport function floatBitsToNumber(bits, fmt) {\n  // Pad the provided bits out to f32, then convert to a `number` with the wrong bias.\n  // E.g. for f16 to f32:\n  // - f16: S    EEEEE MMMMMMMMMM\n  //        ^ 000^^^^^ ^^^^^^^^^^0000000000000\n  // - f32: S eeeEEEEE MMMMMMMMMMmmmmmmmmmmmmm\n\n  const kNonSignBits = fmt.exponentBits + fmt.mantissaBits;\n  const kNonSignBitsMask = (1 << kNonSignBits) - 1;\n  const exponentAndMantissaBits = bits & kNonSignBitsMask;\n  const exponentMask = (1 << fmt.exponentBits) - 1 << fmt.mantissaBits;\n  const infinityOrNaN = (bits & exponentMask) === exponentMask;\n  if (infinityOrNaN) {\n    const mantissaMask = (1 << fmt.mantissaBits) - 1;\n    const signBit = 2 ** kNonSignBits;\n    const isNegative = (bits & signBit) !== 0;\n    return bits & mantissaMask ?\n    Number.NaN :\n    isNegative ?\n    Number.NEGATIVE_INFINITY :\n    Number.POSITIVE_INFINITY;\n  }\n  let f32BitsWithWrongBias =\n  exponentAndMantissaBits << kFloat32Format.mantissaBits - fmt.mantissaBits;\n  f32BitsWithWrongBias |= bits << 31 - kNonSignBits & 0x8000_0000;\n  const numberWithWrongBias = float32BitsToNumber(f32BitsWithWrongBias);\n  return numberWithWrongBias * 2 ** (kFloat32Format.bias - fmt.bias);\n}\n\n/**\n * Convert ufloat9e5 bits from rgb9e5ufloat to a JS number\n *\n * The difference between `floatBitsToNumber` and `ufloatBitsToNumber`\n * is that the latter doesn't use an implicit leading bit:\n *\n * floatBitsToNumber      = 2^(exponent - bias) * (1 + mantissa / 2 ^ numMantissaBits)\n * ufloatM9E5BitsToNumber = 2^(exponent - bias) * (mantissa / 2 ^ numMantissaBits)\n *                        = 2^(exponent - bias - numMantissaBits) * mantissa\n */\nexport function ufloatM9E5BitsToNumber(bits, fmt) {\n  const exponent = bits >> fmt.mantissaBits;\n  const mantissaMask = (1 << fmt.mantissaBits) - 1;\n  const mantissa = bits & mantissaMask;\n  return mantissa * 2 ** (exponent - fmt.bias - fmt.mantissaBits);\n}\n\n/**\n * Encodes a JS `number` into an IEEE754 floating point number with the specified format.\n * Returns the result as an integer-valued JS `number`.\n *\n * Does not handle clamping, overflow, or denormal inputs.\n * On underflow (result is subnormal), rounds to (signed) zero.\n */\nexport function numberToFloatBits(number, fmt) {\n  return float32ToFloatBits(number, fmt.signed, fmt.exponentBits, fmt.mantissaBits, fmt.bias);\n}\n\n/**\n * Given a floating point number (as an integer representing its bits), computes how many ULPs it is\n * from zero.\n *\n * Subnormal numbers are skipped, so that 0 is one ULP from the minimum normal number.\n * Subnormal values are flushed to 0.\n * Positive and negative 0 are both considered to be 0 ULPs from 0.\n */\nexport function floatBitsToNormalULPFromZero(bits, fmt) {\n  const mask_sign = fmt.signed << fmt.exponentBits + fmt.mantissaBits;\n  const mask_expt = (1 << fmt.exponentBits) - 1 << fmt.mantissaBits;\n  const mask_mant = (1 << fmt.mantissaBits) - 1;\n  const mask_rest = mask_expt | mask_mant;\n\n  assert(fmt.exponentBits + fmt.mantissaBits <= 31);\n\n  const sign = bits & mask_sign ? -1 : 1;\n  const rest = bits & mask_rest;\n  const subnormal_or_zero = (bits & mask_expt) === 0;\n  const infinity_or_nan = (bits & mask_expt) === mask_expt;\n  assert(!infinity_or_nan, 'no ulp representation for infinity/nan');\n\n  // The first normal number is mask_mant+1, so subtract mask_mant to make min_normal - zero = 1ULP.\n  const abs_ulp_from_zero = subnormal_or_zero ? 0 : rest - mask_mant;\n  return sign * abs_ulp_from_zero;\n}\n\n/**\n * Encodes three JS `number` values into RGB9E5, returned as an integer-valued JS `number`.\n *\n * RGB9E5 represents three partial-precision floating-point numbers encoded into a single 32-bit\n * value all sharing the same 5-bit exponent.\n * There is no sign bit, and there is a shared 5-bit biased (15) exponent and a 9-bit\n * mantissa for each channel. The mantissa does NOT have an implicit leading \"1.\",\n * and instead has an implicit leading \"0.\".\n *\n * @see https://registry.khronos.org/OpenGL/extensions/EXT/EXT_texture_shared_exponent.txt\n */\nexport function packRGB9E5UFloat(r, g, b) {\n  const N = 9; // number of mantissa bits\n  const Emax = 31; // max exponent\n  const B = 15; // exponent bias\n  const sharedexp_max = ((1 << N) - 1) / (1 << N) * 2 ** (Emax - B);\n  const red_c = clamp(r, { min: 0, max: sharedexp_max });\n  const green_c = clamp(g, { min: 0, max: sharedexp_max });\n  const blue_c = clamp(b, { min: 0, max: sharedexp_max });\n  const max_c = Math.max(red_c, green_c, blue_c);\n  const exp_shared_p = Math.max(-B - 1, Math.floor(Math.log2(max_c))) + 1 + B;\n  const max_s = Math.floor(max_c / 2 ** (exp_shared_p - B - N) + 0.5);\n  const exp_shared = max_s === 1 << N ? exp_shared_p + 1 : exp_shared_p;\n  const scalar = 1 / 2 ** (exp_shared - B - N);\n  const red_s = Math.floor(red_c * scalar + 0.5);\n  const green_s = Math.floor(green_c * scalar + 0.5);\n  const blue_s = Math.floor(blue_c * scalar + 0.5);\n  assert(red_s >= 0 && red_s <= 0b111111111);\n  assert(green_s >= 0 && green_s <= 0b111111111);\n  assert(blue_s >= 0 && blue_s <= 0b111111111);\n  assert(exp_shared >= 0 && exp_shared <= 0b11111);\n  return (exp_shared << 27 | blue_s << 18 | green_s << 9 | red_s) >>> 0;\n}\n\n/**\n * Decodes a RGB9E5 encoded color.\n * @see packRGB9E5UFloat\n */\nexport function unpackRGB9E5UFloat(encoded) {\n  const N = 9; // number of mantissa bits\n  const B = 15; // exponent bias\n  const red_s = encoded >>> 0 & 0b111111111;\n  const green_s = encoded >>> 9 & 0b111111111;\n  const blue_s = encoded >>> 18 & 0b111111111;\n  const exp_shared = encoded >>> 27 & 0b11111;\n  const exp = Math.pow(2, exp_shared - B - N);\n  return {\n    R: exp * red_s,\n    G: exp * green_s,\n    B: exp * blue_s\n  };\n}\n\n/**\n * Quantizes two f32s to f16 and then packs them in a u32\n *\n * This should implement the same behaviour as the builtin `pack2x16float` from\n * WGSL.\n *\n * Caller is responsible to ensuring inputs are f32s\n *\n * @param x first f32 to be packed\n * @param y second f32 to be packed\n * @returns an array of possible results for pack2x16float. Elements are either\n *          a number or undefined.\n *          undefined indicates that any value is valid, since the input went\n *          out of bounds.\n */\nexport function pack2x16float(x, y) {\n  // Generates all possible valid u16 bit fields for a given f32 to f16 conversion.\n  // Assumes FTZ for both the f32 and f16 value is allowed.\n  const generateU16s = (n) => {\n    let contains_subnormals = isSubnormalNumberF32(n);\n    const n_f16s = correctlyRoundedF16(n);\n    contains_subnormals ||= n_f16s.some(isSubnormalNumberF16);\n\n    const n_u16s = n_f16s.map((f16) => {\n      workingDataF16[0] = f16;\n      return workingDataU16[0];\n    });\n\n    const contains_poszero = n_u16s.some((u) => u === kBit.f16.positive.zero);\n    const contains_negzero = n_u16s.some((u) => u === kBit.f16.negative.zero);\n    if (!contains_negzero && (contains_poszero || contains_subnormals)) {\n      n_u16s.push(kBit.f16.negative.zero);\n    }\n\n    if (!contains_poszero && (contains_negzero || contains_subnormals)) {\n      n_u16s.push(kBit.f16.positive.zero);\n    }\n\n    return n_u16s;\n  };\n\n  if (!isFiniteF16(x) || !isFiniteF16(y)) {\n    // This indicates any value is valid, so it isn't worth bothering\n    // calculating the more restrictive possibilities.\n    return [undefined];\n  }\n\n  const results = new Array();\n  for (const p of cartesianProduct(generateU16s(x), generateU16s(y))) {\n    assert(p.length === 2, 'cartesianProduct of 2 arrays returned an entry with not 2 elements');\n    workingDataU16[0] = p[0];\n    workingDataU16[1] = p[1];\n    results.push(workingDataU32[0]);\n  }\n\n  return results;\n}\n\n/**\n * Converts two normalized f32s to i16s and then packs them in a u32\n *\n * This should implement the same behaviour as the builtin `pack2x16snorm` from\n * WGSL.\n *\n * Caller is responsible to ensuring inputs are normalized f32s\n *\n * @param x first f32 to be packed\n * @param y second f32 to be packed\n * @returns a number that is expected result of pack2x16snorm.\n */\nexport function pack2x16snorm(x, y) {\n  // Converts f32 to i16 via the pack2x16snorm formula.\n  // FTZ is not explicitly handled, because all subnormals will produce a value\n  // between 0 and 1, but significantly away from the edges, so floor goes to 0.\n  const generateI16 = (n) => {\n    return Math.floor(0.5 + 32767 * Math.min(1, Math.max(-1, n)));\n  };\n\n  workingDataI16[0] = generateI16(x);\n  workingDataI16[1] = generateI16(y);\n\n  return workingDataU32[0];\n}\n\n/**\n * Converts two normalized f32s to u16s and then packs them in a u32\n *\n * This should implement the same behaviour as the builtin `pack2x16unorm` from\n * WGSL.\n *\n * Caller is responsible to ensuring inputs are normalized f32s\n *\n * @param x first f32 to be packed\n * @param y second f32 to be packed\n * @returns an number that is expected result of pack2x16unorm.\n */\nexport function pack2x16unorm(x, y) {\n  // Converts f32 to u16 via the pack2x16unorm formula.\n  // FTZ is not explicitly handled, because all subnormals will produce a value\n  // between 0.5 and much less than 1, so floor goes to 0.\n  const generateU16 = (n) => {\n    return Math.floor(0.5 + 65535 * Math.min(1, Math.max(0, n)));\n  };\n\n  workingDataU16[0] = generateU16(x);\n  workingDataU16[1] = generateU16(y);\n\n  return workingDataU32[0];\n}\n\n/**\n * Converts four normalized f32s to i8s and then packs them in a u32\n *\n * This should implement the same behaviour as the builtin `pack4x8snorm` from\n * WGSL.\n *\n * Caller is responsible to ensuring inputs are normalized f32s\n *\n * @param vals four f32s to be packed\n * @returns a number that is expected result of pack4x8usorm.\n */\nexport function pack4x8snorm(...vals) {\n  // Converts f32 to u8 via the pack4x8snorm formula.\n  // FTZ is not explicitly handled, because all subnormals will produce a value\n  // between 0 and 1, so floor goes to 0.\n  const generateI8 = (n) => {\n    return Math.floor(0.5 + 127 * Math.min(1, Math.max(-1, n)));\n  };\n\n  for (const idx in vals) {\n    workingDataI8[idx] = generateI8(vals[idx]);\n  }\n\n  return workingDataU32[0];\n}\n\n/**\n * Converts four normalized f32s to u8s and then packs them in a u32\n *\n * This should implement the same behaviour as the builtin `pack4x8unorm` from\n * WGSL.\n *\n * Caller is responsible to ensuring inputs are normalized f32s\n *\n * @param vals four f32s to be packed\n * @returns a number that is expected result of pack4x8unorm.\n */\nexport function pack4x8unorm(...vals) {\n  // Converts f32 to u8 via the pack4x8unorm formula.\n  // FTZ is not explicitly handled, because all subnormals will produce a value\n  // between 0.5 and much less than 1, so floor goes to 0.\n  const generateU8 = (n) => {\n    return Math.floor(0.5 + 255 * Math.min(1, Math.max(0, n)));\n  };\n\n  for (const idx in vals) {\n    workingDataU8[idx] = generateU8(vals[idx]);\n  }\n\n  return workingDataU32[0];\n}\n\n/**\n * Asserts that a number is within the representable (inclusive) of the integer type with the\n * specified number of bits and signedness.\n *\n * MAINTENANCE_TODO: Assert isInteger? Then this function \"asserts that a number is representable\"\n * by the type.\n */\nexport function assertInIntegerRange(n, bits, signed) {\n  if (signed) {\n    const min = -Math.pow(2, bits - 1);\n    const max = Math.pow(2, bits - 1) - 1;\n    assert(n >= min && n <= max);\n  } else {\n    const max = Math.pow(2, bits) - 1;\n    assert(n >= 0 && n <= max);\n  }\n}\n\n/**\n * Converts a linear value into a \"gamma\"-encoded value using the sRGB-clamped transfer function.\n */\nexport function gammaCompress(n) {\n  n = n <= 0.0031308 ? 323 * n / 25 : (211 * Math.pow(n, 5 / 12) - 11) / 200;\n  return clamp(n, { min: 0, max: 1 });\n}\n\n/**\n * Converts a \"gamma\"-encoded value into a linear value using the sRGB-clamped transfer function.\n */\nexport function gammaDecompress(n) {\n  n = n <= 0.04045 ? n * 25 / 323 : Math.pow((200 * n + 11) / 211, 12 / 5);\n  return clamp(n, { min: 0, max: 1 });\n}\n\n/** Converts a 32-bit float value to a 32-bit unsigned integer value */\nexport function float32ToUint32(f32) {\n  workingDataF32[0] = f32;\n  return workingDataU32[0];\n}\n\n/** Converts a 32-bit unsigned integer value to a 32-bit float value */\nexport function uint32ToFloat32(u32) {\n  workingDataU32[0] = u32;\n  return workingDataF32[0];\n}\n\n/** Converts a 32-bit float value to a 32-bit signed integer value */\nexport function float32ToInt32(f32) {\n  workingDataF32[0] = f32;\n  return workingDataI32[0];\n}\n\n/** Converts a 32-bit unsigned integer value to a 32-bit signed integer value */\nexport function uint32ToInt32(u32) {\n  workingDataU32[0] = u32;\n  return workingDataI32[0];\n}\n\n/** Converts a 16-bit float value to a 16-bit unsigned integer value */\nexport function float16ToUint16(f16) {\n  workingDataF16[0] = f16;\n  return workingDataU16[0];\n}\n\n/** Converts a 16-bit unsigned integer value to a 16-bit float value */\nexport function uint16ToFloat16(u16) {\n  workingDataU16[0] = u16;\n  return workingDataF16[0];\n}\n\n/** Converts a 16-bit float value to a 16-bit signed integer value */\nexport function float16ToInt16(f16) {\n  workingDataF16[0] = f16;\n  return workingDataI16[0];\n}\n\n/** A type of number representable by Scalar. */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** ScalarType describes the type of WGSL Scalar. */\nexport class ScalarType {\n  // The named type\n  // In bytes\n\n  // reads a scalar from a buffer\n\n  constructor(\n  kind,\n  size,\n  signed,\n  read)\n  {\n    this.kind = kind;\n    this._size = size;\n    this._signed = signed;\n    this.read = read;\n  }\n\n  toString() {\n    return this.kind;\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  get alignment() {\n    return this._size;\n  }\n\n  get signed() {\n    return this._signed;\n  }\n\n  // This allows width to be checked in cases where scalar and vector types are mixed.\n  get width() {\n    return 1;\n  }\n\n  requiresF16() {\n    return this.kind === 'f16';\n  }\n\n  /** Constructs a ScalarValue of this type with `value` */\n  create(value) {\n    switch (typeof value) {\n      case 'number':\n        switch (this.kind) {\n          case 'abstract-float':\n            return abstractFloat(value);\n          case 'abstract-int':\n            return abstractInt(BigInt(value));\n          case 'f64':\n            return f64(value);\n          case 'f32':\n            return f32(value);\n          case 'f16':\n            return f16(value);\n          case 'u32':\n            return u32(value);\n          case 'u16':\n            return u16(value);\n          case 'u8':\n            return u8(value);\n          case 'i32':\n            return i32(value);\n          case 'i16':\n            return i16(value);\n          case 'i8':\n            return i8(value);\n          case 'bool':\n            return bool(value !== 0);\n        }\n        break;\n      case 'bigint':\n        switch (this.kind) {\n          case 'abstract-int':\n            return abstractInt(value);\n          case 'bool':\n            return bool(value !== 0n);\n        }\n        break;\n    }\n    unreachable(`Scalar<${this.kind}>.create() does not support ${typeof value}`);\n  }\n}\n\n/** VectorType describes the type of WGSL Vector. */\nexport class VectorType {\n  // Number of elements in the vector\n  // Element type\n\n  // Maps a string representation of a vector type to vector type.\n  static instances = new Map();\n\n  static create(width, elementType) {\n    const key = `${elementType.toString()} ${width}}`;\n    let ty = this.instances.get(key);\n    if (ty !== undefined) {\n      return ty;\n    }\n    ty = new VectorType(width, elementType);\n    this.instances.set(key, ty);\n    return ty;\n  }\n\n  constructor(width, elementType) {\n    this.width = width;\n    this.elementType = elementType;\n  }\n\n  /**\n   * @returns a vector constructed from the values read from the buffer at the\n   * given byte offset\n   */\n  read(buf, offset) {\n    const elements = [];\n    for (let i = 0; i < this.width; i++) {\n      elements[i] = this.elementType.read(buf, offset);\n      offset += this.elementType.size;\n    }\n    return new VectorValue(elements);\n  }\n\n  toString() {\n    return `vec${this.width}<${this.elementType}>`;\n  }\n\n  get size() {\n    return this.elementType.size * this.width;\n  }\n\n  get alignment() {\n    return VectorType.alignmentOf(this.width, this.elementType);\n  }\n\n  static alignmentOf(width, elementType) {\n    return elementType.size * (width === 3 ? 4 : width);\n  }\n\n  /** Constructs a Vector of this type with the given values */\n  create(value) {\n    if (value instanceof Array) {\n      assert(value.length === this.width);\n    } else {\n      value = Array(this.width).fill(value);\n    }\n    return new VectorValue(value.map((v) => this.elementType.create(v)));\n  }\n\n  requiresF16() {\n    return this.elementType.requiresF16();\n  }\n}\n\n/** MatrixType describes the type of WGSL Matrix. */\nexport class MatrixType {\n  // Number of columns in the Matrix\n  // Number of elements per column in the Matrix\n  // Element type\n\n  // Maps a string representation of a Matrix type to Matrix type.\n  static instances = new Map();\n\n  static create(cols, rows, elementType) {\n    const key = `${elementType.toString()} ${cols} ${rows}`;\n    let ty = this.instances.get(key);\n    if (ty !== undefined) {\n      return ty;\n    }\n    ty = new MatrixType(cols, rows, elementType);\n    this.instances.set(key, ty);\n    return ty;\n  }\n\n  constructor(cols, rows, elementType) {\n    this.cols = cols;\n    this.rows = rows;\n    assert(\n      elementType.kind === 'f32' ||\n      elementType.kind === 'f16' ||\n      elementType.kind === 'abstract-float',\n      \"MatrixType can only have elementType of 'f32' or 'f16' or 'abstract-float'\"\n    );\n    this.elementType = elementType;\n  }\n\n  /**\n   * @returns a Matrix constructed from the values read from the buffer at the\n   * given byte offset\n   */\n  read(buf, offset) {\n    const elements = [...Array(this.cols)].map((_) => [...Array(this.rows)]);\n    for (let c = 0; c < this.cols; c++) {\n      for (let r = 0; r < this.rows; r++) {\n        elements[c][r] = this.elementType.read(buf, offset);\n        offset += this.elementType.size;\n      }\n\n      // vec3 have one padding element, so need to skip in matrices\n      if (this.rows === 3) {\n        offset += this.elementType.size;\n      }\n    }\n    return new MatrixValue(elements);\n  }\n\n  toString() {\n    return `mat${this.cols}x${this.rows}<${this.elementType}>`;\n  }\n\n  get size() {\n    return VectorType.alignmentOf(this.rows, this.elementType) * this.cols;\n  }\n\n  get alignment() {\n    return VectorType.alignmentOf(this.rows, this.elementType);\n  }\n\n  requiresF16() {\n    return this.elementType.requiresF16();\n  }\n\n  /** Constructs a Matrix of this type with the given values */\n  create(value) {\n    if (value instanceof Array) {\n      assert(value.length === this.cols * this.rows);\n    } else {\n      value = Array(this.cols * this.rows).fill(value);\n    }\n    const columns = [];\n    for (let i = 0; i < this.cols; i++) {\n      const start = i * this.rows;\n      columns.push(value.slice(start, start + this.rows));\n    }\n    return new MatrixValue(columns.map((c) => c.map((v) => this.elementType.create(v))));\n  }\n}\n\n/** ArrayType describes the type of WGSL Array. */\nexport class ArrayType {\n  // Number of elements in the array. Zero represents a runtime-sized array.\n  // Element type\n\n  // Maps a string representation of a array type to array type.\n  static instances = new Map();\n\n  static create(count, elementType) {\n    const key = `${elementType.toString()} ${count}`;\n    let ty = this.instances.get(key);\n    if (ty !== undefined) {\n      return ty;\n    }\n    ty = new ArrayType(count, elementType);\n    this.instances.set(key, ty);\n    return ty;\n  }\n\n  constructor(count, elementType) {\n    this.count = count;\n    this.elementType = elementType;\n  }\n\n  /**\n   * @returns a array constructed from the values read from the buffer at the\n   * given byte offset\n   */\n  read(buf, offset) {\n    const elements = [];\n\n    for (let i = 0; i < this.count; i++) {\n      elements[i] = this.elementType.read(buf, offset);\n      offset += this.stride;\n    }\n    return new ArrayValue(elements);\n  }\n\n  toString() {\n    return this.count !== 0 ?\n    `array<${this.elementType}, ${this.count}>` :\n    `array<${this.elementType}>`;\n  }\n\n  get stride() {\n    return align(this.elementType.size, this.elementType.alignment);\n  }\n\n  get size() {\n    return this.stride * this.count;\n  }\n\n  get alignment() {\n    return this.elementType.alignment;\n  }\n\n  requiresF16() {\n    return this.elementType.requiresF16();\n  }\n\n  /** Constructs an Array of this type with the given values */\n  create(value) {\n    if (value instanceof Array) {\n      assert(value.length === this.count);\n    } else {\n      value = Array(this.count).fill(value);\n    }\n    return new ArrayValue(value.map((v) => this.elementType.create(v)));\n  }\n}\n\n/** ArrayElementType infers the element type of the indexable type A */\n\n\n/** Copy bytes from `buf` at `offset` into the working data, then read it out using `workingDataOut` */\nfunction valueFromBytes(\nworkingDataOut,\nbuf,\noffset)\n{\n  for (let i = 0; i < workingDataOut.BYTES_PER_ELEMENT; ++i) {\n    workingDataU8[i] = buf[offset + i];\n  }\n  return workingDataOut[0];\n}\n\nconst abstractIntType = new ScalarType('abstract-int', 8, true, (buf, offset) =>\nabstractInt(valueFromBytes(workingDataI64, buf, offset))\n);\nconst i32Type = new ScalarType('i32', 4, true, (buf, offset) =>\ni32(valueFromBytes(workingDataI32, buf, offset))\n);\nconst u32Type = new ScalarType('u32', 4, false, (buf, offset) =>\nu32(valueFromBytes(workingDataU32, buf, offset))\n);\nconst i16Type = new ScalarType('i16', 2, true, (buf, offset) =>\ni16(valueFromBytes(workingDataI16, buf, offset))\n);\nconst u16Type = new ScalarType('u16', 2, false, (buf, offset) =>\nu16(valueFromBytes(workingDataU16, buf, offset))\n);\nconst i8Type = new ScalarType('i8', 1, true, (buf, offset) =>\ni8(valueFromBytes(workingDataI8, buf, offset))\n);\nconst u8Type = new ScalarType('u8', 1, false, (buf, offset) =>\nu8(valueFromBytes(workingDataU8, buf, offset))\n);\nconst abstractFloatType = new ScalarType(\n  'abstract-float',\n  8,\n  true,\n  (buf, offset) => abstractFloat(valueFromBytes(workingDataF64, buf, offset))\n);\nconst f64Type = new ScalarType('f64', 8, true, (buf, offset) =>\nf64(valueFromBytes(workingDataF64, buf, offset))\n);\nconst f32Type = new ScalarType('f32', 4, true, (buf, offset) =>\nf32(valueFromBytes(workingDataF32, buf, offset))\n);\nconst f16Type = new ScalarType('f16', 2, true, (buf, offset) =>\nf16Bits(valueFromBytes(workingDataU16, buf, offset))\n);\nconst boolType = new ScalarType('bool', 4, false, (buf, offset) =>\nbool(valueFromBytes(workingDataU32, buf, offset) !== 0)\n);\n\n/** Type is a ScalarType, VectorType, MatrixType or ArrayType. */\n\n\nconst kVecTypes = {\n  vec2ai: VectorType.create(2, abstractIntType),\n  vec2i: VectorType.create(2, i32Type),\n  vec2u: VectorType.create(2, u32Type),\n  vec2af: VectorType.create(2, abstractFloatType),\n  vec2f: VectorType.create(2, f32Type),\n  vec2h: VectorType.create(2, f16Type),\n  vec2b: VectorType.create(2, boolType),\n  vec3ai: VectorType.create(3, abstractIntType),\n  vec3i: VectorType.create(3, i32Type),\n  vec3u: VectorType.create(3, u32Type),\n  vec3af: VectorType.create(3, abstractFloatType),\n  vec3f: VectorType.create(3, f32Type),\n  vec3h: VectorType.create(3, f16Type),\n  vec3b: VectorType.create(3, boolType),\n  vec4ai: VectorType.create(4, abstractIntType),\n  vec4i: VectorType.create(4, i32Type),\n  vec4u: VectorType.create(4, u32Type),\n  vec4af: VectorType.create(4, abstractFloatType),\n  vec4f: VectorType.create(4, f32Type),\n  vec4h: VectorType.create(4, f16Type),\n  vec4b: VectorType.create(4, boolType)\n};\n\nconst kMatTypes = {\n  mat2x2f: MatrixType.create(2, 2, f32Type),\n  mat2x2h: MatrixType.create(2, 2, f16Type),\n  mat3x2f: MatrixType.create(3, 2, f32Type),\n  mat3x2h: MatrixType.create(3, 2, f16Type),\n  mat4x2f: MatrixType.create(4, 2, f32Type),\n  mat4x2h: MatrixType.create(4, 2, f16Type),\n  mat2x3f: MatrixType.create(2, 3, f32Type),\n  mat2x3h: MatrixType.create(2, 3, f16Type),\n  mat3x3f: MatrixType.create(3, 3, f32Type),\n  mat3x3h: MatrixType.create(3, 3, f16Type),\n  mat4x3f: MatrixType.create(4, 3, f32Type),\n  mat4x3h: MatrixType.create(4, 3, f16Type),\n  mat2x4f: MatrixType.create(2, 4, f32Type),\n  mat2x4h: MatrixType.create(2, 4, f16Type),\n  mat3x4f: MatrixType.create(3, 4, f32Type),\n  mat3x4h: MatrixType.create(3, 4, f16Type),\n  mat4x4f: MatrixType.create(4, 4, f32Type),\n  mat4x4h: MatrixType.create(4, 4, f16Type)\n};\n\n/** Type holds pre-declared Types along with helper constructor functions. */\nexport const Type = {\n  abstractInt: abstractIntType,\n  'abstract-int': abstractIntType,\n  i32: i32Type,\n  u32: u32Type,\n  i16: i16Type,\n  u16: u16Type,\n  i8: i8Type,\n  u8: u8Type,\n\n  abstractFloat: abstractFloatType,\n  'abstract-float': abstractFloatType,\n  f64: f64Type,\n  f32: f32Type,\n  f16: f16Type,\n\n  bool: boolType,\n\n  vec: (width, elementType) => VectorType.create(width, elementType),\n\n  // add vec types like vec2i, vec3f,\n  ...kVecTypes,\n  // add vec<> types like vec2<i32>, vec3<f32>\n  ...objectsToRecord(Object.values(kVecTypes)),\n\n  mat: (cols, rows, elementType) =>\n  MatrixType.create(cols, rows, elementType),\n\n  // add mat types like mat2x2f,\n  ...kMatTypes,\n  // add mat<> types like mat2x2<f32>,\n  ...objectsToRecord(Object.values(kVecTypes)),\n\n  array: (count, elementType) => ArrayType.create(count, elementType)\n};\n\n/**\n * @returns a type from a string\n * eg:\n *  'f32' -> Type.f32\n *  'vec4<f32>' -> Type.vec4f\n *  'vec3i' -> Type.vec3i\n */\nexport function stringToType(s) {\n  const t = Type[s];\n  assert(!!t);\n  return t;\n}\n\n/** @returns the ScalarType from the ScalarKind */\nexport function scalarType(kind) {\n  switch (kind) {\n    case 'abstract-float':\n      return Type.abstractFloat;\n    case 'f64':\n      return Type.f64;\n    case 'f32':\n      return Type.f32;\n    case 'f16':\n      return Type.f16;\n    case 'u32':\n      return Type.u32;\n    case 'u16':\n      return Type.u16;\n    case 'u8':\n      return Type.u8;\n    case 'abstract-int':\n      return Type.abstractInt;\n    case 'i32':\n      return Type.i32;\n    case 'i16':\n      return Type.i16;\n    case 'i8':\n      return Type.i8;\n    case 'bool':\n      return Type.bool;\n  }\n}\n\n/** @returns the number of scalar (element) types of the given Type */\nexport function numElementsOf(ty) {\n  if (ty instanceof ScalarType) {\n    return 1;\n  }\n  if (ty instanceof VectorType) {\n    return ty.width;\n  }\n  if (ty instanceof MatrixType) {\n    return ty.cols * ty.rows;\n  }\n  if (ty instanceof ArrayType) {\n    return ty.count;\n  }\n  throw new Error(`unhandled type ${ty}`);\n}\n\n/** @returns the scalar elements of the given Value */\nexport function elementsOf(value) {\n  if (isScalarValue(value)) {\n    return [value];\n  }\n  if (value instanceof VectorValue) {\n    return value.elements;\n  }\n  if (value instanceof MatrixValue) {\n    return value.elements.flat();\n  }\n  if (value instanceof ArrayValue) {\n    return value.elements;\n  }\n  throw new Error(`unhandled value ${value}`);\n}\n\n/** @returns the scalar elements of the given Value */\nexport function scalarElementsOf(value) {\n  if (isScalarValue(value)) {\n    return [value];\n  }\n  if (value instanceof VectorValue) {\n    return value.elements;\n  }\n  if (value instanceof MatrixValue) {\n    return value.elements.flat();\n  }\n  if (value instanceof ArrayValue) {\n    return value.elements.map((els) => scalarElementsOf(els)).flat();\n  }\n  throw new Error(`unhandled value ${value}`);\n}\n\n/** @returns the inner element type of the given type */\nexport function elementTypeOf(t) {\n  if (t instanceof ScalarType) {\n    return t;\n  }\n  return t.elementType;\n}\n\n/** @returns the scalar (element) type of the given Type */\nexport function scalarTypeOf(ty) {\n  if (ty instanceof ScalarType) {\n    return ty;\n  }\n  if (ty instanceof VectorType) {\n    return ty.elementType;\n  }\n  if (ty instanceof MatrixType) {\n    return ty.elementType;\n  }\n  if (ty instanceof ArrayType) {\n    return scalarTypeOf(ty.elementType);\n  }\n  throw new Error(`unhandled type ${ty}`);\n}\n\n/**\n * @returns the implicit concretized type of the given Type.\n * @param abstractIntToF32 if true, returns f32 for abstractInt else i32\n * Example: vec3<abstract-float> -> vec3<float>\n */\nexport function concreteTypeOf(ty, allowedScalarTypes) {\n  if (allowedScalarTypes && allowedScalarTypes.length > 0) {\n    // https://www.w3.org/TR/WGSL/#conversion-rank\n    switch (ty) {\n      case Type.abstractInt:\n        if (allowedScalarTypes.includes(Type.i32)) {\n          return Type.i32;\n        }\n        if (allowedScalarTypes.includes(Type.u32)) {\n          return Type.u32;\n        }\n      // fallthrough.\n      case Type.abstractFloat:\n        if (allowedScalarTypes.includes(Type.f32)) {\n          return Type.f32;\n        }\n        if (allowedScalarTypes.includes(Type.f16)) {\n          return Type.f16;\n        }\n        throw new Error(`no ${ty}`);\n    }\n  } else {\n    switch (ty) {\n      case Type.abstractInt:\n        return Type.i32;\n      case Type.abstractFloat:\n        return Type.f32;\n    }\n  }\n  if (ty instanceof ScalarType) {\n    return ty;\n  }\n  if (ty instanceof VectorType) {\n    return Type.vec(ty.width, concreteTypeOf(ty.elementType, allowedScalarTypes));\n  }\n  if (ty instanceof MatrixType) {\n    return Type.mat(\n      ty.cols,\n      ty.rows,\n      concreteTypeOf(ty.elementType, allowedScalarTypes)\n    );\n  }\n  if (ty instanceof ArrayType) {\n    return Type.array(ty.count, concreteTypeOf(ty.elementType, allowedScalarTypes));\n  }\n  throw new Error(`unhandled type ${ty}`);\n}\n\nfunction hex(sizeInBytes, bitsLow, bitsHigh) {\n  let hex = '';\n  workingDataU32[0] = bitsLow;\n  if (bitsHigh !== undefined) {\n    workingDataU32[1] = bitsHigh;\n  }\n  for (let i = 0; i < sizeInBytes; ++i) {\n    hex = workingDataU8[i].toString(16).padStart(2, '0') + hex;\n  }\n  return `0x${hex}`;\n}\n\nfunction withPoint(x) {\n  const str = `${x}`;\n  return str.indexOf('.') > 0 || str.indexOf('e') > 0 ? str : `${str}.0`;\n}\n\n/** Class that encapsulates a single abstract-int value. */\nexport class AbstractIntValue {\n  // The abstract-integer value\n  // The low 32 bits of the abstract-integer value.\n  // The high 32 bits of the abstract-integer value.\n  type = Type.abstractInt; // The type of the value.\n\n  constructor(value, bitsLow, bitsHigh) {\n    this.value = value;\n    this.bitsLow = bitsLow;\n    this.bitsHigh = bitsHigh;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.bitsLow;\n    workingDataU32[1] = this.bitsHigh;\n    for (let i = 0; i < 8; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    // WGSL parses negative numbers as a negated positive.\n    // This means '-9223372036854775808' parses as `-' & '9223372036854775808', so must be written as\n    // '(-9223372036854775807 - 1)' in WGSL, because '9223372036854775808' is not a valid AbstractInt.\n    if (this.value === -9223372036854775808n) {\n      return `(-9223372036854775807 - 1)`;\n    }\n    return `${this.value}`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(8, this.bitsLow, this.bitsHigh)})`;\n  }\n}\n\n/** Class that encapsulates a single abstract-float value. */\nexport class AbstractFloatValue {\n  // The f32 value\n  // The low 32 bits of the abstract-float value.\n  // The high 32 bits of the abstract-float value.\n  type = Type.abstractFloat; // The type of the value.\n\n  constructor(value, bitsLow, bitsHigh) {\n    this.value = value;\n    this.bitsLow = bitsLow;\n    this.bitsHigh = bitsHigh;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.bitsLow;\n    workingDataU32[1] = this.bitsHigh;\n    for (let i = 0; i < 8; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `${withPoint(this.value)}`;\n  }\n\n  toString() {\n    switch (this.value) {\n      case Infinity:\n      case -Infinity:\n        return Colors.bold(this.value.toString());\n      default:{\n          let str = this.value.toString();\n          str = str.indexOf('.') > 0 || str.indexOf('e') > 0 ? str : `${str}.0`;\n          return isSubnormalNumberF64(this.value.valueOf()) ?\n          `${Colors.bold(str)} (${hex(8, this.bitsLow, this.bitsHigh)} subnormal)` :\n          `${Colors.bold(str)} (${hex(8, this.bitsLow, this.bitsHigh)})`;\n        }\n    }\n  }\n}\n\n/** Class that encapsulates a single i32 value. */\nexport class I32Value {\n  // The i32 value\n  // The i32 value, bitcast to a 32-bit integer.\n  type = Type.i32; // The type of the value.\n\n  constructor(value, bits) {\n    this.value = value;\n    this.bits = bits;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.bits;\n    for (let i = 0; i < 4; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `i32(${this.value})`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(4, this.bits)})`;\n  }\n}\n\n/** Class that encapsulates a single u32 value. */\nexport class U32Value {\n  // The u32 value\n  type = Type.u32; // The type of the value.\n\n  constructor(value) {\n    this.value = value;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.value;\n    for (let i = 0; i < 4; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `${this.value}u`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(4, this.value)})`;\n  }\n}\n\n/**\n * Class that encapsulates a single i16 value.\n * @note type does not exist in WGSL yet\n */\nexport class I16Value {\n  // The i16 value\n  // The i16 value, bitcast to a 16-bit integer.\n  type = Type.i16; // The type of the value.\n\n  constructor(value, bits) {\n    this.value = value;\n    this.bits = bits;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU16[0] = this.bits;\n    for (let i = 0; i < 4; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `i16(${this.value})`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(2, this.bits)})`;\n  }\n}\n\n/**\n * Class that encapsulates a single u16 value.\n * @note type does not exist in WGSL yet\n */\nexport class U16Value {\n  // The u16 value\n  type = Type.u16; // The type of the value.\n\n  constructor(value) {\n    this.value = value;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU16[0] = this.value;\n    for (let i = 0; i < 2; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    assert(false, 'u16 is not a WGSL type');\n    return `u16(${this.value})`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(2, this.value)})`;\n  }\n}\n\n/**\n * Class that encapsulates a single i8 value.\n * @note type does not exist in WGSL yet\n */\nexport class I8Value {\n  // The i8 value\n  // The i8 value, bitcast to a 8-bit integer.\n  type = Type.i8; // The type of the value.\n\n  constructor(value, bits) {\n    this.value = value;\n    this.bits = bits;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU8[0] = this.bits;\n    for (let i = 0; i < 4; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `i8(${this.value})`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(2, this.bits)})`;\n  }\n}\n\n/**\n * Class that encapsulates a single u8 value.\n * @note type does not exist in WGSL yet\n */\nexport class U8Value {\n  // The u8 value\n  type = Type.u8; // The type of the value.\n\n  constructor(value) {\n    this.value = value;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU8[0] = this.value;\n    for (let i = 0; i < 2; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    assert(false, 'u8 is not a WGSL type');\n    return `u8(${this.value})`;\n  }\n\n  toString() {\n    return `${Colors.bold(this.value.toString())} (${hex(2, this.value)})`;\n  }\n}\n\n/**\n * Class that encapsulates a single f64 value\n * @note type does not exist in WGSL yet\n */\nexport class F64Value {\n  // The f32 value\n  // The low 32 bits of the abstract-float value.\n  // The high 32 bits of the abstract-float value.\n  type = Type.f64; // The type of the value.\n\n  constructor(value, bitsLow, bitsHigh) {\n    this.value = value;\n    this.bitsLow = bitsLow;\n    this.bitsHigh = bitsHigh;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.bitsLow;\n    workingDataU32[1] = this.bitsHigh;\n    for (let i = 0; i < 8; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    assert(false, 'f64 is not a WGSL type');\n    return `${withPoint(this.value)}`;\n  }\n\n  toString() {\n    switch (this.value) {\n      case Infinity:\n      case -Infinity:\n        return Colors.bold(this.value.toString());\n      default:{\n          let str = this.value.toString();\n          str = str.indexOf('.') > 0 || str.indexOf('e') > 0 ? str : `${str}.0`;\n          return isSubnormalNumberF64(this.value.valueOf()) ?\n          `${Colors.bold(str)} (${hex(8, this.bitsLow, this.bitsHigh)} subnormal)` :\n          `${Colors.bold(str)} (${hex(8, this.bitsLow, this.bitsHigh)})`;\n        }\n    }\n  }\n}\n\n/** Class that encapsulates a single f32 value. */\nexport class F32Value {\n  // The f32 value\n  // The f32 value, bitcast to a 32-bit integer.\n  type = Type.f32; // The type of the value.\n\n  constructor(value, bits) {\n    this.value = value;\n    this.bits = bits;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU32[0] = this.bits;\n    for (let i = 0; i < 4; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `${withPoint(this.value)}f`;\n  }\n\n  toString() {\n    switch (this.value) {\n      case Infinity:\n      case -Infinity:\n        return Colors.bold(this.value.toString());\n      default:{\n          let str = this.value.toString();\n          str = str.indexOf('.') > 0 || str.indexOf('e') > 0 ? str : `${str}.0`;\n          return isSubnormalNumberF32(this.value.valueOf()) ?\n          `${Colors.bold(str)} (${hex(4, this.bits)} subnormal)` :\n          `${Colors.bold(str)} (${hex(4, this.bits)})`;\n        }\n    }\n  }\n}\n\n/** Class that encapsulates a single f16 value. */\nexport class F16Value {\n  // The f16 value\n  // The f16 value, bitcast to a 16-bit integer.\n  type = Type.f16; // The type of the value.\n\n  constructor(value, bits) {\n    this.value = value;\n    this.bits = bits;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    workingDataU16[0] = this.bits;\n    for (let i = 0; i < 2; i++) {\n      buffer[offset + i] = workingDataU8[i];\n    }\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return `${withPoint(this.value)}h`;\n  }\n\n  toString() {\n    switch (this.value) {\n      case Infinity:\n      case -Infinity:\n        return Colors.bold(this.value.toString());\n      default:{\n          let str = this.value.toString();\n          str = str.indexOf('.') > 0 || str.indexOf('e') > 0 ? str : `${str}.0`;\n          return isSubnormalNumberF16(this.value.valueOf()) ?\n          `${Colors.bold(str)} (${hex(2, this.bits)} subnormal)` :\n          `${Colors.bold(str)} (${hex(2, this.bits)})`;\n        }\n    }\n  }\n}\n/** Class that encapsulates a single bool value. */\nexport class BoolValue {\n  // The bool value\n  type = Type.bool; // The type of the value.\n\n  constructor(value) {\n    this.value = value;\n  }\n\n  /**\n   * Copies the scalar value to the buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the offset in buffer, in units of `buffer`\n   */\n  copyTo(buffer, offset) {\n    buffer[offset] = this.value ? 1 : 0;\n  }\n\n  /** @returns the WGSL representation of this scalar value */\n  wgsl() {\n    return this.value.toString();\n  }\n\n  toString() {\n    return Colors.bold(this.value.toString());\n  }\n}\n\n/** Scalar represents all the scalar value types */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport function isScalarValue(value) {\n  return (\n    value instanceof AbstractIntValue ||\n    value instanceof AbstractFloatValue ||\n    value instanceof I32Value ||\n    value instanceof U32Value ||\n    value instanceof I16Value ||\n    value instanceof U16Value ||\n    value instanceof I8Value ||\n    value instanceof U8Value ||\n    value instanceof F64Value ||\n    value instanceof F32Value ||\n    value instanceof F16Value ||\n    value instanceof BoolValue);\n\n}\n\n/** Create an AbstractInt from a numeric value, a JS `bigint`. */\nexport function abstractInt(value) {\n  workingDataI64[0] = value;\n  return new AbstractIntValue(workingDataI64[0], workingDataU32[0], workingDataU32[1]);\n}\n\n/** Create an AbstractInt from a bit representation, a uint64 represented as a JS `bigint`. */\nexport function abstractIntBits(value) {\n  workingDataU64[0] = value;\n  return new AbstractIntValue(workingDataI64[0], workingDataU32[0], workingDataU32[1]);\n}\n\n/** Create an AbstractFloat from a numeric value, a JS `number`. */\nexport function abstractFloat(value) {\n  workingDataF64[0] = value;\n  return new AbstractFloatValue(workingDataF64[0], workingDataU32[0], workingDataU32[1]);\n}\n\n/** Create an i32 from a numeric value, a JS `number`. */\nexport function i32(value) {\n  workingDataI32[0] = value;\n  return new I32Value(workingDataI32[0], workingDataU32[0]);\n}\n\n/** Create an i32 from a bit representation, a uint32 represented as a JS `number`. */\nexport function i32Bits(bits) {\n  workingDataU32[0] = bits;\n  return new I32Value(workingDataI32[0], workingDataU32[0]);\n}\n\n/** Create a u32 from a numeric value, a JS `number`. */\nexport function u32(value) {\n  workingDataU32[0] = value;\n  return new U32Value(workingDataU32[0]);\n}\n\n/** Create a u32 from a bit representation, a uint32 represented as a JS `number`. */\nexport function u32Bits(bits) {\n  workingDataU32[0] = bits;\n  return new U32Value(workingDataU32[0]);\n}\n\n/** Create an i16 from a numeric value, a JS `number`. */\nexport function i16(value) {\n  workingDataI16[0] = value;\n  return new I16Value(workingDataI16[0], workingDataU16[0]);\n}\n\n/** Create a u16 from a numeric value, a JS `number`. */\nexport function u16(value) {\n  workingDataU16[0] = value;\n  return new U16Value(workingDataU16[0]);\n}\n\n/** Create an i8 from a numeric value, a JS `number`. */\nexport function i8(value) {\n  workingDataI8[0] = value;\n  return new I8Value(workingDataI8[0], workingDataU8[0]);\n}\n\n/** Create a u8 from a numeric value, a JS `number`. */\nexport function u8(value) {\n  workingDataU8[0] = value;\n  return new U8Value(workingDataU8[0]);\n}\n\n/** Create an f64 from a numeric value, a JS `number`. */\nexport function f64(value) {\n  workingDataF64[0] = value;\n  return new F64Value(workingDataF64[0], workingDataU32[0], workingDataU32[1]);\n}\n\n/** Create an f32 from a numeric value, a JS `number`. */\nexport function f32(value) {\n  workingDataF32[0] = value;\n  return new F32Value(workingDataF32[0], workingDataU32[0]);\n}\n\n/** Create an f32 from a bit representation, a uint32 represented as a JS `number`. */\nexport function f32Bits(bits) {\n  workingDataU32[0] = bits;\n  return new F32Value(workingDataF32[0], workingDataU32[0]);\n}\n\n/** Create an f16 from a numeric value, a JS `number`. */\nexport function f16(value) {\n  workingDataF16[0] = value;\n  return new F16Value(workingDataF16[0], workingDataU16[0]);\n}\n\n/** Create an f16 from a bit representation, a uint16 represented as a JS `number`. */\nexport function f16Bits(bits) {\n  workingDataU16[0] = bits;\n  return new F16Value(workingDataF16[0], workingDataU16[0]);\n}\n\n/** Create a boolean value. */\nexport function bool(value) {\n  return new BoolValue(value);\n}\n\n/** A 'true' literal value */\nexport const True = bool(true);\n\n/** A 'false' literal value */\nexport const False = bool(false);\n\n/**\n * Class that encapsulates a vector value.\n */\nexport class VectorValue {\n\n\n\n  constructor(elements) {\n    if (elements.length < 2 || elements.length > 4) {\n      throw new Error(`vector element count must be between 2 and 4, got ${elements.length}`);\n    }\n    for (let i = 1; i < elements.length; i++) {\n      const a = elements[0].type;\n      const b = elements[i].type;\n      if (a !== b) {\n        throw new Error(\n          `cannot mix vector element types. Found elements with types '${a}' and '${b}'`\n        );\n      }\n    }\n    this.elements = elements;\n    this.type = VectorType.create(elements.length, elements[0].type);\n  }\n\n  /**\n   * Copies the vector value to the Uint8Array buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the byte offset within buffer\n   */\n  copyTo(buffer, offset) {\n    for (const element of this.elements) {\n      element.copyTo(buffer, offset);\n      offset += this.type.elementType.size;\n    }\n  }\n\n  /**\n   * @returns the WGSL representation of this vector value\n   */\n  wgsl() {\n    const els = this.elements.map((v) => v.wgsl()).join(', ');\n    return `vec${this.type.width}(${els})`;\n  }\n\n  toString() {\n    return `${this.type}(${this.elements.map((e) => e.toString()).join(', ')})`;\n  }\n\n  get x() {\n    assert(0 < this.elements.length);\n    return this.elements[0];\n  }\n\n  get y() {\n    assert(1 < this.elements.length);\n    return this.elements[1];\n  }\n\n  get z() {\n    assert(2 < this.elements.length);\n    return this.elements[2];\n  }\n\n  get w() {\n    assert(3 < this.elements.length);\n    return this.elements[3];\n  }\n}\n\n/** Helper for constructing a new vector with the provided values */\nexport function vec(...elements) {\n  return new VectorValue(elements);\n}\n\n/** Helper for constructing a new two-element vector with the provided values */\nexport function vec2(x, y) {\n  return new VectorValue([x, y]);\n}\n\n/** Helper for constructing a new three-element vector with the provided values */\nexport function vec3(x, y, z) {\n  return new VectorValue([x, y, z]);\n}\n\n/** Helper for constructing a new four-element vector with the provided values */\nexport function vec4(x, y, z, w) {\n  return new VectorValue([x, y, z, w]);\n}\n\n/**\n * Helper for constructing Vectors from arrays of numbers\n *\n * @param v array of numbers to be converted, must contain 2, 3 or 4 elements\n * @param op function to convert from number to Scalar, e.g. 'f32`\n */\nexport function toVector(v, op) {\n  switch (v.length) {\n    case 2:\n      return vec2(op(v[0]), op(v[1]));\n    case 3:\n      return vec3(op(v[0]), op(v[1]), op(v[2]));\n    case 4:\n      return vec4(op(v[0]), op(v[1]), op(v[2]), op(v[3]));\n  }\n  unreachable(`input to 'toVector' must contain 2, 3, or 4 elements`);\n}\n\n/**\n * Class that encapsulates a Matrix value.\n */\nexport class MatrixValue {\n\n\n\n  constructor(elements) {\n    const num_cols = elements.length;\n    if (num_cols < 2 || num_cols > 4) {\n      throw new Error(`matrix cols count must be between 2 and 4, got ${num_cols}`);\n    }\n\n    const num_rows = elements[0].length;\n    if (!elements.every((c) => c.length === num_rows)) {\n      throw new Error(`cannot mix matrix column lengths`);\n    }\n\n    if (num_rows < 2 || num_rows > 4) {\n      throw new Error(`matrix rows count must be between 2 and 4, got ${num_rows}`);\n    }\n\n    const elem_type = elements[0][0].type;\n    if (!elements.every((c) => c.every((r) => objectEquals(r.type, elem_type)))) {\n      throw new Error(`cannot mix matrix element types`);\n    }\n\n    this.elements = elements;\n    this.type = MatrixType.create(num_cols, num_rows, elem_type);\n  }\n\n  /**\n   * Copies the matrix value to the Uint8Array buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the byte offset within buffer\n   */\n  copyTo(buffer, offset) {\n    for (let i = 0; i < this.type.cols; i++) {\n      for (let j = 0; j < this.type.rows; j++) {\n        this.elements[i][j].copyTo(buffer, offset);\n        offset += this.type.elementType.size;\n      }\n\n      // vec3 have one padding element, so need to skip in matrices\n      if (this.type.rows === 3) {\n        offset += this.type.elementType.size;\n      }\n    }\n  }\n\n  /**\n   * @returns the WGSL representation of this matrix value\n   */\n  wgsl() {\n    const els = this.elements.flatMap((c) => c.map((r) => r.wgsl())).join(', ');\n    return `mat${this.type.cols}x${this.type.rows}(${els})`;\n  }\n\n  toString() {\n    return `${this.type}(${this.elements.map((c) => c.join(', ')).join(', ')})`;\n  }\n}\n\n/**\n * Class that encapsulates an Array value.\n */\nexport class ArrayValue {\n\n\n\n  constructor(elements) {\n    const elem_type = elements[0].type;\n    if (!elements.every((c) => elements.every((r) => objectEquals(r.type, elem_type)))) {\n      throw new Error(`cannot mix array element types`);\n    }\n\n    this.elements = elements;\n    this.type = ArrayType.create(elements.length, elem_type);\n  }\n\n  /**\n   * Copies the array value to the Uint8Array buffer at the provided byte offset.\n   * @param buffer the destination buffer\n   * @param offset the byte offset within buffer\n   */\n  copyTo(buffer, offset) {\n    for (const element of this.elements) {\n      element.copyTo(buffer, offset);\n      offset += this.type.elementType.size;\n    }\n  }\n\n  /**\n   * @returns the WGSL representation of this array value\n   */\n  wgsl() {\n    const els = this.elements.map((r) => r.wgsl()).join(', ');\n    return isAbstractType(this.type.elementType) ? `array(${els})` : `${this.type}(${els})`;\n  }\n\n  toString() {\n    return this.wgsl();\n  }\n}\n\n/** Helper for constructing an ArrayValue with the provided values */\nexport function array(...elements) {\n  return new ArrayValue(elements);\n}\n\n/**\n * Helper for constructing Matrices from arrays of numbers\n *\n * @param m array of array of numbers to be converted, all Array of number must\n *          be of the same length. All Arrays must have 2, 3, or 4 elements.\n * @param op function to convert from number to Scalar, e.g. 'f32`\n */\nexport function toMatrix(m, op) {\n  const cols = m.length;\n  const rows = m[0].length;\n  const elements = [...Array(cols)].map((_) => [\n  ...Array(rows)]\n  );\n  for (let i = 0; i < cols; i++) {\n    for (let j = 0; j < rows; j++) {\n      elements[i][j] = op(m[i][j]);\n    }\n  }\n\n  return new MatrixValue(elements);\n}\n\n/** Value is a Scalar, Vector, Matrix or Array value. */var\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSerializedScalarKind = /*#__PURE__*/function (SerializedScalarKind) {SerializedScalarKind[SerializedScalarKind[\"AbstractFloat\"] = 0] = \"AbstractFloat\";SerializedScalarKind[SerializedScalarKind[\"F64\"] = 1] = \"F64\";SerializedScalarKind[SerializedScalarKind[\"F32\"] = 2] = \"F32\";SerializedScalarKind[SerializedScalarKind[\"F16\"] = 3] = \"F16\";SerializedScalarKind[SerializedScalarKind[\"U32\"] = 4] = \"U32\";SerializedScalarKind[SerializedScalarKind[\"U16\"] = 5] = \"U16\";SerializedScalarKind[SerializedScalarKind[\"U8\"] = 6] = \"U8\";SerializedScalarKind[SerializedScalarKind[\"I32\"] = 7] = \"I32\";SerializedScalarKind[SerializedScalarKind[\"I16\"] = 8] = \"I16\";SerializedScalarKind[SerializedScalarKind[\"I8\"] = 9] = \"I8\";SerializedScalarKind[SerializedScalarKind[\"Bool\"] = 10] = \"Bool\";SerializedScalarKind[SerializedScalarKind[\"AbstractInt\"] = 11] = \"AbstractInt\";return SerializedScalarKind;}(SerializedScalarKind || {});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** serializeScalarKind() serializes a ScalarKind to a BinaryStream */\nfunction serializeScalarKind(s, v) {\n  switch (v) {\n    case 'abstract-float':\n      s.writeU8(SerializedScalarKind.AbstractFloat);\n      return;\n    case 'f64':\n      s.writeU8(SerializedScalarKind.F64);\n      return;\n    case 'f32':\n      s.writeU8(SerializedScalarKind.F32);\n      return;\n    case 'f16':\n      s.writeU8(SerializedScalarKind.F16);\n      return;\n    case 'u32':\n      s.writeU8(SerializedScalarKind.U32);\n      return;\n    case 'u16':\n      s.writeU8(SerializedScalarKind.U16);\n      return;\n    case 'u8':\n      s.writeU8(SerializedScalarKind.U8);\n      return;\n    case 'abstract-int':\n      s.writeU8(SerializedScalarKind.AbstractInt);\n      return;\n    case 'i32':\n      s.writeU8(SerializedScalarKind.I32);\n      return;\n    case 'i16':\n      s.writeU8(SerializedScalarKind.I16);\n      return;\n    case 'i8':\n      s.writeU8(SerializedScalarKind.I8);\n      return;\n    case 'bool':\n      s.writeU8(SerializedScalarKind.Bool);\n      return;\n  }\n  unreachable(`Do not know what to write scalar kind = ${v}`);\n}\n\n/** deserializeScalarKind() deserializes a ScalarKind from a BinaryStream */\nfunction deserializeScalarKind(s) {\n  const kind = s.readU8();\n  switch (kind) {\n    case SerializedScalarKind.AbstractFloat:\n      return 'abstract-float';\n    case SerializedScalarKind.F64:\n      return 'f64';\n    case SerializedScalarKind.F32:\n      return 'f32';\n    case SerializedScalarKind.F16:\n      return 'f16';\n    case SerializedScalarKind.U32:\n      return 'u32';\n    case SerializedScalarKind.U16:\n      return 'u16';\n    case SerializedScalarKind.U8:\n      return 'u8';\n    case SerializedScalarKind.AbstractInt:\n      return 'abstract-int';\n    case SerializedScalarKind.I32:\n      return 'i32';\n    case SerializedScalarKind.I16:\n      return 'i16';\n    case SerializedScalarKind.I8:\n      return 'i8';\n    case SerializedScalarKind.Bool:\n      return 'bool';\n    default:\n      unreachable(`invalid serialized ScalarKind: ${kind}`);\n  }\n}var\n\nSerializedValueKind = /*#__PURE__*/function (SerializedValueKind) {SerializedValueKind[SerializedValueKind[\"Scalar\"] = 0] = \"Scalar\";SerializedValueKind[SerializedValueKind[\"Vector\"] = 1] = \"Vector\";SerializedValueKind[SerializedValueKind[\"Matrix\"] = 2] = \"Matrix\";return SerializedValueKind;}(SerializedValueKind || {});\n\n\n\n\n\n/** serializeValue() serializes a Value to a BinaryStream */\nexport function serializeValue(s, v) {\n  const serializeScalar = (scalar, kind) => {\n    switch (typeof scalar.value) {\n      case 'number':\n        switch (kind) {\n          case 'abstract-float':\n            s.writeF64(scalar.value);\n            return;\n          case 'f64':\n            s.writeF64(scalar.value);\n            return;\n          case 'f32':\n            s.writeF32(scalar.value);\n            return;\n          case 'f16':\n            s.writeF16(scalar.value);\n            return;\n          case 'u32':\n            s.writeU32(scalar.value);\n            return;\n          case 'u16':\n            s.writeU16(scalar.value);\n            return;\n          case 'u8':\n            s.writeU8(scalar.value);\n            return;\n          case 'i32':\n            s.writeI32(scalar.value);\n            return;\n          case 'i16':\n            s.writeI16(scalar.value);\n            return;\n          case 'i8':\n            s.writeI8(scalar.value);\n            return;\n        }\n        break;\n      case 'bigint':\n        switch (kind) {\n          case 'abstract-int':\n            s.writeI64(scalar.value);\n            return;\n        }\n        break;\n      case 'boolean':\n        switch (kind) {\n          case 'bool':\n            s.writeBool(scalar.value);\n            return;\n        }\n        break;\n    }\n  };\n\n  if (isScalarValue(v)) {\n    s.writeU8(SerializedValueKind.Scalar);\n    serializeScalarKind(s, v.type.kind);\n    serializeScalar(v, v.type.kind);\n    return;\n  }\n  if (v instanceof VectorValue) {\n    s.writeU8(SerializedValueKind.Vector);\n    serializeScalarKind(s, v.type.elementType.kind);\n    s.writeU8(v.type.width);\n    for (const element of v.elements) {\n      serializeScalar(element, v.type.elementType.kind);\n    }\n    return;\n  }\n  if (v instanceof MatrixValue) {\n    s.writeU8(SerializedValueKind.Matrix);\n    serializeScalarKind(s, v.type.elementType.kind);\n    s.writeU8(v.type.cols);\n    s.writeU8(v.type.rows);\n    for (const column of v.elements) {\n      for (const element of column) {\n        serializeScalar(element, v.type.elementType.kind);\n      }\n    }\n    return;\n  }\n\n  unreachable(`unhandled value type: ${v}`);\n}\n\n/** deserializeValue() deserializes a Value from a BinaryStream */\nexport function deserializeValue(s) {\n  const deserializeScalar = (kind) => {\n    switch (kind) {\n      case 'abstract-float':\n        return abstractFloat(s.readF64());\n      case 'f64':\n        return f64(s.readF64());\n      case 'f32':\n        return f32(s.readF32());\n      case 'f16':\n        return f16(s.readF16());\n      case 'u32':\n        return u32(s.readU32());\n      case 'u16':\n        return u16(s.readU16());\n      case 'u8':\n        return u8(s.readU8());\n      case 'abstract-int':\n        return abstractInt(s.readI64());\n      case 'i32':\n        return i32(s.readI32());\n      case 'i16':\n        return i16(s.readI16());\n      case 'i8':\n        return i8(s.readI8());\n      case 'bool':\n        return bool(s.readBool());\n    }\n  };\n  const valueKind = s.readU8();\n  const scalarKind = deserializeScalarKind(s);\n  switch (valueKind) {\n    case SerializedValueKind.Scalar:\n      return deserializeScalar(scalarKind);\n    case SerializedValueKind.Vector:{\n        const width = s.readU8();\n        const scalars = new Array(width);\n        for (let i = 0; i < width; i++) {\n          scalars[i] = deserializeScalar(scalarKind);\n        }\n        return new VectorValue(scalars);\n      }\n    case SerializedValueKind.Matrix:{\n        const numCols = s.readU8();\n        const numRows = s.readU8();\n        const columns = new Array(numCols);\n        for (let c = 0; c < numCols; c++) {\n          columns[c] = new Array(numRows);\n          for (let i = 0; i < numRows; i++) {\n            columns[c][i] = deserializeScalar(scalarKind);\n          }\n        }\n        return new MatrixValue(columns);\n      }\n    default:\n      unreachable(`invalid serialized value kind: ${valueKind}`);\n  }\n}\n\n/** @returns if the Value is a float scalar type */\nexport function isFloatValue(v) {\n  return isFloatType(v.type);\n}\n\n/**\n * @returns if `ty` is an abstract numeric type.\n * @note this does not consider composite types.\n * Use elementType() if you want to test the element type.\n */\nexport function isAbstractType(ty) {\n  if (ty instanceof ScalarType) {\n    return ty.kind === 'abstract-float' || ty.kind === 'abstract-int';\n  }\n  return false;\n}\n\n/**\n * @returns if `ty` is a floating point type.\n * @note this does not consider composite types.\n * Use elementType() if you want to test the element type.\n */\nexport function isFloatType(ty) {\n  if (ty instanceof ScalarType) {\n    return (\n      ty.kind === 'abstract-float' || ty.kind === 'f64' || ty.kind === 'f32' || ty.kind === 'f16');\n\n  }\n  return false;\n}\n\n/**\n * @returns if `ty` is an integer point type.\n * @note this does not consider composite types.\n * Use elementType() if you want to test the element type.\n */\nexport function isIntegerType(ty) {\n  if (ty instanceof ScalarType) {\n    return (\n      ty.kind === 'abstract-int' ||\n      ty.kind === 'i32' ||\n      ty.kind === 'i16' ||\n      ty.kind === 'i8' ||\n      ty.kind === 'u32' ||\n      ty.kind === 'u16' ||\n      ty.kind === 'u8');\n\n  }\n  return false;\n}\n\n/**\n * @returns if `ty` is a type convertible to floating point type.\n * @note this does not consider composite types.\n * Use elementType() if you want to test the element type.\n */\nexport function isConvertibleToFloatType(ty) {\n  if (ty instanceof ScalarType) {\n    return (\n      ty.kind === 'abstract-int' ||\n      ty.kind === 'abstract-float' ||\n      ty.kind === 'f64' ||\n      ty.kind === 'f32' ||\n      ty.kind === 'f16');\n\n  }\n  return false;\n}\n\n/**\n * @returns if `ty` is an unsigned type.\n */\nexport function isUnsignedType(ty) {\n  if (ty instanceof ScalarType) {\n    return ty.kind === 'u8' || ty.kind === 'u16' || ty.kind === 'u32';\n  } else {\n    return isUnsignedType(ty.elementType);\n  }\n}\n\n/** @returns true if an argument of type 'src' can be used for a parameter of type 'dst' */\nexport function isConvertible(src, dst) {\n  if (src === dst) {\n    return true;\n  }\n\n  const shapeOf = (ty) => {\n    if (ty instanceof ScalarType) {\n      return `scalar`;\n    }\n    if (ty instanceof VectorType) {\n      return `vec${ty.width}`;\n    }\n    if (ty instanceof MatrixType) {\n      return `mat${ty.cols}x${ty.rows}`;\n    }\n    if (ty instanceof ArrayType) {\n      return `array<${ty.count}>`;\n    }\n    unreachable(`unhandled type: ${ty}`);\n  };\n\n  if (shapeOf(src) !== shapeOf(dst)) {\n    return false;\n  }\n\n  const elSrc = scalarTypeOf(src);\n  const elDst = scalarTypeOf(dst);\n\n  switch (elSrc.kind) {\n    case 'abstract-float':\n      switch (elDst.kind) {\n        case 'abstract-float':\n        case 'f16':\n        case 'f32':\n        case 'f64':\n          return true;\n        default:\n          return false;\n      }\n    case 'abstract-int':\n      switch (elDst.kind) {\n        case 'abstract-int':\n        case 'abstract-float':\n        case 'f16':\n        case 'f32':\n        case 'f64':\n        case 'u16':\n        case 'u32':\n        case 'u8':\n        case 'i16':\n        case 'i32':\n        case 'i8':\n          return true;\n        default:\n          return false;\n      }\n    default:\n      return false;\n  }\n}\n\n/// All floating-point scalar types\nexport const kFloatScalars = [Type.abstractFloat, Type.f32, Type.f16];\n\n/// All concrete floating-point scalar types\nexport const kConcreteFloatScalars = [Type.f32, Type.f16];\n\n/// All floating-point vec2 types\nconst kFloatVec2 = [Type.vec2af, Type.vec2f, Type.vec2h];\n\n/// All floating-point vec3 types\nconst kFloatVec3 = [Type.vec3af, Type.vec3f, Type.vec3h];\n\n/// All floating-point vec4 types\nconst kFloatVec4 = [Type.vec4af, Type.vec4f, Type.vec4h];\n\nexport const kConcreteF32ScalarsAndVectors = [\nType.f32,\nType.vec2f,\nType.vec3f,\nType.vec4f];\n\n\n/// All f16 floating-point scalar and vector types\nexport const kConcreteF16ScalarsAndVectors = [\nType.f16,\nType.vec2h,\nType.vec3h,\nType.vec4h];\n\n\n/// All floating-point vector types\nexport const kFloatVectors = [...kFloatVec2, ...kFloatVec3, ...kFloatVec4];\n\n/// All floating-point scalar and vector types\nexport const kFloatScalarsAndVectors = [...kFloatScalars, ...kFloatVectors];\n\n// Abstract and concrete integer types are not grouped into an 'all' type,\n// because for many validation tests there is a valid conversion of\n// AbstractInt -> AbstractFloat, but not one for the concrete integers. Thus, an\n// AbstractInt literal will be a potentially valid input, whereas the concrete\n// integers will not be. For many tests the pattern is to have separate fixtures\n// for the things that might be valid and those that are never valid.\n\n/// All signed integer vector types\nexport const kConcreteSignedIntegerVectors = [Type.vec2i, Type.vec3i, Type.vec4i];\n\n/// All unsigned integer vector types\nexport const kConcreteUnsignedIntegerVectors = [Type.vec2u, Type.vec3u, Type.vec4u];\n\n/// All concrete integer vector types\nexport const kConcreteIntegerVectors = [\n...kConcreteSignedIntegerVectors,\n...kConcreteUnsignedIntegerVectors];\n\n\n/// All signed integer scalar and vector types\nexport const kConcreteSignedIntegerScalarsAndVectors = [\nType.i32,\n...kConcreteSignedIntegerVectors];\n\n\n/// All unsigned integer scalar and vector types\nexport const kConcreteUnsignedIntegerScalarsAndVectors = [\nType.u32,\n...kConcreteUnsignedIntegerVectors];\n\n\n/// All concrete integer scalar and vector types\nexport const kConcreteIntegerScalarsAndVectors = [\n...kConcreteSignedIntegerScalarsAndVectors,\n...kConcreteUnsignedIntegerScalarsAndVectors];\n\n\n/// All types which are convertable to floating-point scalar types.\nexport const kConvertableToFloatScalar = [Type.abstractInt, ...kFloatScalars];\n\n/// All types which are convertable to floating-point vector 2 types.\nexport const kConvertableToFloatVec2 = [Type.vec2ai, ...kFloatVec2];\n\n/// All types which are convertable to floating-point vector 3 types.\nexport const kConvertableToFloatVec3 = [Type.vec3ai, ...kFloatVec3];\n\n/// All types which are convertable to floating-point vector 4 types.\nexport const kConvertableToFloatVec4 = [Type.vec4ai, ...kFloatVec4];\n\n/// All the types which are convertable to floating-point vector types.\nexport const kConvertableToFloatVectors = [\nType.vec2ai,\nType.vec3ai,\nType.vec4ai,\n...kFloatVectors];\n\n\n/// All types which are convertable to floating-point scalar or vector types.\nexport const kConvertableToFloatScalarsAndVectors = [\nType.abstractInt,\n...kFloatScalars,\n...kConvertableToFloatVectors];\n\n\n/// All the numeric scalar and vector types.\nexport const kAllNumericScalarsAndVectors = [\n...kConvertableToFloatScalarsAndVectors,\n...kConcreteIntegerScalarsAndVectors];\n\n\n/// All the concrete integer and floating point scalars and vectors.\nexport const kConcreteNumericScalarsAndVectors = [\n...kConcreteIntegerScalarsAndVectors,\n...kConcreteF16ScalarsAndVectors,\n...kConcreteF32ScalarsAndVectors];\n\n\n/// All boolean types.\nexport const kAllBoolScalarsAndVectors = [Type.bool, Type.vec2b, Type.vec3b, Type.vec4b];\n\n/// All the scalar and vector types.\nexport const kAllScalarsAndVectors = [\n...kAllBoolScalarsAndVectors,\n...kAllNumericScalarsAndVectors];\n\n\n/// All the vector types\nexport const kAllVecTypes = Object.values(kVecTypes);\n\n/// All the matrix types\nexport const kAllMatrices = Object.values(kMatTypes);"],"mappings":"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","ignoreList":[]}