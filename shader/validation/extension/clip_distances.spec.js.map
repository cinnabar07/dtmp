{"version":3,"file":"clip_distances.spec.js","names":["description","makeTestGroup","ShaderValidationTest","g","test","desc","params","u","combine","beforeAllSubcases","t","requireExtension","selectDeviceOrSkipTestCase","requiredFeatures","fn","enableExtension","expectCompileResult"],"sources":["../../../../../src/webgpu/shader/validation/extension/clip_distances.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nValidation tests for the clip_distances extension\n`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ng.test('use_clip_distances_requires_extension_enabled').\ndesc(\n  `Checks that the clip_distances built-in variable is only allowed with the WGSL extension\n     clip_distances enabled in shader and the WebGPU extension clip-distances supported on the\n     device.`\n).\nparams((u) =>\nu.combine('requireExtension', [true, false]).combine('enableExtension', [true, false])\n).\nbeforeAllSubcases((t) => {\n  if (t.params.requireExtension) {\n    t.selectDeviceOrSkipTestCase({ requiredFeatures: ['clip-distances'] });\n  }\n}).\nfn((t) => {\n  const { requireExtension, enableExtension } = t.params;\n\n  t.expectCompileResult(\n    requireExtension && enableExtension,\n    `\n        ${enableExtension ? 'enable clip_distances;' : ''}\n        struct VertexOut {\n          @builtin(clip_distances) my_clip_distances : array<f32, 1>,\n          @builtin(position) my_position : vec4f,\n        }\n        @vertex fn main() -> VertexOut {\n          var output : VertexOut;\n          output.my_clip_distances[0] = 1.0;\n          output.my_position = vec4f(0.0, 0.0, 0.0, 1.0);\n          return output;\n        }\n    `\n  );\n});"],"mappings":";;IAAA;AACA;AACA,GAAG,OAAO,MAAMA,WAAW,GAAG;AAC9B;AACA,CAAC,CAAC,SAASC,aAAa,QAAQ,4CAA4C,CAC5E,SAASC,oBAAoB,QAAQ,8BAA8B;AAEnE,OAAO,MAAMC,CAAC,GAAGF,aAAa,CAACC,oBAAoB,CAAC;;AAEpDC,CAAC,CAACC,IAAI,CAAC,+CAA+C,CAAC;AACvDC,IAAI;EACF;AACF;AACA;AACA,CAAC;AACDC,MAAM,CAAC,CAACC,CAAC;AACTA,CAAC,CAACC,OAAO,CAAC,kBAAkB,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAACA,OAAO,CAAC,iBAAiB,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;AACrF,CAAC;AACDC,iBAAiB,CAAC,CAACC,CAAC,KAAK;EACvB,IAAIA,CAAC,CAACJ,MAAM,CAACK,gBAAgB,EAAE;IAC7BD,CAAC,CAACE,0BAA0B,CAAC,EAAEC,gBAAgB,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACxE;AACF,CAAC,CAAC;AACFC,EAAE,CAAC,CAACJ,CAAC,KAAK;EACR,MAAM,EAAEC,gBAAgB,EAAEI,eAAe,CAAC,CAAC,GAAGL,CAAC,CAACJ,MAAM;;EAEtDI,CAAC,CAACM,mBAAmB;IACnBL,gBAAgB,IAAII,eAAe;IACnC;AACJ,UAAUA,eAAe,GAAG,wBAAwB,GAAG,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,CAAC;AACH,CAAC,CAAC","ignoreList":[]}