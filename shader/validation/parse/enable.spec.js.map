{"version":3,"file":"enable.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kCases","f16","code","pass","decl_before","decl_after","requires_before","diagnostic_before","const_assert_before","const_assert_after","embedded_comment","parens","multi_line","multiple_enables","multiple_entries","unknown","subgroups","subgroups_f16_fail","subgroups_f16_pass1","subgroups_f16_pass2","test","desc","beforeAllSubcases","t","features","name","params","case","includes","push","selectDeviceOrSkipTestCase","u","combine","fn","skipIfLanguageFeatureNotSupported","c","expectCompileResult"],"sources":["../../../../../src/webgpu/shader/validation/parse/enable.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `Parser validation tests for enable`;import { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\nconst kCases = {\n  f16: { code: `enable f16;`, pass: true },\n  decl_before: {\n    code: `alias i = i32;\nenable f16;`,\n    pass: false\n  },\n  decl_after: {\n    code: `enable f16;\nalias i = i32;`,\n    pass: true\n  },\n  requires_before: {\n    code: `requires readonly_and_readwrite_storage_textures;\nenable f16;`,\n    pass: true\n  },\n  diagnostic_before: {\n    code: `diagnostic(info, derivative_uniformity);\nenable f16;`,\n    pass: true\n  },\n  const_assert_before: {\n    code: `const_assert 1 == 1;\nenable f16;`,\n    pass: false\n  },\n  const_assert_after: {\n    code: `enable f16;\nconst_assert 1 == 1;`,\n    pass: true\n  },\n  embedded_comment: {\n    code: `/* comment\n\n*/enable f16;`,\n    pass: true\n  },\n  parens: {\n    code: `enable(f16);`,\n    pass: false\n  },\n  multi_line: {\n    code: `enable\nf16;`,\n    pass: true\n  },\n  multiple_enables: {\n    code: `enable f16;\nenable f16;`,\n    pass: true\n  },\n  multiple_entries: {\n    code: `enable f16, f16, f16;`,\n    pass: true\n  },\n  unknown: {\n    code: `enable unknown;`,\n    pass: false\n  },\n  subgroups: {\n    code: `enable subgroups;`,\n    pass: true\n  },\n  subgroups_f16_fail: {\n    code: `enable subgroups_f16;`,\n    pass: false\n  },\n  subgroups_f16_pass1: {\n    code: `\n    enable subgroups_f16;\n    enable subgroups;\n    enable f16;`,\n    pass: true\n  },\n  subgroups_f16_pass2: {\n    code: `\n    enable f16;\n    enable subgroups;\n    enable subgroups_f16;`,\n    pass: true\n  }\n};\n\ng.test('enable').\ndesc(`Tests that enables are validated correctly`).\nbeforeAllSubcases((t) => {\n  const features = [];\n  const name = t.params.case;\n  if (name.includes('subgroups_f16')) {\n    features.push('subgroups');\n    features.push('subgroups-f16');\n    features.push('shader-f16');\n  } else if (name.includes('subgroups')) {\n    features.push('subgroups');\n  } else {\n    features.push('shader-f16');\n  }\n  t.selectDeviceOrSkipTestCase(features);\n}).\nparams((u) => u.combine('case', keysOf(kCases))).\nfn((t) => {\n  if (t.params.case === 'requires_before') {\n    t.skipIfLanguageFeatureNotSupported('readonly_and_readwrite_storage_textures');\n  }\n\n  const c = kCases[t.params.case];\n  t.expectCompileResult(c.pass, c.code);\n});"],"mappings":"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","ignoreList":[]}