{"version":3,"file":"subgroupShuffle.spec.js","names":["description","makeTestGroup","keysOf","objectsToRecord","Type","elementTypeOf","kAllScalarsAndVectors","isConvertible","ShaderValidationTest","g","kOps","test","desc","params","u","combine","beforeAllSubcases","t","selectDeviceOrSkipTestCase","fn","wgsl","enable","op","expectCompileResult","kStages","constant","override","runtime","code","stage","filter","value","beginSubcases","arg","type","value_ok","compile_expect","pipeline_expect","constants","expectPipelineResult","expectedResult","reference","statements","must_use","kTypes","features","requiresF16","push","enables","create","eleType","bool","retType","abstractInt","abstractFloat","paramType","toString","eleParamType","eleRetType","expect","i32","f32","u32","compute","fragment","vertex","entry"],"sources":["../../../../../../../src/webgpu/shader/validation/expression/call/builtin/subgroupShuffle.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/export const description = `\nValidation tests for subgroupShuffle, subgroupShuffleXor, subgroupShuffleUp, and subgroupShuffleDown.\n`;import { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { keysOf, objectsToRecord } from '../../../../../../common/util/data_tables.js';\nimport {\n  Type,\n  elementTypeOf,\n  kAllScalarsAndVectors,\n  isConvertible } from\n'../../../../../util/conversion.js';\nimport { ShaderValidationTest } from '../../../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\nconst kOps = [\n'subgroupShuffle',\n'subgroupShuffleXor',\n'subgroupShuffleUp',\n'subgroupShuffleDown'];\n\n\ng.test('requires_subgroups').\ndesc('Validates that the subgroups feature is required').\nparams((u) => u.combine('enable', [false, true]).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  t.selectDeviceOrSkipTestCase('subgroups');\n}).\nfn((t) => {\n  const wgsl = `\n${t.params.enable ? 'enable subgroups;' : ''}\nfn foo() {\n  _ = ${t.params.op}(0, 0);\n}`;\n\n  t.expectCompileResult(t.params.enable, wgsl);\n});\n\nconst kStages = {\n  constant: (op) => {\n    return `\nenable subgroups;\n@compute @workgroup_size(16)\nfn main() {\n  const x = ${op}(0, 0);\n}`;\n  },\n  override: (op) => {\n    return `\nenable subgroups\noverride o = ${op}(0, 0);`;\n  },\n  runtime: (op) => {\n    return `\nenable subgroups;\n@compute @workgroup_size(16)\nfn main() {\n  let x = ${op}(0, 0);\n}`;\n  }\n};\n\ng.test('early_eval').\ndesc('Ensures the builtin is not able to be compile time evaluated').\nparams((u) => u.combine('stage', keysOf(kStages)).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  t.selectDeviceOrSkipTestCase('subgroups');\n}).\nfn((t) => {\n  const code = kStages[t.params.stage](t.params.op);\n  t.expectCompileResult(t.params.stage === 'runtime', code);\n});\n\ng.test('param2_early_eval').\ndesc('Ensures id/delta/mask parameters must be in the range [0, 128) for const and override').\nparams((u) =>\nu.\ncombine('op', kOps).\ncombine('value', [-1, 0, 127, 128]).\nfilter((t) => {\n  // Only subgroupShuffle supports an i32 parameter.\n  return t.op === 'subgroupShuffle' || t.value !== -1;\n}).\nbeginSubcases().\ncombine('stage', ['constant', 'override', 'runtime'])\n).\nbeforeAllSubcases((t) => {\n  t.selectDeviceOrSkipTestCase('subgroups');\n}).\nfn((t) => {\n  let arg = `const_param`;\n  if (t.params.stage === 'override') {\n    arg = `override_param`;\n  } else if (t.params.stage === 'runtime') {\n    arg = `let_param`;\n  }\n\n  const type = t.params.value === -1 ? `i32` : `u32`;\n\n  const wgsl = `\nenable subgroups;\n\nconst const_param : ${type} = ${t.params.value};\noverride override_param : ${type} = 0;\n\nfn foo() {\n  let let_param : ${type} = ${t.params.value};\n  _ = ${t.params.op}(0, ${arg});\n}`;\n\n  const value_ok = t.params.value >= 0 && t.params.value < 128;\n  const compile_expect = value_ok || t.params.stage !== 'constant';\n  const pipeline_expect = value_ok || t.params.stage !== 'override';\n  t.expectCompileResult(compile_expect, wgsl);\n  if (compile_expect) {\n    const constants = {};\n    constants['override_param'] = t.params.value;\n    t.expectPipelineResult({\n      expectedResult: pipeline_expect,\n      code: wgsl,\n      constants,\n      reference: [],\n      statements: ['foo();']\n    });\n  }\n});\n\ng.test('must_use').\ndesc('Tests that the builtin has the @must_use attribute').\nparams((u) => u.combine('must_use', [true, false]).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  t.selectDeviceOrSkipTestCase('subgroups');\n}).\nfn((t) => {\n  const wgsl = `\nenable subgroups;\n@compute @workgroup_size(16)\nfn main() {\n  ${t.params.must_use ? '_ = ' : ''}${t.params.op}(0, 0);\n}`;\n\n  t.expectCompileResult(t.params.must_use, wgsl);\n});\n\nconst kTypes = objectsToRecord(kAllScalarsAndVectors);\n\ng.test('data_type').\ndesc('Validates data parameter type').\nparams((u) => u.combine('type', keysOf(kTypes)).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  const features = ['subgroups'];\n  const type = kTypes[t.params.type];\n  if (type.requiresF16()) {\n    features.push('shader-f16');\n    features.push('subgroups-f16');\n  }\n  t.selectDeviceOrSkipTestCase(features);\n}).\nfn((t) => {\n  const type = kTypes[t.params.type];\n  let enables = `enable subgroups;\\n`;\n  if (type.requiresF16()) {\n    enables += `enable f16;\\nenable subgroups_f16;`;\n  }\n  const wgsl = `\n${enables}\n@compute @workgroup_size(1)\nfn main() {\n  _ = ${t.params.op}(${type.create(0).wgsl()}, 0);\n}`;\n\n  const eleType = elementTypeOf(type);\n  t.expectCompileResult(eleType !== Type.bool, wgsl);\n});\n\ng.test('return_type').\ndesc('Validates return type').\nparams((u) =>\nu.\ncombine('retType', keysOf(kTypes)).\nfilter((t) => {\n  const type = kTypes[t.retType];\n  const eleType = elementTypeOf(type);\n  return eleType !== Type.abstractInt && eleType !== Type.abstractFloat;\n}).\ncombine('op', kOps).\ncombine('paramType', keysOf(kTypes))\n).\nbeforeAllSubcases((t) => {\n  const features = ['subgroups'];\n  const retType = kTypes[t.params.retType];\n  const paramType = kTypes[t.params.paramType];\n  if (retType.requiresF16() || paramType.requiresF16()) {\n    features.push('shader-f16');\n    features.push('subgroups-f16');\n  }\n  t.selectDeviceOrSkipTestCase(features);\n}).\nfn((t) => {\n  const retType = kTypes[t.params.retType];\n  const paramType = kTypes[t.params.paramType];\n  let enables = `enable subgroups;\\n`;\n  if (retType.requiresF16() || paramType.requiresF16()) {\n    enables += `enable f16;\\nenable subgroups_f16;`;\n  }\n  const wgsl = `\n${enables}\n@compute @workgroup_size(1)\nfn main() {\n  let res : ${retType.toString()} = ${t.params.op}(${paramType.create(0).wgsl()}, 0);\n}`;\n\n  // Can't just use isConvertible since functions must concretize the parameter\n  // type before examining the whole statement.\n  const eleParamType = elementTypeOf(paramType);\n  const eleRetType = elementTypeOf(retType);\n  let expect = paramType === retType && eleRetType !== Type.bool;\n  if (eleParamType === Type.abstractInt) {\n    expect = eleRetType === Type.i32 && isConvertible(paramType, retType);\n  } else if (eleParamType === Type.abstractFloat) {\n    expect = eleRetType === Type.f32 && isConvertible(paramType, retType);\n  }\n  t.expectCompileResult(expect, wgsl);\n});\n\ng.test('param2_type').\ndesc('Validates shuffle parameter type').\nparams((u) => u.combine('type', keysOf(kTypes)).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  const features = ['subgroups'];\n  const type = kTypes[t.params.type];\n  if (type.requiresF16()) {\n    features.push('shader-f16');\n    features.push('subgroups-f16');\n  }\n  t.selectDeviceOrSkipTestCase(features);\n}).\nfn((t) => {\n  const type = kTypes[t.params.type];\n  let enables = `enable subgroups;\\n`;\n  if (type.requiresF16()) {\n    enables += `enable f16;\\nenable subgroups_f16;`;\n  }\n  const wgsl = `\n${enables}\n@compute @workgroup_size(1)\nfn main() {\n  _ = ${t.params.op}(0, ${type.create(0).wgsl()});\n}`;\n\n  const expect =\n  isConvertible(type, Type.u32) || type === Type.i32 && t.params.op === 'subgroupShuffle';\n  t.expectCompileResult(expect, wgsl);\n});\n\ng.test('stage').\ndesc('validates builtin is only usable in the correct stages').\nparams((u) => u.combine('stage', ['compute', 'fragment', 'vertex']).combine('op', kOps)).\nbeforeAllSubcases((t) => {\n  t.selectDeviceOrSkipTestCase('subgroups');\n}).\nfn((t) => {\n  const compute = `\n@compute @workgroup_size(1)\nfn main() {\n  foo();\n}`;\n\n  const fragment = `\n@fragment\nfn main() {\n  foo();\n}`;\n\n  const vertex = `\n@vertex\nfn main() -> @builtin(position) vec4f {\n  foo();\n  return vec4f();\n}`;\n\n  const entry = { compute, fragment, vertex }[t.params.stage];\n  const wgsl = `\nenable subgroups;\nfn foo() {\n  _ = ${t.params.op}(0, 0);\n}\n\n${entry}\n`;\n\n  t.expectCompileResult(t.params.stage !== 'vertex', wgsl);\n});"],"mappings":"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","ignoreList":[]}