{"version":3,"file":"pack2x16float.spec.js","names":["kFn","description","makeTestGroup","keysOf","kValue","f32","vec2","ShaderValidationTest","validateConstOrOverrideBuiltinEval","kArgCases","good","good_vec2_abstract_float","bad_0args","bad_2args","bad_abstract_int","bad_i32","bad_f32","bad_u32","bad_abstract_float","bad_bool","bad_vec4f","bad_vec4u","bad_vec4i","bad_vec4b","bad_vec3f","bad_array","bad_struct","kGoodArgs","kReturnType","g","test","desc","params","u","combine","fn","t","expectCompileResult","arg","type","use_it","use","f16","positive","max","negative","min","constantOrOverrideStage","value0","value1","success"],"sources":["../../../../../../../src/webgpu/shader/validation/expression/call/builtin/pack2x16float.spec.ts"],"sourcesContent":["/**\n* AUTO-GENERATED - DO NOT EDIT. Source: https://github.com/gpuweb/cts\n**/const kFn = 'pack2x16float';export const description = `Validate ${kFn}`;\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../../../common/util/data_tables.js';\nimport { kValue } from '../../../../../../webgpu/util/constants.js';\nimport { f32, vec2 } from '../../../../../util/conversion.js';\nimport { ShaderValidationTest } from '../../../shader_validation_test.js';\n\nimport { validateConstOrOverrideBuiltinEval } from './const_override_validation.js';\n\nconst kArgCases = {\n  good: '(vec2f())',\n  good_vec2_abstract_float: '(vec2(0.1))',\n  bad_0args: '()',\n  bad_2args: '(vec2f(),vec2f())',\n  bad_abstract_int: '(1)',\n  bad_i32: '(1i)',\n  bad_f32: '(1f)',\n  bad_u32: '(1u)',\n  bad_abstract_float: '(0.1)',\n  bad_bool: '(false)',\n  bad_vec4f: '(vec4f())',\n  bad_vec4u: '(vec4u())',\n  bad_vec4i: '(vec4i())',\n  bad_vec4b: '(vec4<bool>())',\n  bad_vec3f: '(vec3f())',\n  bad_array: '(array(1.0, 2.0, 3.0, 4.0))',\n  bad_struct: '(modf(1.1))'\n};\nconst kGoodArgs = kArgCases['good'];\nconst kReturnType = 'u32';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ng.test('args').\ndesc(`Test compilation failure of ${kFn} with various numbers of and types of arguments`).\nparams((u) => u.combine('arg', keysOf(kArgCases))).\nfn((t) => {\n  t.expectCompileResult(\n    t.params.arg === 'good' || t.params.arg === 'good_vec2_abstract_float',\n    `const c = ${kFn}${kArgCases[t.params.arg]};`\n  );\n});\n\ng.test('return').\ndesc(`Test ${kFn} return value type`).\nparams((u) => u.combine('type', ['u32', 'i32', 'f32', 'bool', 'vec2u'])).\nfn((t) => {\n  t.expectCompileResult(\n    t.params.type === kReturnType,\n    `const c: ${t.params.type} = ${kFn}${kGoodArgs};`\n  );\n});\n\ng.test('must_use').\ndesc(`Result of ${kFn} must be used`).\nparams((u) => u.combine('use', [true, false])).\nfn((t) => {\n  const use_it = t.params.use ? '_ = ' : '';\n  t.expectCompileResult(t.params.use, `fn f() { ${use_it}${kFn}${kGoodArgs}; }`);\n});\n\ng.test('value_range').\ndesc(\n  `Test failures of ${kFn} when at least one of the input value is out of the range of binary16`\n).\nparams((u) =>\nu.\ncombine('constantOrOverrideStage', ['constant', 'override']).\ncombine('value0', [\nkValue.f16.positive.max,\nkValue.f16.positive.max + 1,\nkValue.f16.negative.min,\nkValue.f16.negative.min - 1]\n).\ncombine('value1', [\nkValue.f16.positive.max,\nkValue.f16.positive.max + 1,\nkValue.f16.negative.min,\nkValue.f16.negative.min - 1]\n)\n).\nfn((t) => {\n  const { constantOrOverrideStage, value0, value1 } = t.params;\n\n  const success =\n  value0 >= kValue.f16.negative.min &&\n  value0 <= kValue.f16.positive.max &&\n  value1 >= kValue.f16.negative.min &&\n  value1 <= kValue.f16.positive.max;\n\n  validateConstOrOverrideBuiltinEval(\n    t,\n    kFn,\n    success,\n    [vec2(f32(value0), f32(value1))],\n    constantOrOverrideStage\n  );\n});"],"mappings":"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","ignoreList":[]}